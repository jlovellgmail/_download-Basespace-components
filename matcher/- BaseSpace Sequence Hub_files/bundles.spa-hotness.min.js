/**
* bootstrap.js v3.0.0 by @fat and @mdo
* Copyright 2013 Twitter Inc.
* http://www.apache.org/licenses/LICENSE-2.0
*/
if (!jQuery) throw new Error("Bootstrap requires jQuery"); +function (a) { "use strict"; function b() { var a = document.createElement("bootstrap"), b = { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd otransitionend", transition: "transitionend" }; for (var c in b) if (void 0 !== a.style[c]) return { end: b[c] } } a.fn.emulateTransitionEnd = function (b) { var c = !1, d = this; a(this).one(a.support.transition.end, function () { c = !0 }); var e = function () { c || a(d).trigger(a.support.transition.end) }; return setTimeout(e, b), this }, a(function () { a.support.transition = b() }) }(window.jQuery), +function (a) { "use strict"; var b = '[data-dismiss="alert"]', c = function (c) { a(c).on("click", b, this.close) }; c.prototype.close = function (b) { function c() { f.trigger("closed.bs.alert").remove() } var d = a(this), e = d.attr("data-target"); e || (e = d.attr("href"), e = e && e.replace(/.*(?=#[^\s]*$)/, "")); var f = a(e); b && b.preventDefault(), f.length || (f = d.hasClass("alert") ? d : d.parent()), f.trigger(b = a.Event("close.bs.alert")), b.isDefaultPrevented() || (f.removeClass("in"), a.support.transition && f.hasClass("fade") ? f.one(a.support.transition.end, c).emulateTransitionEnd(150) : c()) }; var d = a.fn.alert; a.fn.alert = function (b) { return this.each(function () { var d = a(this), e = d.data("bs.alert"); e || d.data("bs.alert", e = new c(this)), "string" == typeof b && e[b].call(d) }) }, a.fn.alert.Constructor = c, a.fn.alert.noConflict = function () { return a.fn.alert = d, this }, a(document).on("click.bs.alert.data-api", b, c.prototype.close) }(window.jQuery), +function (a) { "use strict"; var b = function (c, d) { this.$element = a(c), this.options = a.extend({}, b.DEFAULTS, d) }; b.DEFAULTS = { loadingText: "loading..." }, b.prototype.setState = function (a) { var b = "disabled", c = this.$element, d = c.is("input") ? "val" : "html", e = c.data(); a += "Text", e.resetText || c.data("resetText", c[d]()), c[d](e[a] || this.options[a]), setTimeout(function () { "loadingText" == a ? c.addClass(b).attr(b, b) : c.removeClass(b).removeAttr(b) }, 0) }, b.prototype.toggle = function () { var a = this.$element.closest('[data-toggle="buttons"]'); if (a.length) { var b = this.$element.find("input").prop("checked", !this.$element.hasClass("active")).trigger("change"); "radio" === b.prop("type") && a.find(".active").removeClass("active") } this.$element.toggleClass("active") }; var c = a.fn.button; a.fn.button = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.button"), f = "object" == typeof c && c; e || d.data("bs.button", e = new b(this, f)), "toggle" == c ? e.toggle() : c && e.setState(c) }) }, a.fn.button.Constructor = b, a.fn.button.noConflict = function () { return a.fn.button = c, this }, a(document).on("click.bs.button.data-api", "[data-toggle^=button]", function (b) { var c = a(b.target); c.hasClass("btn") || (c = c.closest(".btn")), c.button("toggle"), b.preventDefault() }) }(window.jQuery), +function (a) { "use strict"; var b = function (b, c) { this.$element = a(b), this.$indicators = this.$element.find(".carousel-indicators"), this.options = c, this.paused = this.sliding = this.interval = this.$active = this.$items = null, "hover" == this.options.pause && this.$element.on("mouseenter", a.proxy(this.pause, this)).on("mouseleave", a.proxy(this.cycle, this)) }; b.DEFAULTS = { interval: 5e3, pause: "hover", wrap: !0 }, b.prototype.cycle = function (b) { return b || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)), this }, b.prototype.getActiveIndex = function () { return this.$active = this.$element.find(".item.active"), this.$items = this.$active.parent().children(), this.$items.index(this.$active) }, b.prototype.to = function (b) { var c = this, d = this.getActiveIndex(); return b > this.$items.length - 1 || 0 > b ? void 0 : this.sliding ? this.$element.one("slid", function () { c.to(b) }) : d == b ? this.pause().cycle() : this.slide(b > d ? "next" : "prev", a(this.$items[b])) }, b.prototype.pause = function (b) { return b || (this.paused = !0), this.$element.find(".next, .prev").length && a.support.transition.end && (this.$element.trigger(a.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this }, b.prototype.next = function () { return this.sliding ? void 0 : this.slide("next") }, b.prototype.prev = function () { return this.sliding ? void 0 : this.slide("prev") }, b.prototype.slide = function (b, c) { var d = this.$element.find(".item.active"), e = c || d[b](), f = this.interval, g = "next" == b ? "left" : "right", h = "next" == b ? "first" : "last", i = this; if (!e.length) { if (!this.options.wrap) return; e = this.$element.find(".item")[h]() } this.sliding = !0, f && this.pause(); var j = a.Event("slide.bs.carousel", { relatedTarget: e[0], direction: g }); if (!e.hasClass("active")) { if (this.$indicators.length && (this.$indicators.find(".active").removeClass("active"), this.$element.one("slid", function () { var b = a(i.$indicators.children()[i.getActiveIndex()]); b && b.addClass("active") })), a.support.transition && this.$element.hasClass("slide")) { if (this.$element.trigger(j), j.isDefaultPrevented()) return; e.addClass(b), e[0].offsetWidth, d.addClass(g), e.addClass(g), d.one(a.support.transition.end, function () { e.removeClass([b, g].join(" ")).addClass("active"), d.removeClass(["active", g].join(" ")), i.sliding = !1, setTimeout(function () { i.$element.trigger("slid") }, 0) }).emulateTransitionEnd(600) } else { if (this.$element.trigger(j), j.isDefaultPrevented()) return; d.removeClass("active"), e.addClass("active"), this.sliding = !1, this.$element.trigger("slid") } return f && this.cycle(), this } }; var c = a.fn.carousel; a.fn.carousel = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.carousel"), f = a.extend({}, b.DEFAULTS, d.data(), "object" == typeof c && c), g = "string" == typeof c ? c : f.slide; e || d.data("bs.carousel", e = new b(this, f)), "number" == typeof c ? e.to(c) : g ? e[g]() : f.interval && e.pause().cycle() }) }, a.fn.carousel.Constructor = b, a.fn.carousel.noConflict = function () { return a.fn.carousel = c, this }, a(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", function (b) { var c, d = a(this), e = a(d.attr("data-target") || (c = d.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "")), f = a.extend({}, e.data(), d.data()), g = d.attr("data-slide-to"); g && (f.interval = !1), e.carousel(f), (g = d.attr("data-slide-to")) && e.data("bs.carousel").to(g), b.preventDefault() }), a(window).on("load", function () { a('[data-ride="carousel"]').each(function () { var b = a(this); b.carousel(b.data()) }) }) }(window.jQuery), +function (a) { "use strict"; var b = function (c, d) { this.$element = a(c), this.options = a.extend({}, b.DEFAULTS, d), this.transitioning = null, this.options.parent && (this.$parent = a(this.options.parent)), this.options.toggle && this.toggle() }; b.DEFAULTS = { toggle: !0 }, b.prototype.dimension = function () { var a = this.$element.hasClass("width"); return a ? "width" : "height" }, b.prototype.show = function () { if (!this.transitioning && !this.$element.hasClass("in")) { var b = a.Event("show.bs.collapse"); if (this.$element.trigger(b), !b.isDefaultPrevented()) { var c = this.$parent && this.$parent.find("> .panel > .in"); if (c && c.length) { var d = c.data("bs.collapse"); if (d && d.transitioning) return; c.collapse("hide"), d || c.data("bs.collapse", null) } var e = this.dimension(); this.$element.removeClass("collapse").addClass("collapsing")[e](0), this.transitioning = 1; var f = function () { this.$element.removeClass("collapsing").addClass("in")[e]("auto"), this.transitioning = 0, this.$element.trigger("shown.bs.collapse") }; if (!a.support.transition) return f.call(this); var g = a.camelCase(["scroll", e].join("-")); this.$element.one(a.support.transition.end, a.proxy(f, this)).emulateTransitionEnd(350)[e](this.$element[0][g]) } } }, b.prototype.hide = function () { if (!this.transitioning && this.$element.hasClass("in")) { var b = a.Event("hide.bs.collapse"); if (this.$element.trigger(b), !b.isDefaultPrevented()) { var c = this.dimension(); this.$element[c](this.$element[c]())[0].offsetHeight, this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"), this.transitioning = 1; var d = function () { this.transitioning = 0, this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse") }; return a.support.transition ? (this.$element[c](0).one(a.support.transition.end, a.proxy(d, this)).emulateTransitionEnd(350), void 0) : d.call(this) } } }, b.prototype.toggle = function () { this[this.$element.hasClass("in") ? "hide" : "show"]() }; var c = a.fn.collapse; a.fn.collapse = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.collapse"), f = a.extend({}, b.DEFAULTS, d.data(), "object" == typeof c && c); e || d.data("bs.collapse", e = new b(this, f)), "string" == typeof c && e[c]() }) }, a.fn.collapse.Constructor = b, a.fn.collapse.noConflict = function () { return a.fn.collapse = c, this }, a(document).on("click.bs.collapse.data-api", "[data-toggle=collapse]", function (b) { var c, d = a(this), e = d.attr("data-target") || b.preventDefault() || (c = d.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""), f = a(e), g = f.data("bs.collapse"), h = g ? "toggle" : d.data(), i = d.attr("data-parent"), j = i && a(i); g && g.transitioning || (j && j.find('[data-toggle=collapse][data-parent="' + i + '"]').not(d).addClass("collapsed"), d[f.hasClass("in") ? "addClass" : "removeClass"]("collapsed")), f.collapse(h) }) }(window.jQuery), +function (a) { "use strict"; function b() { a(d).remove(), a(e).each(function (b) { var d = c(a(this)); d.hasClass("open") && (d.trigger(b = a.Event("hide.bs.dropdown")), b.isDefaultPrevented() || d.removeClass("open").trigger("hidden.bs.dropdown")) }) } function c(b) { var c = b.attr("data-target"); c || (c = b.attr("href"), c = c && /#/.test(c) && c.replace(/.*(?=#[^\s]*$)/, "")); var d = c && a(c); return d && d.length ? d : b.parent() } var d = ".dropdown-backdrop", e = "[data-toggle=dropdown]", f = function (b) { a(b).on("click.bs.dropdown", this.toggle) }; f.prototype.toggle = function (d) { var e = a(this); if (!e.is(".disabled, :disabled")) { var f = c(e), g = f.hasClass("open"); if (b(), !g) { if ("ontouchstart" in document.documentElement && !f.closest(".navbar-nav").length && a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click", b), f.trigger(d = a.Event("show.bs.dropdown")), d.isDefaultPrevented()) return; f.toggleClass("open").trigger("shown.bs.dropdown"), e.focus() } return !1 } }, f.prototype.keydown = function (b) { if (/(38|40|27)/.test(b.keyCode)) { var d = a(this); if (b.preventDefault(), b.stopPropagation(), !d.is(".disabled, :disabled")) { var f = c(d), g = f.hasClass("open"); if (!g || g && 27 == b.keyCode) return 27 == b.which && f.find(e).focus(), d.click(); var h = a("[role=menu] li:not(.divider):visible a", f); if (h.length) { var i = h.index(h.filter(":focus")); 38 == b.keyCode && i > 0 && i--, 40 == b.keyCode && i < h.length - 1 && i++, ~i || (i = 0), h.eq(i).focus() } } } }; var g = a.fn.dropdown; a.fn.dropdown = function (b) { return this.each(function () { var c = a(this), d = c.data("dropdown"); d || c.data("dropdown", d = new f(this)), "string" == typeof b && d[b].call(c) }) }, a.fn.dropdown.Constructor = f, a.fn.dropdown.noConflict = function () { return a.fn.dropdown = g, this }, a(document).on("click.bs.dropdown.data-api", b).on("click.bs.dropdown.data-api", ".dropdown form", function (a) { a.stopPropagation() }).on("click.bs.dropdown.data-api", e, f.prototype.toggle).on("keydown.bs.dropdown.data-api", e + ", [role=menu]", f.prototype.keydown) }(window.jQuery), +function (a) { "use strict"; var b = function (b, c) { this.options = c, this.$element = a(b), this.$backdrop = this.isShown = null, this.options.remote && this.$element.load(this.options.remote) }; b.DEFAULTS = { backdrop: !0, keyboard: !0, show: !0 }, b.prototype.toggle = function (a) { return this[this.isShown ? "hide" : "show"](a) }, b.prototype.show = function (b) { var c = this, d = a.Event("show.bs.modal", { relatedTarget: b }); this.$element.trigger(d), this.isShown || d.isDefaultPrevented() || (this.isShown = !0, this.escape(), this.$element.on("click.dismiss.modal", '[data-dismiss="modal"]', a.proxy(this.hide, this)), this.backdrop(function () { var d = a.support.transition && c.$element.hasClass("fade"); c.$element.parent().length || c.$element.appendTo(document.body), c.$element.show(), d && c.$element[0].offsetWidth, c.$element.addClass("in").attr("aria-hidden", !1), c.enforceFocus(); var e = a.Event("shown.bs.modal", { relatedTarget: b }); d ? c.$element.find(".modal-dialog").one(a.support.transition.end, function () { c.$element.focus().trigger(e) }).emulateTransitionEnd(300) : c.$element.focus().trigger(e) })) }, b.prototype.hide = function (b) { b && b.preventDefault(), b = a.Event("hide.bs.modal"), this.$element.trigger(b), this.isShown && !b.isDefaultPrevented() && (this.isShown = !1, this.escape(), a(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.modal"), a.support.transition && this.$element.hasClass("fade") ? this.$element.one(a.support.transition.end, a.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal()) }, b.prototype.enforceFocus = function () { a(document).off("focusin.bs.modal").on("focusin.bs.modal", a.proxy(function (a) { this.$element[0] === a.target || this.$element.has(a.target).length || this.$element.focus() }, this)) }, b.prototype.escape = function () { this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.bs.modal", a.proxy(function (a) { 27 == a.which && this.hide() }, this)) : this.isShown || this.$element.off("keyup.dismiss.bs.modal") }, b.prototype.hideModal = function () { var a = this; this.$element.hide(), this.backdrop(function () { a.removeBackdrop(), a.$element.trigger("hidden.bs.modal") }) }, b.prototype.removeBackdrop = function () { this.$backdrop && this.$backdrop.remove(), this.$backdrop = null }, b.prototype.backdrop = function (b) { var c = this.$element.hasClass("fade") ? "fade" : ""; if (this.isShown && this.options.backdrop) { var d = a.support.transition && c; if (this.$backdrop = a('<div class="modal-backdrop ' + c + '" />').appendTo(document.body), this.$element.on("click.dismiss.modal", a.proxy(function (a) { a.target === a.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this)) }, this)), d && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !b) return; d ? this.$backdrop.one(a.support.transition.end, b).emulateTransitionEnd(150) : b() } else !this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one(a.support.transition.end, b).emulateTransitionEnd(150) : b()) : b && b() }; var c = a.fn.modal; a.fn.modal = function (c, d) { return this.each(function () { var e = a(this), f = e.data("bs.modal"), g = a.extend({}, b.DEFAULTS, e.data(), "object" == typeof c && c); f || e.data("bs.modal", f = new b(this, g)), "string" == typeof c ? f[c](d) : g.show && f.show(d) }) }, a.fn.modal.Constructor = b, a.fn.modal.noConflict = function () { return a.fn.modal = c, this }, a(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function (b) { var c = a(this), d = c.attr("href"), e = a(c.attr("data-target") || d && d.replace(/.*(?=#[^\s]+$)/, "")), f = e.data("modal") ? "toggle" : a.extend({ remote: !/#/.test(d) && d }, e.data(), c.data()); b.preventDefault(), e.modal(f, this).one("hide", function () { c.is(":visible") && c.focus() }) }), a(document).on("show.bs.modal", ".modal", function () { a(document.body).addClass("modal-open") }).on("hidden.bs.modal", ".modal", function () { a(document.body).removeClass("modal-open") }) }(window.jQuery), +function (a) { "use strict"; var b = function (a, b) { this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", a, b) }; b.DEFAULTS = { animation: !0, placement: "top", selector: !1, template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, container: !1 }, b.prototype.init = function (b, c, d) { this.enabled = !0, this.type = b, this.$element = a(c), this.options = this.getOptions(d); for (var e = this.options.trigger.split(" "), f = e.length; f--;) { var g = e[f]; if ("click" == g) this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this)); else if ("manual" != g) { var h = "hover" == g ? "mouseenter" : "focus", i = "hover" == g ? "mouseleave" : "blur"; this.$element.on(h + "." + this.type, this.options.selector, a.proxy(this.enter, this)), this.$element.on(i + "." + this.type, this.options.selector, a.proxy(this.leave, this)) } } this.options.selector ? this._options = a.extend({}, this.options, { trigger: "manual", selector: "" }) : this.fixTitle() }, b.prototype.getDefaults = function () { return b.DEFAULTS }, b.prototype.getOptions = function (b) { return b = a.extend({}, this.getDefaults(), this.$element.data(), b), b.delay && "number" == typeof b.delay && (b.delay = { show: b.delay, hide: b.delay }), b }, b.prototype.getDelegateOptions = function () { var b = {}, c = this.getDefaults(); return this._options && a.each(this._options, function (a, d) { c[a] != d && (b[a] = d) }), b }, b.prototype.enter = function (b) { var c = b instanceof this.constructor ? b : a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type); return clearTimeout(c.timeout), c.hoverState = "in", c.options.delay && c.options.delay.show ? (c.timeout = setTimeout(function () { "in" == c.hoverState && c.show() }, c.options.delay.show), void 0) : c.show() }, b.prototype.leave = function (b) { var c = b instanceof this.constructor ? b : a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type); return clearTimeout(c.timeout), c.hoverState = "out", c.options.delay && c.options.delay.hide ? (c.timeout = setTimeout(function () { "out" == c.hoverState && c.hide() }, c.options.delay.hide), void 0) : c.hide() }, b.prototype.show = function () { var b = a.Event("show.bs." + this.type); if (this.hasContent() && this.enabled) { if (this.$element.trigger(b), b.isDefaultPrevented()) return; var c = this.tip(); this.setContent(), this.options.animation && c.addClass("fade"); var d = "function" == typeof this.options.placement ? this.options.placement.call(this, c[0], this.$element[0]) : this.options.placement, e = /\s?auto?\s?/i, f = e.test(d); f && (d = d.replace(e, "") || "top"), c.detach().css({ top: 0, left: 0, display: "block" }).addClass(d), this.options.container ? c.appendTo(this.options.container) : c.insertAfter(this.$element); var g = this.getPosition(), h = c[0].offsetWidth, i = c[0].offsetHeight; if (f) { var j = this.$element.parent(), k = d, l = document.documentElement.scrollTop || document.body.scrollTop, m = "body" == this.options.container ? window.innerWidth : j.outerWidth(), n = "body" == this.options.container ? window.innerHeight : j.outerHeight(), o = "body" == this.options.container ? 0 : j.offset().left; d = "bottom" == d && g.top + g.height + i - l > n ? "top" : "top" == d && g.top - l - i < 0 ? "bottom" : "right" == d && g.right + h > m ? "left" : "left" == d && g.left - h < o ? "right" : d, c.removeClass(k).addClass(d) } var p = this.getCalculatedOffset(d, g, h, i); this.applyPlacement(p, d), this.$element.trigger("shown.bs." + this.type) } }, b.prototype.applyPlacement = function (a, b) { var c, d = this.tip(), e = d[0].offsetWidth, f = d[0].offsetHeight, g = parseInt(d.css("margin-top"), 10), h = parseInt(d.css("margin-left"), 10); isNaN(g) && (g = 0), isNaN(h) && (h = 0), a.top = a.top + g, a.left = a.left + h, d.offset(a).addClass("in"); var i = d[0].offsetWidth, j = d[0].offsetHeight; if ("top" == b && j != f && (c = !0, a.top = a.top + f - j), /bottom|top/.test(b)) { var k = 0; a.left < 0 && (k = -2 * a.left, a.left = 0, d.offset(a), i = d[0].offsetWidth, j = d[0].offsetHeight), this.replaceArrow(k - e + i, i, "left") } else this.replaceArrow(j - f, j, "top"); c && d.offset(a) }, b.prototype.replaceArrow = function (a, b, c) { this.arrow().css(c, a ? 50 * (1 - a / b) + "%" : "") }, b.prototype.setContent = function () { var a = this.tip(), b = this.getTitle(); a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b), a.removeClass("fade in top bottom left right") }, b.prototype.hide = function () { function b() { "in" != c.hoverState && d.detach() } var c = this, d = this.tip(), e = a.Event("hide.bs." + this.type); return this.$element.trigger(e), e.isDefaultPrevented() ? void 0 : (d.removeClass("in"), a.support.transition && this.$tip.hasClass("fade") ? d.one(a.support.transition.end, b).emulateTransitionEnd(150) : b(), this.$element.trigger("hidden.bs." + this.type), this) }, b.prototype.fixTitle = function () { var a = this.$element; (a.attr("title") || "string" != typeof a.attr("data-original-title")) && a.attr("data-original-title", a.attr("title") || "").attr("title", "") }, b.prototype.hasContent = function () { return this.getTitle() }, b.prototype.getPosition = function () { var b = this.$element[0]; return a.extend({}, "function" == typeof b.getBoundingClientRect ? b.getBoundingClientRect() : { width: b.offsetWidth, height: b.offsetHeight }, this.$element.offset()) }, b.prototype.getCalculatedOffset = function (a, b, c, d) { return "bottom" == a ? { top: b.top + b.height, left: b.left + b.width / 2 - c / 2 } : "top" == a ? { top: b.top - d, left: b.left + b.width / 2 - c / 2 } : "left" == a ? { top: b.top + b.height / 2 - d / 2, left: b.left - c } : { top: b.top + b.height / 2 - d / 2, left: b.left + b.width } }, b.prototype.getTitle = function () { var a, b = this.$element, c = this.options; return a = b.attr("data-original-title") || ("function" == typeof c.title ? c.title.call(b[0]) : c.title) }, b.prototype.tip = function () { return this.$tip = this.$tip || a(this.options.template) }, b.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow") }, b.prototype.validate = function () { this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null) }, b.prototype.enable = function () { this.enabled = !0 }, b.prototype.disable = function () { this.enabled = !1 }, b.prototype.toggleEnabled = function () { this.enabled = !this.enabled }, b.prototype.toggle = function (b) { var c = b ? a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type) : this; c.tip().hasClass("in") ? c.leave(c) : c.enter(c) }, b.prototype.destroy = function () { this.hide().$element.off("." + this.type).removeData("bs." + this.type) }; var c = a.fn.tooltip; a.fn.tooltip = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.tooltip"), f = "object" == typeof c && c; e || d.data("bs.tooltip", e = new b(this, f)), "string" == typeof c && e[c]() }) }, a.fn.tooltip.Constructor = b, a.fn.tooltip.noConflict = function () { return a.fn.tooltip = c, this } }(window.jQuery), +function (a) { "use strict"; var b = function (a, b) { this.init("popover", a, b) }; if (!a.fn.tooltip) throw new Error("Popover requires tooltip.js"); b.DEFAULTS = a.extend({}, a.fn.tooltip.Constructor.DEFAULTS, { placement: "right", trigger: "click", content: "", template: '<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>' }), b.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype), b.prototype.constructor = b, b.prototype.getDefaults = function () { return b.DEFAULTS }, b.prototype.setContent = function () { var a = this.tip(), b = this.getTitle(), c = this.getContent(); a.find(".popover-title")[this.options.html ? "html" : "text"](b), a.find(".popover-content")[this.options.html ? "html" : "text"](c), a.removeClass("fade top bottom left right in"), a.find(".popover-title").html() || a.find(".popover-title").hide() }, b.prototype.hasContent = function () { return this.getTitle() || this.getContent() }, b.prototype.getContent = function () { var a = this.$element, b = this.options; return a.attr("data-content") || ("function" == typeof b.content ? b.content.call(a[0]) : b.content) }, b.prototype.arrow = function () { return this.$arrow = this.$arrow || this.tip().find(".arrow") }, b.prototype.tip = function () { return this.$tip || (this.$tip = a(this.options.template)), this.$tip }; var c = a.fn.popover; a.fn.popover = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.popover"), f = "object" == typeof c && c; e || d.data("bs.popover", e = new b(this, f)), "string" == typeof c && e[c]() }) }, a.fn.popover.Constructor = b, a.fn.popover.noConflict = function () { return a.fn.popover = c, this } }(window.jQuery), +function (a) { "use strict"; function b(c, d) { var e, f = a.proxy(this.process, this); this.$element = a(c).is("body") ? a(window) : a(c), this.$body = a("body"), this.$scrollElement = this.$element.on("scroll.bs.scroll-spy.data-api", f), this.options = a.extend({}, b.DEFAULTS, d), this.selector = (this.options.target || (e = a(c).attr("href")) && e.replace(/.*(?=#[^\s]+$)/, "") || "") + " .nav li > a", this.offsets = a([]), this.targets = a([]), this.activeTarget = null, this.refresh(), this.process() } b.DEFAULTS = { offset: 10 }, b.prototype.refresh = function () { var b = this.$element[0] == window ? "offset" : "position"; this.offsets = a([]), this.targets = a([]); var c = this; this.$body.find(this.selector).map(function () { var d = a(this), e = d.data("target") || d.attr("href"), f = /^#\w/.test(e) && a(e); return f && f.length && [[f[b]().top + (!a.isWindow(c.$scrollElement.get(0)) && c.$scrollElement.scrollTop()), e]] || null }).sort(function (a, b) { return a[0] - b[0] }).each(function () { c.offsets.push(this[0]), c.targets.push(this[1]) }) }, b.prototype.process = function () { var a, b = this.$scrollElement.scrollTop() + this.options.offset, c = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight, d = c - this.$scrollElement.height(), e = this.offsets, f = this.targets, g = this.activeTarget; if (b >= d) return g != (a = f.last()[0]) && this.activate(a); for (a = e.length; a--;) g != f[a] && b >= e[a] && (!e[a + 1] || b <= e[a + 1]) && this.activate(f[a]) }, b.prototype.activate = function (b) { this.activeTarget = b, a(this.selector).parents(".active").removeClass("active"); var c = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]', d = a(c).parents("li").addClass("active"); d.parent(".dropdown-menu").length && (d = d.closest("li.dropdown").addClass("active")), d.trigger("activate") }; var c = a.fn.scrollspy; a.fn.scrollspy = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.scrollspy"), f = "object" == typeof c && c; e || d.data("bs.scrollspy", e = new b(this, f)), "string" == typeof c && e[c]() }) }, a.fn.scrollspy.Constructor = b, a.fn.scrollspy.noConflict = function () { return a.fn.scrollspy = c, this }, a(window).on("load", function () { a('[data-spy="scroll"]').each(function () { var b = a(this); b.scrollspy(b.data()) }) }) }(window.jQuery), +function (a) { "use strict"; var b = function (b) { this.element = a(b) }; b.prototype.show = function () { var b = this.element, c = b.closest("ul:not(.dropdown-menu)"), d = b.attr("data-target"); if (d || (d = b.attr("href"), d = d && d.replace(/.*(?=#[^\s]*$)/, "")), !b.parent("li").hasClass("active")) { var e = c.find(".active:last a")[0], f = a.Event("show.bs.tab", { relatedTarget: e }); if (b.trigger(f), !f.isDefaultPrevented()) { var g = a(d); this.activate(b.parent("li"), c), this.activate(g, g.parent(), function () { b.trigger({ type: "shown.bs.tab", relatedTarget: e }) }) } } }, b.prototype.activate = function (b, c, d) { function e() { f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"), b.addClass("active"), g ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"), b.parent(".dropdown-menu") && b.closest("li.dropdown").addClass("active"), d && d() } var f = c.find("> .active"), g = d && a.support.transition && f.hasClass("fade"); g ? f.one(a.support.transition.end, e).emulateTransitionEnd(150) : e(), f.removeClass("in") }; var c = a.fn.tab; a.fn.tab = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.tab"); e || d.data("bs.tab", e = new b(this)), "string" == typeof c && e[c]() }) }, a.fn.tab.Constructor = b, a.fn.tab.noConflict = function () { return a.fn.tab = c, this }, a(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function (b) { b.preventDefault(), a(this).tab("show") }) }(window.jQuery), +function (a) { "use strict"; var b = function (c, d) { this.options = a.extend({}, b.DEFAULTS, d), this.$window = a(window).on("scroll.bs.affix.data-api", a.proxy(this.checkPosition, this)).on("click.bs.affix.data-api", a.proxy(this.checkPositionWithEventLoop, this)), this.$element = a(c), this.affixed = this.unpin = null, this.checkPosition() }; b.RESET = "affix affix-top affix-bottom", b.DEFAULTS = { offset: 0 }, b.prototype.checkPositionWithEventLoop = function () { setTimeout(a.proxy(this.checkPosition, this), 1) }, b.prototype.checkPosition = function () { if (this.$element.is(":visible")) { var c = a(document).height(), d = this.$window.scrollTop(), e = this.$element.offset(), f = this.options.offset, g = f.top, h = f.bottom; "object" != typeof f && (h = g = f), "function" == typeof g && (g = f.top()), "function" == typeof h && (h = f.bottom()); var i = null != this.unpin && d + this.unpin <= e.top ? !1 : null != h && e.top + this.$element.height() >= c - h ? "bottom" : null != g && g >= d ? "top" : !1; this.affixed !== i && (this.unpin && this.$element.css("top", ""), this.affixed = i, this.unpin = "bottom" == i ? e.top - d : null, this.$element.removeClass(b.RESET).addClass("affix" + (i ? "-" + i : "")), "bottom" == i && this.$element.offset({ top: document.body.offsetHeight - h - this.$element.height() })) } }; var c = a.fn.affix; a.fn.affix = function (c) { return this.each(function () { var d = a(this), e = d.data("bs.affix"), f = "object" == typeof c && c; e || d.data("bs.affix", e = new b(this, f)), "string" == typeof c && e[c]() }) }, a.fn.affix.Constructor = b, a.fn.affix.noConflict = function () { return a.fn.affix = c, this }, a(window).on("load", function () { a('[data-spy="affix"]').each(function () { var b = a(this), c = b.data(); c.offset = c.offset || {}, c.offsetBottom && (c.offset.bottom = c.offsetBottom), c.offsetTop && (c.offset.top = c.offsetTop), b.affix(c) }) }) }(window.jQuery);
(function(){var Backbone,root=this,previousBackbone=root.Backbone,array=[],push=array.push,slice=array.slice,splice=array.splice;Backbone="undefined"!=typeof exports?exports:root.Backbone={},Backbone.VERSION="1.0.0";var _=root._;_||"undefined"==typeof require||(_=require("underscore")),Backbone.$=root.jQuery||root.Zepto||root.ender||root.$,Backbone.noConflict=function(){return root.Backbone=previousBackbone,this},Backbone.emulateHTTP=!1,Backbone.emulateJSON=!1;var Events=Backbone.Events={on:function(name,callback,context){if(!eventsApi(this,"on",name,[callback,context])||!callback)return this;this._events||(this._events={});var events=this._events[name]||(this._events[name]=[]);return events.push({callback:callback,context:context,ctx:context||this}),this},once:function(name,callback,context){if(!eventsApi(this,"once",name,[callback,context])||!callback)return this;var self=this,once=_.once(function(){self.off(name,once),callback.apply(this,arguments)});return once._callback=callback,this.on(name,once,context)},off:function(name,callback,context){var retain,ev,events,names,i,l,j,k;if(!this._events||!eventsApi(this,"off",name,[callback,context]))return this;if(!name&&!callback&&!context)return this._events={},this;for(names=name?[name]:_.keys(this._events),i=0,l=names.length;l>i;i++)if(name=names[i],events=this._events[name]){if(this._events[name]=retain=[],callback||context)for(j=0,k=events.length;k>j;j++)ev=events[j],(callback&&callback!==ev.callback&&callback!==ev.callback._callback||context&&context!==ev.context)&&retain.push(ev);retain.length||delete this._events[name]}return this},trigger:function(name){if(!this._events)return this;var args=slice.call(arguments,1);if(!eventsApi(this,"trigger",name,args))return this;var events=this._events[name],allEvents=this._events.all;return events&&triggerEvents(events,args),allEvents&&triggerEvents(allEvents,arguments),this},stopListening:function(obj,name,callback){var listeners=this._listeners;if(!listeners)return this;var deleteListener=!name&&!callback;"object"==typeof name&&(callback=this),obj&&((listeners={})[obj._listenerId]=obj);for(var id in listeners)listeners[id].off(name,callback,this),deleteListener&&delete this._listeners[id];return this}},eventSplitter=/\s+/,eventsApi=function(obj,action,name,rest){if(!name)return!0;if("object"==typeof name){for(var key in name)obj[action].apply(obj,[key,name[key]].concat(rest));return!1}if(eventSplitter.test(name)){for(var names=name.split(eventSplitter),i=0,l=names.length;l>i;i++)obj[action].apply(obj,[names[i]].concat(rest));return!1}return!0},triggerEvents=function(events,args){var ev,i=-1,l=events.length,a1=args[0],a2=args[1],a3=args[2];switch(args.length){case 0:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx);return;case 1:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1);return;case 2:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2);return;case 3:for(;++i<l;)(ev=events[i]).callback.call(ev.ctx,a1,a2,a3);return;default:for(;++i<l;)(ev=events[i]).callback.apply(ev.ctx,args)}},listenMethods={listenTo:"on",listenToOnce:"once"};_.each(listenMethods,function(implementation,method){Events[method]=function(obj,name,callback){var listeners=this._listeners||(this._listeners={}),id=obj._listenerId||(obj._listenerId=_.uniqueId("l"));return listeners[id]=obj,"object"==typeof name&&(callback=this),obj[implementation](name,callback,this),this}}),Events.bind=Events.on,Events.unbind=Events.off,_.extend(Backbone,Events);var Model=Backbone.Model=function(attributes,options){var defaults,attrs=attributes||{};options||(options={}),this.cid=_.uniqueId("c"),this.attributes={},_.extend(this,_.pick(options,modelOptions)),options.parse&&(attrs=this.parse(attrs,options)||{}),(defaults=_.result(this,"defaults"))&&(attrs=_.defaults({},attrs,defaults)),this.set(attrs,options),this.changed={},this.initialize.apply(this,arguments)},modelOptions=["url","urlRoot","collection"];_.extend(Model.prototype,Events,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(options){return _.clone(this.attributes)},sync:function(){return Backbone.sync.apply(this,arguments)},get:function(attr){return this.attributes[attr]},escape:function(attr){return _.escape(this.get(attr))},has:function(attr){return null!=this.get(attr)},set:function(key,val,options){var attr,attrs,unset,changes,silent,changing,prev,current;if(null==key)return this;if("object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,options||(options={}),!this._validate(attrs,options))return!1;unset=options.unset,silent=options.silent,changes=[],changing=this._changing,this._changing=!0,changing||(this._previousAttributes=_.clone(this.attributes),this.changed={}),current=this.attributes,prev=this._previousAttributes,this.idAttribute in attrs&&(this.id=attrs[this.idAttribute]);for(attr in attrs)val=attrs[attr],_.isEqual(current[attr],val)||changes.push(attr),_.isEqual(prev[attr],val)?delete this.changed[attr]:this.changed[attr]=val,unset?delete current[attr]:current[attr]=val;if(!silent){changes.length&&(this._pending=!0);for(var i=0,l=changes.length;l>i;i++)this.trigger("change:"+changes[i],this,current[changes[i]],options)}if(changing)return this;if(!silent)for(;this._pending;)this._pending=!1,this.trigger("change",this,options);return this._pending=!1,this._changing=!1,this},unset:function(attr,options){return this.set(attr,void 0,_.extend({},options,{unset:!0}))},clear:function(options){var attrs={};for(var key in this.attributes)attrs[key]=void 0;return this.set(attrs,_.extend({},options,{unset:!0}))},hasChanged:function(attr){return null==attr?!_.isEmpty(this.changed):_.has(this.changed,attr)},changedAttributes:function(diff){if(!diff)return this.hasChanged()?_.clone(this.changed):!1;var val,changed=!1,old=this._changing?this._previousAttributes:this.attributes;for(var attr in diff)_.isEqual(old[attr],val=diff[attr])||((changed||(changed={}))[attr]=val);return changed},previous:function(attr){return null!=attr&&this._previousAttributes?this._previousAttributes[attr]:null},previousAttributes:function(){return _.clone(this._previousAttributes)},fetch:function(options){options=options?_.clone(options):{},void 0===options.parse&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){return model.set(model.parse(resp,options),options)?(success&&success(model,resp,options),void model.trigger("sync",model,resp,options)):!1},wrapError(this,options),this.sync("read",this,options)},save:function(key,val,options){var attrs,method,xhr,attributes=this.attributes;if(null==key||"object"==typeof key?(attrs=key,options=val):(attrs={})[key]=val,!(!attrs||options&&options.wait||this.set(attrs,options)))return!1;if(options=_.extend({validate:!0},options),!this._validate(attrs,options))return!1;attrs&&options.wait&&(this.attributes=_.extend({},attributes,attrs)),void 0===options.parse&&(options.parse=!0);var model=this,success=options.success;return options.success=function(resp){model.attributes=attributes;var serverAttrs=model.parse(resp,options);return options.wait&&(serverAttrs=_.extend(attrs||{},serverAttrs)),_.isObject(serverAttrs)&&!model.set(serverAttrs,options)?!1:(success&&success(model,resp,options),void model.trigger("sync",model,resp,options))},wrapError(this,options),method=this.isNew()?"create":options.patch?"patch":"update","patch"===method&&(options.attrs=attrs),xhr=this.sync(method,this,options),attrs&&options.wait&&(this.attributes=attributes),xhr},destroy:function(options){options=options?_.clone(options):{};var model=this,success=options.success,destroy=function(){model.trigger("destroy",model,model.collection,options)};if(options.success=function(resp){(options.wait||model.isNew())&&destroy(),success&&success(model,resp,options),model.isNew()||model.trigger("sync",model,resp,options)},this.isNew())return options.success(),!1;wrapError(this,options);var xhr=this.sync("delete",this,options);return options.wait||destroy(),xhr},url:function(){var base=_.result(this,"urlRoot")||_.result(this.collection,"url")||urlError();return this.isNew()?base:base+("/"===base.charAt(base.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(options){return this._validate({},_.extend(options||{},{validate:!0}))},_validate:function(attrs,options){if(!options.validate||!this.validate)return!0;attrs=_.extend({},this.attributes,attrs);var error=this.validationError=this.validate(attrs,options)||null;return error?(this.trigger("invalid",this,error,_.extend(options||{},{validationError:error})),!1):!0}});var modelMethods=["keys","values","pairs","invert","pick","omit"];_.each(modelMethods,function(method){Model.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.attributes),_[method].apply(_,args)}});var Collection=Backbone.Collection=function(models,options){options||(options={}),options.url&&(this.url=options.url),options.model&&(this.model=options.model),void 0!==options.comparator&&(this.comparator=options.comparator),this._reset(),this.initialize.apply(this,arguments),models&&this.reset(models,_.extend({silent:!0},options))},setOptions={add:!0,remove:!0,merge:!0},addOptions={add:!0,merge:!1,remove:!1};_.extend(Collection.prototype,Events,{model:Model,initialize:function(){},toJSON:function(options){return this.map(function(model){return model.toJSON(options)})},sync:function(){return Backbone.sync.apply(this,arguments)},add:function(models,options){return this.set(models,_.defaults(options||{},addOptions))},remove:function(models,options){models=_.isArray(models)?models.slice():[models],options||(options={});var i,l,index,model;for(i=0,l=models.length;l>i;i++)model=this.get(models[i]),model&&(delete this._byId[model.id],delete this._byId[model.cid],index=this.indexOf(model),this.models.splice(index,1),this.length--,options.silent||(options.index=index,model.trigger("remove",model,this,options)),this._removeReference(model));return this},set:function(models,options){options=_.defaults(options||{},setOptions),options.parse&&(models=this.parse(models,options)),_.isArray(models)||(models=models?[models]:[]);var i,l,model,existing,sort,at=options.at,sortable=this.comparator&&null==at&&options.sort!==!1,sortAttr=_.isString(this.comparator)?this.comparator:null,toAdd=[],toRemove=[],modelMap={};for(i=0,l=models.length;l>i;i++)(model=this._prepareModel(models[i],options))&&((existing=this.get(model))?(options.remove&&(modelMap[existing.cid]=!0),options.merge&&(existing.set(model.attributes,options),sortable&&!sort&&existing.hasChanged(sortAttr)&&(sort=!0))):options.add&&(toAdd.push(model),model.on("all",this._onModelEvent,this),this._byId[model.cid]=model,null!=model.id&&(this._byId[model.id]=model)));if(options.remove){for(i=0,l=this.length;l>i;++i)modelMap[(model=this.models[i]).cid]||toRemove.push(model);toRemove.length&&this.remove(toRemove,options)}if(toAdd.length&&(sortable&&(sort=!0),this.length+=toAdd.length,null!=at?splice.apply(this.models,[at,0].concat(toAdd)):push.apply(this.models,toAdd)),sort&&this.sort({silent:!0}),options.silent)return this;for(i=0,l=toAdd.length;l>i;i++)(model=toAdd[i]).trigger("add",model,this,options);return sort&&this.trigger("sort",this,options),this},reset:function(models,options){options||(options={});for(var i=0,l=this.models.length;l>i;i++)this._removeReference(this.models[i]);return options.previousModels=this.models,this._reset(),this.add(models,_.extend({silent:!0},options)),options.silent||this.trigger("reset",this,options),this},push:function(model,options){return model=this._prepareModel(model,options),this.add(model,_.extend({at:this.length},options)),model},pop:function(options){var model=this.at(this.length-1);return this.remove(model,options),model},unshift:function(model,options){return model=this._prepareModel(model,options),this.add(model,_.extend({at:0},options)),model},shift:function(options){var model=this.at(0);return this.remove(model,options),model},slice:function(begin,end){return this.models.slice(begin,end)},get:function(obj){return null==obj?void 0:this._byId[null!=obj.id?obj.id:obj.cid||obj]},at:function(index){return this.models[index]},where:function(attrs,first){return _.isEmpty(attrs)?first?void 0:[]:this[first?"find":"filter"](function(model){for(var key in attrs)if(attrs[key]!==model.get(key))return!1;return!0})},findWhere:function(attrs){return this.where(attrs,!0)},sort:function(options){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return options||(options={}),_.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(_.bind(this.comparator,this)),options.silent||this.trigger("sort",this,options),this},sortedIndex:function(model,value,context){value||(value=this.comparator);var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _.sortedIndex(this.models,model,iterator,context)},pluck:function(attr){return _.invoke(this.models,"get",attr)},fetch:function(options){options=options?_.clone(options):{},void 0===options.parse&&(options.parse=!0);var success=options.success,collection=this;return options.success=function(resp){var method=options.reset?"reset":"set";collection[method](resp,options),success&&success(collection,resp,options),collection.trigger("sync",collection,resp,options)},wrapError(this,options),this.sync("read",this,options)},create:function(model,options){if(options=options?_.clone(options):{},!(model=this._prepareModel(model,options)))return!1;options.wait||this.add(model,options);var collection=this,success=options.success;return options.success=function(resp){options.wait&&collection.add(model,options),success&&success(model,resp,options)},model.save(null,options),model},parse:function(resp,options){return resp},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(attrs,options){if(attrs instanceof Model)return attrs.collection||(attrs.collection=this),attrs;options||(options={}),options.collection=this;var model=new this.model(attrs,options);return model._validate(attrs,options)?model:(this.trigger("invalid",this,attrs,options),!1)},_removeReference:function(model){this===model.collection&&delete model.collection,model.off("all",this._onModelEvent,this)},_onModelEvent:function(event,model,collection,options){("add"!==event&&"remove"!==event||collection===this)&&("destroy"===event&&this.remove(model,options),model&&event==="change:"+model.idAttribute&&(delete this._byId[model.previous(model.idAttribute)],null!=model.id&&(this._byId[model.id]=model)),this.trigger.apply(this,arguments))}});var methods=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];_.each(methods,function(method){Collection.prototype[method]=function(){var args=slice.call(arguments);return args.unshift(this.models),_[method].apply(_,args)}});var attributeMethods=["groupBy","countBy","sortBy"];_.each(attributeMethods,function(method){Collection.prototype[method]=function(value,context){var iterator=_.isFunction(value)?value:function(model){return model.get(value)};return _[method](this.models,iterator,context)}});var View=Backbone.View=function(options){this.cid=_.uniqueId("view"),this._configure(options||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},delegateEventSplitter=/^(\S+)\s*(.*)$/,viewOptions=["model","collection","el","id","attributes","className","tagName","events"];_.extend(View.prototype,Events,{tagName:"div",$:function(selector){return this.$el.find(selector)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(element,delegate){return this.$el&&this.undelegateEvents(),this.$el=element instanceof Backbone.$?element:Backbone.$(element),this.el=this.$el[0],delegate!==!1&&this.delegateEvents(),this},delegateEvents:function(events){if(!events&&!(events=_.result(this,"events")))return this;this.undelegateEvents();for(var key in events){var method=events[key];if(_.isFunction(method)||(method=this[events[key]]),method){var match=key.match(delegateEventSplitter),eventName=match[1],selector=match[2];method=_.bind(method,this),eventName+=".delegateEvents"+this.cid,""===selector?this.$el.on(eventName,method):this.$el.on(eventName,selector,method)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(options){this.options&&(options=_.extend({},_.result(this,"options"),options)),_.extend(this,_.pick(options,viewOptions)),this.options=options},_ensureElement:function(){if(this.el)this.setElement(_.result(this,"el"),!1);else{var attrs=_.extend({},_.result(this,"attributes"));this.id&&(attrs.id=_.result(this,"id")),this.className&&(attrs["class"]=_.result(this,"className"));var $el=Backbone.$("<"+_.result(this,"tagName")+">").attr(attrs);this.setElement($el,!1)}}}),Backbone.sync=function(method,model,options){var type=methodMap[method];_.defaults(options||(options={}),{emulateHTTP:Backbone.emulateHTTP,emulateJSON:Backbone.emulateJSON});var params={type:type,dataType:"json"};if(options.url||(params.url=_.result(model,"url")||urlError()),null!=options.data||!model||"create"!==method&&"update"!==method&&"patch"!==method||(params.contentType="application/json",params.data=JSON.stringify(options.attrs||model.toJSON(options))),options.emulateJSON&&(params.contentType="application/x-www-form-urlencoded",params.data=params.data?{model:params.data}:{}),options.emulateHTTP&&("PUT"===type||"DELETE"===type||"PATCH"===type)){params.type="POST",options.emulateJSON&&(params.data._method=type);var beforeSend=options.beforeSend;options.beforeSend=function(xhr){return xhr.setRequestHeader("X-HTTP-Method-Override",type),beforeSend?beforeSend.apply(this,arguments):void 0}}"GET"===params.type||options.emulateJSON||(params.processData=!1),"PATCH"!==params.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(params.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var xhr=options.xhr=Backbone.ajax(_.extend(params,options));return model.trigger("request",model,xhr,options),xhr};var methodMap={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};Backbone.ajax=function(){return Backbone.$.ajax.apply(Backbone.$,arguments)};var Router=Backbone.Router=function(options){options||(options={}),options.routes&&(this.routes=options.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},optionalParam=/\((.*?)\)/g,namedParam=/(\(\?)?:\w+/g,splatParam=/\*\w+/g,escapeRegExp=/[\-{}\[\]+?.,\\\^$|#\s]/g;_.extend(Router.prototype,Events,{initialize:function(){},route:function(route,name,callback){_.isRegExp(route)||(route=this._routeToRegExp(route)),_.isFunction(name)&&(callback=name,name=""),callback||(callback=this[name]);var router=this;return Backbone.history.route(route,function(fragment){var args=router._extractParameters(route,fragment);callback&&callback.apply(router,args),router.trigger.apply(router,["route:"+name].concat(args)),router.trigger("route",name,args),Backbone.history.trigger("route",router,name,args)}),this},navigate:function(fragment,options){return Backbone.history.navigate(fragment,options),this},_bindRoutes:function(){if(this.routes){this.routes=_.result(this,"routes");for(var route,routes=_.keys(this.routes);null!=(route=routes.pop());)this.route(route,this.routes[route])}},_routeToRegExp:function(route){return route=route.replace(escapeRegExp,"\\$&").replace(optionalParam,"(?:$1)?").replace(namedParam,function(match,optional){return optional?match:"([^/]+)"}).replace(splatParam,"(.*?)"),new RegExp("^"+route+"$")},_extractParameters:function(route,fragment){var params=route.exec(fragment).slice(1);return _.map(params,function(param){return param?decodeURIComponent(param):null})}});var History=Backbone.History=function(){this.handlers=[],_.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},routeStripper=/^[#\/]|\s+$/g,rootStripper=/^\/+|\/+$/g,isExplorer=/msie [\w.]+/,trailingSlash=/\/$/;History.started=!1,_.extend(History.prototype,Events,{interval:50,getHash:function(window){var match=(window||this).location.href.match(/#(.*)$/);return match?match[1]:""},getFragment:function(fragment,forcePushState){if(null==fragment)if(this._hasPushState||!this._wantsHashChange||forcePushState){fragment=this.location.pathname;var root=this.root.replace(trailingSlash,"");fragment.indexOf(root)||(fragment=fragment.substr(root.length))}else fragment=this.getHash();return fragment.replace(routeStripper,"")},start:function(options){if(History.started)throw new Error("Backbone.history has already been started");History.started=!0,this.options=_.extend({},{root:"/"},this.options,options),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var fragment=this.getFragment(),docMode=document.documentMode,oldIE=isExplorer.exec(navigator.userAgent.toLowerCase())&&(!docMode||7>=docMode);this.root=("/"+this.root+"/").replace(rootStripper,"/"),oldIE&&this._wantsHashChange&&(this.iframe=Backbone.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(fragment)),this._hasPushState?Backbone.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!oldIE?Backbone.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=fragment;var loc=this.location,atRoot=loc.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!atRoot?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&atRoot&&loc.hash&&(this.fragment=this.getHash().replace(routeStripper,""),this.history.replaceState({},document.title,this.root+this.fragment+loc.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){Backbone.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),History.started=!1},route:function(route,callback){this.handlers.unshift({route:route,callback:callback})},checkUrl:function(e){var current=this.getFragment();return current===this.fragment&&this.iframe&&(current=this.getFragment(this.getHash(this.iframe))),current===this.fragment?!1:(this.iframe&&this.navigate(current),void(this.loadUrl()||this.loadUrl(this.getHash())))},loadUrl:function(fragmentOverride){var fragment=this.fragment=this.getFragment(fragmentOverride),matched=_.any(this.handlers,function(handler){return handler.route.test(fragment)?(handler.callback(fragment),!0):void 0});return matched},navigate:function(fragment,options){if(!History.started)return!1;if(options&&options!==!0||(options={trigger:options}),fragment=this.getFragment(fragment||""),this.fragment!==fragment){this.fragment=fragment;var url=this.root+fragment;if(this._hasPushState)this.history[options.replace?"replaceState":"pushState"]({},document.title,url);else{if(!this._wantsHashChange)return this.location.assign(url);this._updateHash(this.location,fragment,options.replace),this.iframe&&fragment!==this.getFragment(this.getHash(this.iframe))&&(options.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,fragment,options.replace))}options.trigger&&this.loadUrl(fragment)}},_updateHash:function(location,fragment,replace){if(replace){var href=location.href.replace(/(javascript:|#).*$/,"");location.replace(href+"#"+fragment)}else location.hash="#"+fragment}}),Backbone.history=new History;var extend=function(protoProps,staticProps){var child,parent=this;child=protoProps&&_.has(protoProps,"constructor")?protoProps.constructor:function(){return parent.apply(this,arguments)},_.extend(child,parent,staticProps);var Surrogate=function(){this.constructor=child};return Surrogate.prototype=parent.prototype,child.prototype=new Surrogate,protoProps&&_.extend(child.prototype,protoProps),child.__super__=parent.prototype,child};Model.extend=Collection.extend=Router.extend=View.extend=History.extend=extend;var urlError=function(){throw console.log(this),new Error('A "url" property or function must be specified')},wrapError=function(model,options){var error=options.error;options.error=function(resp){error&&error(model,resp,options),model.trigger("error",model,resp,options)}}}).call(this);
Backbone.ChildViewContainer=function(Backbone,_){var Container=function(views){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),_.each(views,this.add,this)};_.extend(Container.prototype,{add:function(view,customIndex){var viewCid=view.cid;this._views[viewCid]=view,view.model&&(this._indexByModel[view.model.cid]=viewCid),customIndex&&(this._indexByCustom[customIndex]=viewCid),this._updateLength()},findByModel:function(model){return this.findByModelCid(model.cid)},findByModelCid:function(modelCid){var viewCid=this._indexByModel[modelCid];return this.findByCid(viewCid)},findByCustom:function(index){var viewCid=this._indexByCustom[index];return this.findByCid(viewCid)},findByIndex:function(index){return _.values(this._views)[index]},findByCid:function(cid){return this._views[cid]},remove:function(view){var viewCid=view.cid;view.model&&delete this._indexByModel[view.model.cid],_.any(this._indexByCustom,function(cid,key){return cid===viewCid?(delete this._indexByCustom[key],!0):void 0},this),delete this._views[viewCid],this._updateLength()},call:function(method){this.apply(method,_.tail(arguments))},apply:function(method,args){_.each(this._views,function(view){_.isFunction(view[method])&&view[method].apply(view,args||[])})},_updateLength:function(){this.length=_.size(this._views)}});var methods=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return _.each(methods,function(method){Container.prototype[method]=function(){var views=_.values(this._views),args=[views].concat(_.toArray(arguments));return _[method].apply(_,args)}}),Container}(Backbone,_),Backbone.Wreqr=function(Backbone,Marionette,_){"use strict";var Wreqr={};return Wreqr.Handlers=function(Backbone,_){var Handlers=function(options){this.options=options,this._wreqrHandlers={},_.isFunction(this.initialize)&&this.initialize(options)};return Handlers.extend=Backbone.Model.extend,_.extend(Handlers.prototype,Backbone.Events,{setHandlers:function(handlers){_.each(handlers,function(handler,name){var context=null;_.isObject(handler)&&!_.isFunction(handler)&&(context=handler.context,handler=handler.callback),this.setHandler(name,handler,context)},this)},setHandler:function(name,handler,context){var config={callback:handler,context:context};this._wreqrHandlers[name]=config,this.trigger("handler:add",name,handler,context)},hasHandler:function(name){return!!this._wreqrHandlers[name]},getHandler:function(name){var config=this._wreqrHandlers[name];if(!config)throw new Error("Handler not found for '"+name+"'");return function(){var args=Array.prototype.slice.apply(arguments);return config.callback.apply(config.context,args)}},removeHandler:function(name){delete this._wreqrHandlers[name]},removeAllHandlers:function(){this._wreqrHandlers={}}}),Handlers}(Backbone,_),Wreqr.CommandStorage=function(){var CommandStorage=function(options){this.options=options,this._commands={},_.isFunction(this.initialize)&&this.initialize(options)};return _.extend(CommandStorage.prototype,Backbone.Events,{getCommands:function(commandName){var commands=this._commands[commandName];return commands||(commands={command:commandName,instances:[]},this._commands[commandName]=commands),commands},addCommand:function(commandName,args){var command=this.getCommands(commandName);command.instances.push(args)},clearCommands:function(commandName){var command=this.getCommands(commandName);command.instances=[]}}),CommandStorage}(),Wreqr.Commands=function(Wreqr){return Wreqr.Handlers.extend({storageType:Wreqr.CommandStorage,constructor:function(options){this.options=options||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var args=Array.prototype.slice.call(arguments);Wreqr.Handlers.prototype.constructor.apply(this,args)},execute:function(name,args){name=arguments[0],args=Array.prototype.slice.call(arguments,1),this.hasHandler(name)?this.getHandler(name).apply(this,args):this.storage.addCommand(name,args)},_executeCommands:function(name,handler,context){var command=this.storage.getCommands(name);_.each(command.instances,function(args){handler.apply(context,args)}),this.storage.clearCommands(name)},_initializeStorage:function(options){var storage,StorageType=options.storageType||this.storageType;storage=_.isFunction(StorageType)?new StorageType:StorageType,this.storage=storage}})}(Wreqr),Wreqr.RequestResponse=function(Wreqr){return Wreqr.Handlers.extend({request:function(){var name=arguments[0],args=Array.prototype.slice.call(arguments,1);return this.getHandler(name).apply(this,args)}})}(Wreqr),Wreqr.EventAggregator=function(Backbone,_){var EA=function(){};return EA.extend=Backbone.Model.extend,_.extend(EA.prototype,Backbone.Events),EA}(Backbone,_),Wreqr}(Backbone,Backbone.Marionette,_);var Marionette=function(global,Backbone,_){"use strict";function slice(args){return protoSlice.call(args)}function throwError(message,name){var error=new Error(message);throw error.name=name||"Error",error}var Marionette={};Backbone.Marionette=Marionette,Marionette.$=Backbone.$;var protoSlice=Array.prototype.slice;return Marionette.extend=Backbone.Model.extend,Marionette.getOption=function(target,optionName){if(target&&optionName){var value;return value=target.options&&optionName in target.options&&void 0!==target.options[optionName]?target.options[optionName]:target[optionName]}},Marionette.triggerMethod=function(){function getEventName(match,prefix,eventName){return eventName.toUpperCase()}var splitter=/(^|:)(\w)/gi,triggerMethod=function(event){var methodName="on"+event.replace(splitter,getEventName),method=this[methodName];return _.isFunction(this.trigger)&&this.trigger.apply(this,arguments),_.isFunction(method)?method.apply(this,_.tail(arguments)):void 0};return triggerMethod}(),Marionette.MonitorDOMRefresh=function(){function handleShow(view){view._isShown=!0,triggerDOMRefresh(view)}function handleRender(view){view._isRendered=!0,triggerDOMRefresh(view)}function triggerDOMRefresh(view){view._isShown&&view._isRendered&&_.isFunction(view.triggerMethod)&&view.triggerMethod("dom:refresh")}return function(view){view.listenTo(view,"show",function(){handleShow(view)}),view.listenTo(view,"render",function(){handleRender(view)})}}(),function(Marionette){function bindFromStrings(target,entity,evt,methods){var methodNames=methods.split(/\s+/);_.each(methodNames,function(methodName){var method=target[methodName];method||throwError("Method '"+methodName+"' was configured as an event handler, but does not exist."),target.listenTo(entity,evt,method,target)})}function bindToFunction(target,entity,evt,method){target.listenTo(entity,evt,method,target)}function unbindFromStrings(target,entity,evt,methods){var methodNames=methods.split(/\s+/);_.each(methodNames,function(methodName){var method=target[methodName];target.stopListening(entity,evt,method,target)})}function unbindToFunction(target,entity,evt,method){target.stopListening(entity,evt,method,target)}function iterateEvents(target,entity,bindings,functionCallback,stringCallback){entity&&bindings&&(_.isFunction(bindings)&&(bindings=bindings.call(target)),_.each(bindings,function(methods,evt){_.isFunction(methods)?functionCallback(target,entity,evt,methods):stringCallback(target,entity,evt,methods)}))}Marionette.bindEntityEvents=function(target,entity,bindings){iterateEvents(target,entity,bindings,bindToFunction,bindFromStrings)},Marionette.unbindEntityEvents=function(target,entity,bindings){iterateEvents(target,entity,bindings,unbindToFunction,unbindFromStrings)}}(Marionette),Marionette.Callbacks=function(){this._deferred=Marionette.$.Deferred(),this._callbacks=[]},_.extend(Marionette.Callbacks.prototype,{add:function(callback,contextOverride){this._callbacks.push({cb:callback,ctx:contextOverride}),this._deferred.done(function(context,options){contextOverride&&(context=contextOverride),callback.call(context,options)})},run:function(options,context){this._deferred.resolve(context,options)},reset:function(){var callbacks=this._callbacks;this._deferred=Marionette.$.Deferred(),this._callbacks=[],_.each(callbacks,function(cb){this.add(cb.cb,cb.ctx)},this)}}),Marionette.Controller=function(options){this.triggerMethod=Marionette.triggerMethod,this.options=options||{},_.isFunction(this.initialize)&&this.initialize(this.options)},Marionette.Controller.extend=Marionette.extend,_.extend(Marionette.Controller.prototype,Backbone.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),Marionette.Region=function(options){if(this.options=options||{},this.el=Marionette.getOption(this,"el"),!this.el){var err=new Error("An 'el' must be specified for a region.");throw err.name="NoElError",err}if(this.initialize){var args=Array.prototype.slice.apply(arguments);this.initialize.apply(this,args)}},_.extend(Marionette.Region,{buildRegion:function(regionConfig,defaultRegionType){var regionIsString="string"==typeof regionConfig,regionSelectorIsString="string"==typeof regionConfig.selector,regionTypeIsUndefined="undefined"==typeof regionConfig.regionType,regionIsType="function"==typeof regionConfig;if(!regionIsType&&!regionIsString&&!regionSelectorIsString)throw new Error("Region must be specified as a Region type, a selector string or an object with selector property");var selector,RegionType;regionIsString&&(selector=regionConfig),regionConfig.selector&&(selector=regionConfig.selector),regionIsType&&(RegionType=regionConfig),!regionIsType&&regionTypeIsUndefined&&(RegionType=defaultRegionType),regionConfig.regionType&&(RegionType=regionConfig.regionType);var region=new RegionType({el:selector});return regionConfig.parentEl&&(region.getEl=function(selector){var parentEl=regionConfig.parentEl;return _.isFunction(parentEl)&&(parentEl=parentEl()),parentEl.find(selector)}),region}}),_.extend(Marionette.Region.prototype,Backbone.Events,{show:function(view){this.ensureEl();var isViewClosed=view.isClosed||_.isUndefined(view.$el),isDifferentView=view!==this.currentView;isDifferentView&&this.close(),view.render(),(isDifferentView||isViewClosed)&&this.open(view),this.currentView=view,Marionette.triggerMethod.call(this,"show",view),Marionette.triggerMethod.call(view,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(selector){return Marionette.$(selector)},open:function(view){this.$el.empty().append(view.el)},close:function(){var view=this.currentView;view&&!view.isClosed&&(view.close?view.close():view.remove&&view.remove(),Marionette.triggerMethod.call(this,"close"),delete this.currentView)},attachView:function(view){this.currentView=view},reset:function(){this.close(),delete this.$el}}),Marionette.Region.extend=Marionette.extend,Marionette.RegionManager=function(Marionette){var RegionManager=Marionette.Controller.extend({constructor:function(options){this._regions={},Marionette.Controller.prototype.constructor.call(this,options)},addRegions:function(regionDefinitions,defaults){var regions={};return _.each(regionDefinitions,function(definition,name){"string"==typeof definition&&(definition={selector:definition}),definition.selector&&(definition=_.defaults({},definition,defaults));var region=this.addRegion(name,definition);regions[name]=region},this),regions},addRegion:function(name,definition){var region,isObject=_.isObject(definition),isString=_.isString(definition),hasSelector=!!definition.selector;return region=isString||isObject&&hasSelector?Marionette.Region.buildRegion(definition,Marionette.Region):_.isFunction(definition)?Marionette.Region.buildRegion(definition,Marionette.Region):definition,this._store(name,region),this.triggerMethod("region:add",name,region),region},get:function(name){return this._regions[name]},removeRegion:function(name){var region=this._regions[name];this._remove(name,region)},removeRegions:function(){_.each(this._regions,function(region,name){this._remove(name,region)},this)},closeRegions:function(){_.each(this._regions,function(region,name){region.close()},this)},close:function(){this.removeRegions();var args=Array.prototype.slice.call(arguments);Marionette.Controller.prototype.close.apply(this,args)},_store:function(name,region){this._regions[name]=region,this._setLength()},_remove:function(name,region){region.close(),delete this._regions[name],this._setLength(),this.triggerMethod("region:remove",name,region)},_setLength:function(){this.length=_.size(this._regions)}}),methods=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return _.each(methods,function(method){RegionManager.prototype[method]=function(){var regions=_.values(this._regions),args=[regions].concat(_.toArray(arguments));return _[method].apply(_,args)}}),RegionManager}(Marionette),Marionette.TemplateCache=function(templateId){this.templateId=templateId},_.extend(Marionette.TemplateCache,{templateCaches:{},get:function(templateId){var cachedTemplate=this.templateCaches[templateId];return cachedTemplate||(cachedTemplate=new Marionette.TemplateCache(templateId),this.templateCaches[templateId]=cachedTemplate),cachedTemplate.load()},clear:function(){var i,args=slice(arguments),length=args.length;if(length>0)for(i=0;length>i;i++)delete this.templateCaches[args[i]];else this.templateCaches={}}}),_.extend(Marionette.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var template=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(template),this.compiledTemplate},loadTemplate:function(templateId){var template=Marionette.$(templateId).html();return template&&0!==template.length||throwError("Could not find template: '"+templateId+"'","NoTemplateError"),template},compileTemplate:function(rawTemplate){return _.template(rawTemplate)}}),Marionette.Renderer={render:function(template,data){if(!template){var error=new Error("Cannot render the template since it's false, null or undefined.");throw error.name="TemplateNotFoundError",error}var templateFunc;return(templateFunc="function"==typeof template?template:Marionette.TemplateCache.get(template))(data)}},Marionette.View=Backbone.View.extend({constructor:function(){_.bindAll(this,"render");var args=Array.prototype.slice.apply(arguments);Backbone.View.prototype.constructor.apply(this,args),Marionette.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled,this)},triggerMethod:Marionette.triggerMethod,getTemplate:function(){return Marionette.getOption(this,"template")},mixinTemplateHelpers:function(target){target=target||{};var templateHelpers=Marionette.getOption(this,"templateHelpers");return _.isFunction(templateHelpers)&&(templateHelpers=templateHelpers.call(this)),_.extend(target,templateHelpers)},configureTriggers:function(){if(this.triggers){var triggerEvents={},triggers=_.result(this,"triggers");return _.each(triggers,function(value,key){triggerEvents[key]=function(e){e&&e.preventDefault&&e.preventDefault(),e&&e.stopPropagation&&e.stopPropagation();var args={view:this,model:this.model,collection:this.collection};this.triggerMethod(value,args)}},this),triggerEvents}},delegateEvents:function(events){this._delegateDOMEvents(events),Marionette.bindEntityEvents(this,this.model,Marionette.getOption(this,"modelEvents")),Marionette.bindEntityEvents(this,this.collection,Marionette.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(events){events=events||this.events,_.isFunction(events)&&(events=events.call(this));var combinedEvents={},triggers=this.configureTriggers();_.extend(combinedEvents,events,triggers),Backbone.View.prototype.delegateEvents.call(this,combinedEvents)},undelegateEvents:function(){var args=Array.prototype.slice.call(arguments);Backbone.View.prototype.undelegateEvents.apply(this,args),Marionette.unbindEntityEvents(this,this.model,Marionette.getOption(this,"modelEvents")),Marionette.unbindEntityEvents(this,this.collection,Marionette.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var shouldClose=this.triggerMethod("before:close");shouldClose!==!1&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var bindings=_.result(this,"_uiBindings");this.ui={},_.each(_.keys(bindings),function(key){var selector=bindings[key];this.ui[key]=this.$(selector)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(_.each(this.ui,function($el,name){delete this.ui[name]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),Marionette.ItemView=Marionette.View.extend({constructor:function(){Marionette.View.prototype.constructor.apply(this,slice(arguments))},serializeData:function(){var data={};return this.model?data=this.model.toJSON():this.collection&&(data={items:this.collection.toJSON()}),data},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var data=this.serializeData();data=this.mixinTemplateHelpers(data);var template=this.getTemplate(),html=Marionette.Renderer.render(template,data);return this.$el.html(html),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),Marionette.View.prototype.close.apply(this,slice(arguments)),this.triggerMethod("item:closed"))}}),Marionette.CollectionView=Marionette.View.extend({itemViewEventPrefix:"itemview",constructor:function(options){this._initChildViewStorage(),Marionette.View.prototype.constructor.apply(this,slice(arguments)),this._initialEvents()},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this.render,this))},addChildView:function(item,collection,options){this.closeEmptyView();var ItemView=this.getItemView(item),index=this.collection.indexOf(item);this.addItemView(item,ItemView,index)},onShowCalled:function(){this.children.each(function(child){Marionette.triggerMethod.call(child,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.closeEmptyView(),this.closeChildren(),this.collection&&this.collection.length>0?this.showCollection():this.showEmptyView()},showCollection:function(){var ItemView;this.collection.each(function(item,index){ItemView=this.getItemView(item),this.addItemView(item,ItemView,index)},this)},showEmptyView:function(){var EmptyView=Marionette.getOption(this,"emptyView");if(EmptyView&&!this._showingEmptyView){this._showingEmptyView=!0;var model=new Backbone.Model;this.addItemView(model,EmptyView,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getItemView:function(item){var itemView=Marionette.getOption(this,"itemView");return itemView||throwError("An `itemView` must be specified","NoItemViewError"),itemView},addItemView:function(item,ItemView,index){var itemViewOptions=Marionette.getOption(this,"itemViewOptions");_.isFunction(itemViewOptions)&&(itemViewOptions=itemViewOptions.call(this,item,index));var view=this.buildItemView(item,ItemView,itemViewOptions);this.addChildViewEventForwarding(view),this.triggerMethod("before:item:added",view),this.children.add(view),this.renderItemView(view,index),this._isShown&&Marionette.triggerMethod.call(view,"show"),this.triggerMethod("after:item:added",view)},addChildViewEventForwarding:function(view){var prefix=Marionette.getOption(this,"itemViewEventPrefix");this.listenTo(view,"all",function(){var args=slice(arguments);args[0]=prefix+":"+args[0],args.splice(1,0,view),Marionette.triggerMethod.apply(this,args)},this)},renderItemView:function(view,index){view.render(),this.appendHtml(this,view,index)},buildItemView:function(item,ItemViewType,itemViewOptions){var options=_.extend({model:item},itemViewOptions);return new ItemViewType(options)},removeItemView:function(item){var view=this.children.findByModel(item);this.removeChildView(view),this.checkEmpty()},removeChildView:function(view){view&&(this.stopListening(view),view.close?view.close():view.remove&&view.remove(),this.children.remove(view)),this.triggerMethod("item:removed",view)},checkEmpty:function(){this.collection&&0!==this.collection.length||this.showEmptyView()},appendHtml:function(collectionView,itemView,index){collectionView.$el.append(itemView.el)},_initChildViewStorage:function(){this.children=new Backbone.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),Marionette.View.prototype.close.apply(this,slice(arguments)))},closeChildren:function(){this.children.each(function(child){this.removeChildView(child)},this),this.checkEmpty()}}),Marionette.CompositeView=Marionette.CollectionView.extend({constructor:function(){Marionette.CollectionView.prototype.constructor.apply(this,slice(arguments))},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView,this),this.listenTo(this.collection,"remove",this.removeItemView,this),this.listenTo(this.collection,"reset",this._renderChildren,this))},getItemView:function(item){var itemView=Marionette.getOption(this,"itemView")||this.constructor;return itemView||throwError("An `itemView` must be specified","NoItemViewError"),itemView},serializeData:function(){var data={};return this.model&&(data=this.model.toJSON()),data},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var html=this.renderModel();return this.$el.html(html),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(Marionette.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var data={};data=this.serializeData(),data=this.mixinTemplateHelpers(data);var template=this.getTemplate();return Marionette.Renderer.render(template,data)},appendHtml:function(cv,iv,index){var $container=this.getItemViewContainer(cv);$container.append(iv.el)},getItemViewContainer:function(containerView){if("$itemViewContainer"in containerView)return containerView.$itemViewContainer;var container,itemViewContainer=Marionette.getOption(containerView,"itemViewContainer");if(itemViewContainer){var selector=_.isFunction(itemViewContainer)?itemViewContainer():itemViewContainer;container=containerView.$(selector),container.length<=0&&throwError("The specified `itemViewContainer` was not found: "+containerView.itemViewContainer,"ItemViewContainerMissingError")}else container=containerView.$el;return containerView.$itemViewContainer=container,container},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),Marionette.Layout=Marionette.ItemView.extend({regionType:Marionette.Region,constructor:function(options){options=options||{},this._firstRender=!0,this._initializeRegions(options),Marionette.ItemView.prototype.constructor.call(this,options)},render:function(){this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions();var args=Array.prototype.slice.apply(arguments),result=Marionette.ItemView.prototype.render.apply(this,args);return result},close:function(){if(!this.isClosed){this.regionManager.close();var args=Array.prototype.slice.apply(arguments);Marionette.ItemView.prototype.close.apply(this,args)}},addRegion:function(name,definition){var regions={};return regions[name]=definition,this._buildRegions(regions)[name]},addRegions:function(regions){return this.regions=_.extend({},this.regions,regions),this._buildRegions(regions)},removeRegion:function(name){return delete this.regions[name],this.regionManager.removeRegion(name)},_buildRegions:function(regions){var that=this,defaults={regionType:Marionette.getOption(this,"regionType"),parentEl:function(){return that.$el}};return this.regionManager.addRegions(regions,defaults)},_initializeRegions:function(options){var regions;this._initRegionManager(),regions=_.isFunction(this.regions)?this.regions(options):this.regions||{},this.addRegions(regions)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(region){region.reset()})},_initRegionManager:function(){this.regionManager=new Marionette.RegionManager,this.listenTo(this.regionManager,"region:add",function(name,region){this[name]=region,this.trigger("region:add",name,region)}),this.listenTo(this.regionManager,"region:remove",function(name,region){delete this[name],this.trigger("region:remove",name,region)})}}),Marionette.AppRouter=Backbone.Router.extend({constructor:function(options){Backbone.Router.prototype.constructor.apply(this,slice(arguments)),this.options=options||{};var appRoutes=Marionette.getOption(this,"appRoutes"),controller=this._getController();this.processAppRoutes(controller,appRoutes)},appRoute:function(route,methodName){var controller=this._getController();this._addAppRoute(controller,route,methodName)},processAppRoutes:function(controller,appRoutes){if(appRoutes){var routeNames=_.keys(appRoutes).reverse();_.each(routeNames,function(route){this._addAppRoute(controller,route,appRoutes[route])},this)}},_getController:function(){return Marionette.getOption(this,"controller")},_addAppRoute:function(controller,route,methodName){var method=controller[methodName];if(!method)throw new Error("Method '"+methodName+"' was not found on the controller");this.route(route,methodName,_.bind(method,controller))}}),Marionette.Application=function(options){this._initRegionManager(),this._initCallbacks=new Marionette.Callbacks,this.vent=new Backbone.Wreqr.EventAggregator,this.commands=new Backbone.Wreqr.Commands,this.reqres=new Backbone.Wreqr.RequestResponse,this.submodules={},_.extend(this,options),this.triggerMethod=Marionette.triggerMethod},_.extend(Marionette.Application.prototype,Backbone.Events,{execute:function(){var args=Array.prototype.slice.apply(arguments);this.commands.execute.apply(this.commands,args)},request:function(){var args=Array.prototype.slice.apply(arguments);return this.reqres.request.apply(this.reqres,args)},addInitializer:function(initializer){this._initCallbacks.add(initializer)},start:function(options){this.triggerMethod("initialize:before",options),this._initCallbacks.run(options,this),this.triggerMethod("initialize:after",options),this.triggerMethod("start",options)},addRegions:function(regions){return this._regionManager.addRegions(regions)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(region){this._regionManager.removeRegion(region)},getRegion:function(region){return this._regionManager.get(region)},module:function(moduleNames,moduleDefinition){var args=slice(arguments);return args.unshift(this),Marionette.Module.create.apply(Marionette.Module,args)},_initRegionManager:function(){this._regionManager=new Marionette.RegionManager,this.listenTo(this._regionManager,"region:add",function(name,region){this[name]=region}),this.listenTo(this._regionManager,"region:remove",function(name,region){delete this[name]})}}),Marionette.Application.extend=Marionette.extend,Marionette.Module=function(moduleName,app){this.moduleName=moduleName,this.submodules={},this._setupInitializersAndFinalizers(),this.app=app,this.startWithParent=!0,this.triggerMethod=Marionette.triggerMethod},_.extend(Marionette.Module.prototype,Backbone.Events,{addInitializer:function(callback){this._initializerCallbacks.add(callback)},addFinalizer:function(callback){this._finalizerCallbacks.add(callback)},start:function(options){this._isInitialized||(_.each(this.submodules,function(mod){mod.startWithParent&&mod.start(options)}),this.triggerMethod("before:start",options),this._initializerCallbacks.run(options,this),this._isInitialized=!0,this.triggerMethod("start",options))},stop:function(){this._isInitialized&&(this._isInitialized=!1,Marionette.triggerMethod.call(this,"before:stop"),_.each(this.submodules,function(mod){mod.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),Marionette.triggerMethod.call(this,"stop"))},addDefinition:function(moduleDefinition,customArgs){this._runModuleDefinition(moduleDefinition,customArgs)},_runModuleDefinition:function(definition,customArgs){if(definition){var args=_.flatten([this,this.app,Backbone,Marionette,Marionette.$,_,customArgs]);definition.apply(this,args)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new Marionette.Callbacks,this._finalizerCallbacks=new Marionette.Callbacks}}),_.extend(Marionette.Module,{create:function(app,moduleNames,moduleDefinition){var module=app,customArgs=slice(arguments);customArgs.splice(0,3),moduleNames=moduleNames.split(".");var length=moduleNames.length,moduleDefinitions=[];return moduleDefinitions[length-1]=moduleDefinition,_.each(moduleNames,function(moduleName,i){var parentModule=module;module=this._getModule(parentModule,moduleName,app),this._addModuleDefinition(parentModule,module,moduleDefinitions[i],customArgs)},this),module},_getModule:function(parentModule,moduleName,app,def,args){var module=parentModule[moduleName];return module||(module=new Marionette.Module(moduleName,app),parentModule[moduleName]=module,parentModule.submodules[moduleName]=module),module},_addModuleDefinition:function(parentModule,module,def,args){var fn,startWithParent;_.isFunction(def)?(fn=def,startWithParent=!0):_.isObject(def)?(fn=def.define,startWithParent=def.startWithParent):startWithParent=!0,fn&&module.addDefinition(fn,args),module.startWithParent=module.startWithParent&&startWithParent,module.startWithParent&&!module.startWithParentIsConfigured&&(module.startWithParentIsConfigured=!0,parentModule.addInitializer(function(options){module.startWithParent&&module.start(options)}))}}),Marionette}(this,Backbone,_);
!function(factory){"function"==typeof define&&define.amd?define(factory):window.purl=factory()}(function(){function parseUri(url,strictMode){for(var str=decodeURI(url),res=parser[strictMode?"strict":"loose"].exec(str),uri={attr:{},param:{},seg:{}},i=14;i--;)uri.attr[key[i]]=res[i]||"";return uri.param.query=parseString(uri.attr.query),uri.param.fragment=parseString(uri.attr.fragment),uri.seg.path=uri.attr.path.replace(/^\/+|\/+$/g,"").split("/"),uri.seg.fragment=uri.attr.fragment.replace(/^\/+|\/+$/g,"").split("/"),uri.attr.base=uri.attr.host?(uri.attr.protocol?uri.attr.protocol+"://"+uri.attr.host:uri.attr.host)+(uri.attr.port?":"+uri.attr.port:""):"",uri}function getAttrName(elm){var tn=elm.tagName;return"undefined"!=typeof tn?tag2attr[tn.toLowerCase()]:tn}function promote(parent,key){if(0===parent[key].length)return parent[key]={};var t={};for(var i in parent[key])t[i]=parent[key][i];return parent[key]=t,t}function parse(parts,parent,key,val){var part=parts.shift();if(part){var obj=parent[key]=parent[key]||[];"]"==part?isArray(obj)?""!==val&&obj.push(val):"object"==typeof obj?obj[keys(obj).length]=val:obj=parent[key]=[parent[key],val]:~part.indexOf("]")?(part=part.substr(0,part.length-1),!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val)):(!isint.test(part)&&isArray(obj)&&(obj=promote(parent,key)),parse(parts,obj,part,val))}else isArray(parent[key])?parent[key].push(val):parent[key]="object"==typeof parent[key]?val:"undefined"==typeof parent[key]?val:[parent[key],val]}function merge(parent,key,val){if(~key.indexOf("]")){var parts=key.split("[");parse(parts,parent,"base",val)}else{if(!isint.test(key)&&isArray(parent.base)){var t={};for(var k in parent.base)t[k]=parent.base[k];parent.base=t}""!==key&&set(parent.base,key,val)}return parent}function parseString(str){return reduce(String(str).split(/&|;/),function(ret,pair){try{pair=decodeURIComponent(pair.replace(/\+/g," "))}catch(e){}var eql=pair.indexOf("="),brace=lastBraceInKey(pair),key=pair.substr(0,brace||eql),val=pair.substr(brace||eql,pair.length);return val=val.substr(val.indexOf("=")+1,val.length),""===key&&(key=pair,val=""),merge(ret,key,val)},{base:{}}).base}function set(obj,key,val){var v=obj[key];"undefined"==typeof v?obj[key]=val:isArray(v)?v.push(val):obj[key]=[v,val]}function lastBraceInKey(str){for(var brace,c,len=str.length,i=0;len>i;++i)if(c=str[i],"]"==c&&(brace=!1),"["==c&&(brace=!0),"="==c&&!brace)return i}function reduce(obj,accumulator){for(var i=0,l=obj.length>>0,curr=arguments[2];l>i;)i in obj&&(curr=accumulator.call(void 0,curr,obj[i],i,obj)),++i;return curr}function isArray(vArg){return"[object Array]"===Object.prototype.toString.call(vArg)}function keys(obj){var key_array=[];for(var prop in obj)obj.hasOwnProperty(prop)&&key_array.push(prop);return key_array}function purl(url,strictMode){return 1===arguments.length&&url===!0&&(strictMode=!0,url=void 0),strictMode=strictMode||!1,url=url||window.location.toString(),{data:parseUri(url,strictMode),attr:function(attr){return attr=aliases[attr]||attr,"undefined"!=typeof attr?this.data.attr[attr]:this.data.attr},param:function(param){return"undefined"!=typeof param?this.data.param.query[param]:this.data.param.query},fparam:function(param){return"undefined"!=typeof param?this.data.param.fragment[param]:this.data.param.fragment},segment:function(seg){return"undefined"==typeof seg?this.data.seg.path:(seg=0>seg?this.data.seg.path.length+seg:seg-1,this.data.seg.path[seg])},fsegment:function(seg){return"undefined"==typeof seg?this.data.seg.fragment:(seg=0>seg?this.data.seg.fragment.length+seg:seg-1,this.data.seg.fragment[seg])}}}var tag2attr={a:"href",img:"src",form:"action",base:"href",script:"src",iframe:"src",link:"href",embed:"src",object:"data"},key=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","fragment"],aliases={anchor:"fragment"},parser={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},isint=/^[0-9]+$/;return purl.jQuery=function($){null!=$&&($.fn.url=function(strictMode){var url="";return this.length&&(url=$(this).attr(getAttrName(this[0]))||""),purl(url,strictMode)},$.url=purl)},purl.jQuery(window.jQuery),purl});
!function(window,document,$){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;return $.each(elem.attributes,function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)}),newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr("placeholder")&&$input.hasClass("placeholder"))if($input.data("placeholder-password")){if($input=$input.hide().next().show().attr("id",$input.removeAttr("id").data("placeholder-id")),event===!0)return $input[0].value=value;$input.focus()}else input.value="",$input.removeClass("placeholder"),input==document.activeElement&&input.select()}function setPlaceholder(){var $replacement,input=this,$input=$(input),id=this.id;if(""==input.value){if("password"==input.type){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().attr({type:"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{type:"text"}))}$replacement.removeAttr("name").data({"placeholder-password":$input,"placeholder-id":id}).bind("focus.placeholder",clearPlaceholder),$input.data({"placeholder-textinput":$replacement,"placeholder-id":id}).before($replacement)}$input=$input.removeAttr("id").hide().prev().attr("id",id).show()}$input.addClass("placeholder"),$input[0].value=$input.attr("placeholder")}else $input.removeClass("placeholder")}var hooks,placeholder,isInputSupported="placeholder"in document.createElement("input"),isTextareaSupported="placeholder"in document.createElement("textarea"),prototype=$.fn,valHooks=$.valHooks,propHooks=$.propHooks;isInputSupported&&isTextareaSupported?(placeholder=prototype.placeholder=function(){return this},placeholder.input=placeholder.textarea=!0):(placeholder=prototype.placeholder=function(){var $this=this;return $this.filter((isInputSupported?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":clearPlaceholder,"blur.placeholder":setPlaceholder}).data("placeholder-enabled",!0).trigger("blur.placeholder"),$this},placeholder.input=isInputSupported,placeholder.textarea=isTextareaSupported,hooks={get:function(element){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value:$element.data("placeholder-enabled")&&$element.hasClass("placeholder")?"":element.value},set:function(element,value){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value=value:$element.data("placeholder-enabled")?(""==value?(element.value=value,element!=document.activeElement&&setPlaceholder.call(element)):$element.hasClass("placeholder")?clearPlaceholder.call(element,!0,value)||(element.value=value):element.value=value,$element):element.value=value}},isInputSupported||(valHooks.input=hooks,propHooks.value=hooks),isTextareaSupported||(valHooks.textarea=hooks,propHooks.value=hooks),$(function(){$(document).delegate("form","submit.placeholder",function(){var $inputs=$(".placeholder",this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder)},10)})}),$(window).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery);
function details_shim(Details){if(!(Details&&"nodeType"in Details&&"tagName"in Details))return details_shim.init();var Summary;if("details"==Details.tagName.toLowerCase())Summary=Details.getElementsByTagName("summary")[0];else{if(!Details.parentNode||"summary"!=Details.tagName.toLowerCase())return!1;Summary=Details,Details=Summary.parentNode}if("boolean"==typeof Details.open)return!1;var state=Details.outerHTML||(new XMLSerializer).serializeToString(Details);state=state.substring(0,state.indexOf(">")),state=-1!=state.indexOf("open")&&-1==state.indexOf('open=""')?"open":"closed",Details.setAttribute("data-open",state),Details.className+=" "+state,Summary.addEventListener("click",function(){details_shim.toggle(Details)}),Object.defineProperty(Details,"open",{get:function(){return"open"==this.getAttribute("data-open")},set:function(state){details_shim.toggle(this,state)}});for(var j=0;j<Details.childNodes.length;j++)if(3==Details.childNodes[j].nodeType&&/[^\s]/.test(Details.childNodes[j].data)){var span=document.createElement("span"),text=Details.childNodes[j];Details.insertBefore(span,text),Details.removeChild(text),span.appendChild(text)}}details_shim.toggle=function(Details,state){state="undefined"==typeof state?"open"==Details.getAttribute("data-open")?"closed":"open":state?"open":"closed",Details.setAttribute("data-open",state),Details.className=Details.className.replace(/\bopen\b|\bclosed\b/g," ")+" "+state},details_shim.init=function(){for(var Summaries=document.getElementsByTagName("summary"),i=0;i<Summaries.length;i++)details_shim(Summaries[i])},window.addEventListener?window.addEventListener("load",details_shim.init,!1):window.attachEvent&&window.attachEvent("onload",details_shim.init);
!function(window,document,$){function args(elem){var newAttrs={},rinlinejQuery=/^jQuery\d+$/;return $.each(elem.attributes,function(i,attr){attr.specified&&!rinlinejQuery.test(attr.name)&&(newAttrs[attr.name]=attr.value)}),newAttrs}function clearPlaceholder(event,value){var input=this,$input=$(input);if(input.value==$input.attr("placeholder")&&$input.hasClass("placeholder"))if($input.data("placeholder-password")){if($input=$input.hide().next().show().attr("id",$input.removeAttr("id").data("placeholder-id")),event===!0)return $input[0].value=value;$input.focus()}else input.value="",$input.removeClass("placeholder"),input==document.activeElement&&input.select()}function setPlaceholder(){var $replacement,input=this,$input=$(input),id=this.id;if(""==input.value){if("password"==input.type){if(!$input.data("placeholder-textinput")){try{$replacement=$input.clone().attr({type:"text"})}catch(e){$replacement=$("<input>").attr($.extend(args(this),{type:"text"}))}$replacement.removeAttr("name").data({"placeholder-password":$input,"placeholder-id":id}).bind("focus.placeholder",clearPlaceholder),$input.data({"placeholder-textinput":$replacement,"placeholder-id":id}).before($replacement)}$input=$input.removeAttr("id").hide().prev().attr("id",id).show()}$input.addClass("placeholder"),$input[0].value=$input.attr("placeholder")}else $input.removeClass("placeholder")}var hooks,placeholder,isInputSupported="placeholder"in document.createElement("input"),isTextareaSupported="placeholder"in document.createElement("textarea"),prototype=$.fn,valHooks=$.valHooks,propHooks=$.propHooks;isInputSupported&&isTextareaSupported?(placeholder=prototype.placeholder=function(){return this},placeholder.input=placeholder.textarea=!0):(placeholder=prototype.placeholder=function(){var $this=this;return $this.filter((isInputSupported?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":clearPlaceholder,"blur.placeholder":setPlaceholder}).data("placeholder-enabled",!0).trigger("blur.placeholder"),$this},placeholder.input=isInputSupported,placeholder.textarea=isTextareaSupported,hooks={get:function(element){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value:$element.data("placeholder-enabled")&&$element.hasClass("placeholder")?"":element.value},set:function(element,value){var $element=$(element),$passwordInput=$element.data("placeholder-password");return $passwordInput?$passwordInput[0].value=value:$element.data("placeholder-enabled")?(""==value?(element.value=value,element!=document.activeElement&&setPlaceholder.call(element)):$element.hasClass("placeholder")?clearPlaceholder.call(element,!0,value)||(element.value=value):element.value=value,$element):element.value=value}},isInputSupported||(valHooks.input=hooks,propHooks.value=hooks),isTextareaSupported||(valHooks.textarea=hooks,propHooks.value=hooks),$(function(){$(document).delegate("form","submit.placeholder",function(){var $inputs=$(".placeholder",this).each(clearPlaceholder);setTimeout(function(){$inputs.each(setPlaceholder)},10)})}),$(window).bind("beforeunload.placeholder",function(){$(".placeholder").each(function(){this.value=""})}))}(this,document,jQuery);
var IN_GLOBAL_SCOPE=!0;window.PR_SHOULD_USE_CONTINUATION=!0;var prettyPrintOne,prettyPrint;!function(){function combinePrefixPatterns(regexs){function decodeEscape(charsetPart){var cc0=charsetPart.charCodeAt(0);if(92!==cc0)return cc0;var c1=charsetPart.charAt(1);return cc0=escapeCharToCodeUnit[c1],cc0?cc0:c1>="0"&&"7">=c1?parseInt(charsetPart.substring(1),8):"u"===c1||"x"===c1?parseInt(charsetPart.substring(2),16):charsetPart.charCodeAt(1)}function encodeEscape(charCode){if(32>charCode)return(16>charCode?"\\x0":"\\x")+charCode.toString(16);var ch=String.fromCharCode(charCode);return"\\"===ch||"-"===ch||"]"===ch||"^"===ch?"\\"+ch:ch}function caseFoldCharset(charSet){var charsetParts=charSet.substring(1,charSet.length-1).match(new RegExp("\\\\u[0-9A-Fa-f]{4}|\\\\x[0-9A-Fa-f]{2}|\\\\[0-3][0-7]{0,2}|\\\\[0-7]{1,2}|\\\\[\\s\\S]|-|[^-\\\\]","g")),ranges=[],inverse="^"===charsetParts[0],out=["["];inverse&&out.push("^");for(var i=inverse?1:0,n=charsetParts.length;n>i;++i){var p=charsetParts[i];if(/\\[bdsw]/i.test(p))out.push(p);else{var end,start=decodeEscape(p);n>i+2&&"-"===charsetParts[i+1]?(end=decodeEscape(charsetParts[i+2]),i+=2):end=start,ranges.push([start,end]),65>end||start>122||(65>end||start>90||ranges.push([32|Math.max(65,start),32|Math.min(end,90)]),97>end||start>122||ranges.push([-33&Math.max(97,start),-33&Math.min(end,122)]))}}ranges.sort(function(a,b){return a[0]-b[0]||b[1]-a[1]});for(var consolidatedRanges=[],lastRange=[],i=0;i<ranges.length;++i){var range=ranges[i];range[0]<=lastRange[1]+1?lastRange[1]=Math.max(lastRange[1],range[1]):consolidatedRanges.push(lastRange=range)}for(var i=0;i<consolidatedRanges.length;++i){var range=consolidatedRanges[i];out.push(encodeEscape(range[0])),range[1]>range[0]&&(range[1]+1>range[0]&&out.push("-"),out.push(encodeEscape(range[1])))}return out.push("]"),out.join("")}function allowAnywhereFoldCaseAndRenumberGroups(regex){for(var parts=regex.source.match(new RegExp("(?:\\[(?:[^\\x5C\\x5D]|\\\\[\\s\\S])*\\]|\\\\u[A-Fa-f0-9]{4}|\\\\x[A-Fa-f0-9]{2}|\\\\[0-9]+|\\\\[^ux0-9]|\\(\\?[:!=]|[\\(\\)\\^]|[^\\x5B\\x5C\\(\\)\\^]+)","g")),n=parts.length,capturedGroups=[],i=0,groupIndex=0;n>i;++i){var p=parts[i];if("("===p)++groupIndex;else if("\\"===p.charAt(0)){var decimalValue=+p.substring(1);decimalValue&&(groupIndex>=decimalValue?capturedGroups[decimalValue]=-1:parts[i]=encodeEscape(decimalValue))}}for(var i=1;i<capturedGroups.length;++i)-1===capturedGroups[i]&&(capturedGroups[i]=++capturedGroupIndex);for(var i=0,groupIndex=0;n>i;++i){var p=parts[i];if("("===p)++groupIndex,capturedGroups[groupIndex]||(parts[i]="(?:");else if("\\"===p.charAt(0)){var decimalValue=+p.substring(1);decimalValue&&groupIndex>=decimalValue&&(parts[i]="\\"+capturedGroups[decimalValue])}}for(var i=0;n>i;++i)"^"===parts[i]&&"^"!==parts[i+1]&&(parts[i]="");if(regex.ignoreCase&&needToFoldCase)for(var i=0;n>i;++i){var p=parts[i],ch0=p.charAt(0);p.length>=2&&"["===ch0?parts[i]=caseFoldCharset(p):"\\"!==ch0&&(parts[i]=p.replace(/[a-zA-Z]/g,function(ch){var cc=ch.charCodeAt(0);return"["+String.fromCharCode(-33&cc,32|cc)+"]"}))}return parts.join("")}for(var capturedGroupIndex=0,needToFoldCase=!1,ignoreCase=!1,i=0,n=regexs.length;n>i;++i){var regex=regexs[i];if(regex.ignoreCase)ignoreCase=!0;else if(/[a-z]/i.test(regex.source.replace(/\\u[0-9a-f]{4}|\\x[0-9a-f]{2}|\\[^ux]/gi,""))){needToFoldCase=!0,ignoreCase=!1;break}}for(var escapeCharToCodeUnit={b:8,t:9,n:10,v:11,f:12,r:13},rewritten=[],i=0,n=regexs.length;n>i;++i){var regex=regexs[i];if(regex.global||regex.multiline)throw new Error(""+regex);rewritten.push("(?:"+allowAnywhereFoldCaseAndRenumberGroups(regex)+")")}return new RegExp(rewritten.join("|"),ignoreCase?"gi":"g")}function extractSourceSpans(node,isPreformatted){function walk(node){var type=node.nodeType;if(1==type){if(nocode.test(node.className))return;for(var child=node.firstChild;child;child=child.nextSibling)walk(child);var nodeName=node.nodeName.toLowerCase();("br"===nodeName||"li"===nodeName)&&(chunks[k]="\n",spans[k<<1]=length++,spans[k++<<1|1]=node)}else if(3==type||4==type){var text=node.nodeValue;text.length&&(text=isPreformatted?text.replace(/\r\n?/g,"\n"):text.replace(/[ \t\r\n]+/g," "),chunks[k]=text,spans[k<<1]=length,length+=text.length,spans[k++<<1|1]=node)}}var nocode=/(?:^|\s)nocode(?:\s|$)/,chunks=[],length=0,spans=[],k=0;return walk(node),{sourceCode:chunks.join("").replace(/\n$/,""),spans:spans}}function appendDecorations(basePos,sourceCode,langHandler,out){if(sourceCode){var job={sourceCode:sourceCode,basePos:basePos};langHandler(job),out.push.apply(out,job.decorations)}}function childContentWrapper(element){for(var wrapper=void 0,c=element.firstChild;c;c=c.nextSibling){var type=c.nodeType;wrapper=1===type?wrapper?element:c:3===type&&notWs.test(c.nodeValue)?element:wrapper}return wrapper===element?void 0:wrapper}function createSimpleLexer(shortcutStylePatterns,fallthroughStylePatterns){var tokenizer,shortcuts={};!function(){for(var allPatterns=shortcutStylePatterns.concat(fallthroughStylePatterns),allRegexs=[],regexKeys={},i=0,n=allPatterns.length;n>i;++i){var patternParts=allPatterns[i],shortcutChars=patternParts[3];if(shortcutChars)for(var c=shortcutChars.length;--c>=0;)shortcuts[shortcutChars.charAt(c)]=patternParts;var regex=patternParts[1],k=""+regex;regexKeys.hasOwnProperty(k)||(allRegexs.push(regex),regexKeys[k]=null)}allRegexs.push(/[\0-\uffff]/),tokenizer=combinePrefixPatterns(allRegexs)}();var nPatterns=fallthroughStylePatterns.length,decorate=function(job){for(var sourceCode=job.sourceCode,basePos=job.basePos,decorations=[basePos,PR_PLAIN],pos=0,tokens=sourceCode.match(tokenizer)||[],styleCache={},ti=0,nTokens=tokens.length;nTokens>ti;++ti){var isEmbedded,token=tokens[ti],style=styleCache[token],match=void 0;if("string"==typeof style)isEmbedded=!1;else{var patternParts=shortcuts[token.charAt(0)];if(patternParts)match=token.match(patternParts[1]),style=patternParts[0];else{for(var i=0;nPatterns>i;++i)if(patternParts=fallthroughStylePatterns[i],match=token.match(patternParts[1])){style=patternParts[0];break}match||(style=PR_PLAIN)}isEmbedded=style.length>=5&&"lang-"===style.substring(0,5),!isEmbedded||match&&"string"==typeof match[1]||(isEmbedded=!1,style=PR_SOURCE),isEmbedded||(styleCache[token]=style)}var tokenStart=pos;if(pos+=token.length,isEmbedded){var embeddedSource=match[1],embeddedSourceStart=token.indexOf(embeddedSource),embeddedSourceEnd=embeddedSourceStart+embeddedSource.length;match[2]&&(embeddedSourceEnd=token.length-match[2].length,embeddedSourceStart=embeddedSourceEnd-embeddedSource.length);var lang=style.substring(5);appendDecorations(basePos+tokenStart,token.substring(0,embeddedSourceStart),decorate,decorations),appendDecorations(basePos+tokenStart+embeddedSourceStart,embeddedSource,langHandlerForExtension(lang,embeddedSource),decorations),appendDecorations(basePos+tokenStart+embeddedSourceEnd,token.substring(embeddedSourceEnd),decorate,decorations)}else decorations.push(basePos+tokenStart,style)}job.decorations=decorations};return decorate}function sourceDecorator(options){var shortcutStylePatterns=[],fallthroughStylePatterns=[];shortcutStylePatterns.push(options.tripleQuotedStrings?[PR_STRING,/^(?:\'\'\'(?:[^\'\\]|\\[\s\S]|\'{1,2}(?=[^\']))*(?:\'\'\'|$)|\"\"\"(?:[^\"\\]|\\[\s\S]|\"{1,2}(?=[^\"]))*(?:\"\"\"|$)|\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$))/,null,"'\""]:options.multiLineStrings?[PR_STRING,/^(?:\'(?:[^\\\']|\\[\s\S])*(?:\'|$)|\"(?:[^\\\"]|\\[\s\S])*(?:\"|$)|\`(?:[^\\\`]|\\[\s\S])*(?:\`|$))/,null,"'\"`"]:[PR_STRING,/^(?:\'(?:[^\\\'\r\n]|\\.)*(?:\'|$)|\"(?:[^\\\"\r\n]|\\.)*(?:\"|$))/,null,"\"'"]),options.verbatimStrings&&fallthroughStylePatterns.push([PR_STRING,/^@\"(?:[^\"]|\"\")*(?:\"|$)/,null]);var hc=options.hashComments;hc&&(options.cStyleComments?(shortcutStylePatterns.push(hc>1?[PR_COMMENT,/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,null,"#"]:[PR_COMMENT,/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\r\n]*)/,null,"#"]),fallthroughStylePatterns.push([PR_STRING,/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,null])):shortcutStylePatterns.push([PR_COMMENT,/^#[^\r\n]*/,null,"#"])),options.cStyleComments&&(fallthroughStylePatterns.push([PR_COMMENT,/^\/\/[^\r\n]*/,null]),fallthroughStylePatterns.push([PR_COMMENT,/^\/\*[\s\S]*?(?:\*\/|$)/,null]));var regexLiterals=options.regexLiterals;if(regexLiterals){var regexExcls=regexLiterals>1?"":"\n\r",regexAny=regexExcls?".":"[\\S\\s]",REGEX_LITERAL="/(?=[^/*"+regexExcls+"])(?:[^/\\x5B\\x5C"+regexExcls+"]|\\x5C"+regexAny+"|\\x5B(?:[^\\x5C\\x5D"+regexExcls+"]|\\x5C"+regexAny+")*(?:\\x5D|$))+/";fallthroughStylePatterns.push(["lang-regex",RegExp("^"+REGEXP_PRECEDER_PATTERN+"("+REGEX_LITERAL+")")])}var types=options.types;types&&fallthroughStylePatterns.push([PR_TYPE,types]);var keywords=(""+options.keywords).replace(/^ | $/g,"");keywords.length&&fallthroughStylePatterns.push([PR_KEYWORD,new RegExp("^(?:"+keywords.replace(/[\s,]+/g,"|")+")\\b"),null]),shortcutStylePatterns.push([PR_PLAIN,/^\s+/,null," \r\n	 "]);var punctuation="^.[^\\s\\w.$@'\"`/\\\\]*";return options.regexLiterals&&(punctuation+="(?!s*/)"),fallthroughStylePatterns.push([PR_LITERAL,/^@[a-z_$][a-z_$@0-9]*/i,null],[PR_TYPE,/^(?:[@_]?[A-Z]+[a-z][A-Za-z_$@0-9]*|\w+_t\b)/,null],[PR_PLAIN,/^[a-z_$][a-z_$@0-9]*/i,null],[PR_LITERAL,new RegExp("^(?:0x[a-f0-9]+|(?:\\d(?:_\\d+)*\\d*(?:\\.\\d*)?|\\.\\d\\+)(?:e[+\\-]?\\d+)?)[a-z]*","i"),null,"0123456789"],[PR_PLAIN,/^\\[\s\S]?/,null],[PR_PUNCTUATION,new RegExp(punctuation),null]),createSimpleLexer(shortcutStylePatterns,fallthroughStylePatterns)}function numberLines(node,opt_startLineNum,isPreformatted){function walk(node){var type=node.nodeType;if(1!=type||nocode.test(node.className)){if((3==type||4==type)&&isPreformatted){var text=node.nodeValue,match=text.match(lineBreak);if(match){var firstLine=text.substring(0,match.index);node.nodeValue=firstLine;var tail=text.substring(match.index+match[0].length);if(tail){var parent=node.parentNode;parent.insertBefore(document.createTextNode(tail),node.nextSibling)}breakAfter(node),firstLine||node.parentNode.removeChild(node)}}}else if("br"===node.nodeName)breakAfter(node),node.parentNode&&node.parentNode.removeChild(node);else for(var child=node.firstChild;child;child=child.nextSibling)walk(child)}function breakAfter(lineEndNode){function breakLeftOf(limit,copy){var rightSide=copy?limit.cloneNode(!1):limit,parent=limit.parentNode;if(parent){var parentClone=breakLeftOf(parent,1),next=limit.nextSibling;parentClone.appendChild(rightSide);for(var sibling=next;sibling;sibling=next)next=sibling.nextSibling,parentClone.appendChild(sibling)}return rightSide}for(;!lineEndNode.nextSibling;)if(lineEndNode=lineEndNode.parentNode,!lineEndNode)return;for(var parent,copiedListItem=breakLeftOf(lineEndNode.nextSibling,0);(parent=copiedListItem.parentNode)&&1===parent.nodeType;)copiedListItem=parent;listItems.push(copiedListItem)}for(var nocode=/(?:^|\s)nocode(?:\s|$)/,lineBreak=/\r\n?|\n/,document=node.ownerDocument,li=document.createElement("li");node.firstChild;)li.appendChild(node.firstChild);for(var listItems=[li],i=0;i<listItems.length;++i)walk(listItems[i]);opt_startLineNum===(0|opt_startLineNum)&&listItems[0].setAttribute("value",opt_startLineNum);var ol=document.createElement("ol");ol.className="linenums";for(var offset=Math.max(0,opt_startLineNum-1|0)||0,i=0,n=listItems.length;n>i;++i)li=listItems[i],li.className="L"+(i+offset)%10,li.firstChild||li.appendChild(document.createTextNode(" ")),ol.appendChild(li);node.appendChild(ol)}function recombineTagsAndDecorations(job){var isIE8OrEarlier=/\bMSIE\s(\d+)/.exec(navigator.userAgent);isIE8OrEarlier=isIE8OrEarlier&&+isIE8OrEarlier[1]<=8;var newlineRe=/\n/g,source=job.sourceCode,sourceLength=source.length,sourceIndex=0,spans=job.spans,nSpans=spans.length,spanIndex=0,decorations=job.decorations,nDecorations=decorations.length,decorationIndex=0;decorations[nDecorations]=sourceLength;var decPos,i;for(i=decPos=0;nDecorations>i;)decorations[i]!==decorations[i+2]?(decorations[decPos++]=decorations[i++],decorations[decPos++]=decorations[i++]):i+=2;for(nDecorations=decPos,i=decPos=0;nDecorations>i;){for(var startPos=decorations[i],startDec=decorations[i+1],end=i+2;nDecorations>=end+2&&decorations[end+1]===startDec;)end+=2;decorations[decPos++]=startPos,decorations[decPos++]=startDec,i=end}nDecorations=decorations.length=decPos;var oldDisplay,sourceNode=job.sourceNode;sourceNode&&(oldDisplay=sourceNode.style.display,sourceNode.style.display="none");try{for(;nSpans>spanIndex;){var styledText,spanEnd=(spans[spanIndex],spans[spanIndex+2]||sourceLength),decEnd=decorations[decorationIndex+2]||sourceLength,end=Math.min(spanEnd,decEnd),textNode=spans[spanIndex+1];if(1!==textNode.nodeType&&(styledText=source.substring(sourceIndex,end))){isIE8OrEarlier&&(styledText=styledText.replace(newlineRe,"\r")),textNode.nodeValue=styledText;var document=textNode.ownerDocument,span=document.createElement("span");span.className=decorations[decorationIndex+1];var parentNode=textNode.parentNode;parentNode.replaceChild(span,textNode),span.appendChild(textNode),spanEnd>sourceIndex&&(spans[spanIndex+1]=textNode=document.createTextNode(source.substring(end,spanEnd)),parentNode.insertBefore(textNode,span.nextSibling))}sourceIndex=end,sourceIndex>=spanEnd&&(spanIndex+=2),sourceIndex>=decEnd&&(decorationIndex+=2)}}finally{sourceNode&&(sourceNode.style.display=oldDisplay)}}function registerLangHandler(handler,fileExtensions){for(var i=fileExtensions.length;--i>=0;){var ext=fileExtensions[i];langHandlerRegistry.hasOwnProperty(ext)?win.console&&console.warn("cannot override language handler %s",ext):langHandlerRegistry[ext]=handler}}function langHandlerForExtension(extension,source){return extension&&langHandlerRegistry.hasOwnProperty(extension)||(extension=/^\s*</.test(source)?"default-markup":"default-code"),langHandlerRegistry[extension]}function applyDecorator(job){var opt_langExtension=job.langExtension;try{var sourceAndSpans=extractSourceSpans(job.sourceNode,job.pre),source=sourceAndSpans.sourceCode;job.sourceCode=source,job.spans=sourceAndSpans.spans,job.basePos=0,langHandlerForExtension(opt_langExtension,source)(job),recombineTagsAndDecorations(job)}catch(e){win.console&&console.log(e&&e.stack||e)}}function $prettyPrintOne(sourceCodeHtml,opt_langExtension,opt_numberLines){var container=document.createElement("div");container.innerHTML="<pre>"+sourceCodeHtml+"</pre>",container=container.firstChild,opt_numberLines&&numberLines(container,opt_numberLines,!0);var job={langExtension:opt_langExtension,numberLines:opt_numberLines,sourceNode:container,pre:1};return applyDecorator(job),container.innerHTML}function $prettyPrint(opt_whenDone,opt_root){function byTagName(tn){return root.getElementsByTagName(tn)}function doWork(){for(var endTime=win.PR_SHOULD_USE_CONTINUATION?clock.now()+250:1/0;k<elements.length&&clock.now()<endTime;k++){for(var cs=elements[k],attrs=EMPTY,preceder=cs;preceder=preceder.previousSibling;){var nt=preceder.nodeType,value=(7===nt||8===nt)&&preceder.nodeValue;if(value?!/^\??prettify\b/.test(value):3!==nt||/\S/.test(preceder.nodeValue))break;if(value){attrs={},value.replace(/\b(\w+)=([\w:.%+-]+)/g,function(_,name,value){attrs[name]=value});break}}var className=cs.className;if((attrs!==EMPTY||prettyPrintRe.test(className))&&!prettyPrintedRe.test(className)){for(var nested=!1,p=cs.parentNode;p;p=p.parentNode){var tn=p.tagName;if(preCodeXmpRe.test(tn)&&p.className&&prettyPrintRe.test(p.className)){nested=!0;break}}if(!nested){cs.className+=" prettyprinted";var langExtension=attrs.lang;if(!langExtension){langExtension=className.match(langExtensionRe);var wrapper;!langExtension&&(wrapper=childContentWrapper(cs))&&codeRe.test(wrapper.tagName)&&(langExtension=wrapper.className.match(langExtensionRe)),langExtension&&(langExtension=langExtension[1])}var preformatted;if(preformattedTagNameRe.test(cs.tagName))preformatted=1;else{var currentStyle=cs.currentStyle,defaultView=doc.defaultView,whitespace=currentStyle?currentStyle.whiteSpace:defaultView&&defaultView.getComputedStyle?defaultView.getComputedStyle(cs,null).getPropertyValue("white-space"):0;preformatted=whitespace&&"pre"===whitespace.substring(0,3)}var lineNums=attrs.linenums;(lineNums="true"===lineNums||+lineNums)||(lineNums=className.match(/\blinenums\b(?::(\d+))?/),lineNums=lineNums?lineNums[1]&&lineNums[1].length?+lineNums[1]:!0:!1),lineNums&&numberLines(cs,lineNums,preformatted),prettyPrintingJob={langExtension:langExtension,sourceNode:cs,numberLines:lineNums,pre:preformatted},applyDecorator(prettyPrintingJob)}}}k<elements.length?setTimeout(doWork,250):"function"==typeof opt_whenDone&&opt_whenDone()}for(var root=opt_root||document.body,doc=root.ownerDocument||document,codeSegments=[byTagName("pre"),byTagName("code"),byTagName("xmp")],elements=[],i=0;i<codeSegments.length;++i)for(var j=0,n=codeSegments[i].length;n>j;++j)elements.push(codeSegments[i][j]);codeSegments=null;var clock=Date;clock.now||(clock={now:function(){return+new Date}});var prettyPrintingJob,k=0,langExtensionRe=/\blang(?:uage)?-([\w.]+)(?!\S)/,prettyPrintRe=/\bprettyprint\b/,prettyPrintedRe=/\bprettyprinted\b/,preformattedTagNameRe=/pre|xmp/i,codeRe=/^code$/i,preCodeXmpRe=/^(?:pre|code|xmp)$/i,EMPTY={};doWork()}var win=window,FLOW_CONTROL_KEYWORDS=["break,continue,do,else,for,if,return,while"],C_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],COMMON_KEYWORDS=[C_KEYWORDS,"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],CPP_KEYWORDS=[COMMON_KEYWORDS,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],JAVA_KEYWORDS=[COMMON_KEYWORDS,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],CSHARP_KEYWORDS=[JAVA_KEYWORDS,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],COFFEE_KEYWORDS="all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",JSCRIPT_KEYWORDS=[COMMON_KEYWORDS,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],PERL_KEYWORDS="caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",PYTHON_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],RUBY_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],RUST_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],SH_KEYWORDS=[FLOW_CONTROL_KEYWORDS,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],ALL_KEYWORDS=[CPP_KEYWORDS,CSHARP_KEYWORDS,JSCRIPT_KEYWORDS,PERL_KEYWORDS,PYTHON_KEYWORDS,RUBY_KEYWORDS,SH_KEYWORDS],C_TYPES=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,PR_STRING="str",PR_KEYWORD="kwd",PR_COMMENT="com",PR_TYPE="typ",PR_LITERAL="lit",PR_PUNCTUATION="pun",PR_PLAIN="pln",PR_TAG="tag",PR_DECLARATION="dec",PR_SOURCE="src",PR_ATTRIB_NAME="atn",PR_ATTRIB_VALUE="atv",PR_NOCODE="nocode",REGEXP_PRECEDER_PATTERN="(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*",notWs=/\S/,decorateSource=sourceDecorator({keywords:ALL_KEYWORDS,hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),langHandlerRegistry={};registerLangHandler(decorateSource,["default-code"]),registerLangHandler(createSimpleLexer([],[[PR_PLAIN,/^[^<?]+/],[PR_DECLARATION,/^<!\w[^>]*(?:>|$)/],[PR_COMMENT,/^<\!--[\s\S]*?(?:-\->|$)/],["lang-",/^<\?([\s\S]+?)(?:\?>|$)/],["lang-",/^<%([\s\S]+?)(?:%>|$)/],[PR_PUNCTUATION,/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\s\S]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\s\S]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\s\S]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),registerLangHandler(createSimpleLexer([[PR_PLAIN,/^[\s]+/,null," 	\r\n"],[PR_ATTRIB_VALUE,/^(?:\"[^\"]*\"?|\'[^\']*\'?)/,null,"\"'"]],[[PR_TAG,/^^<\/?[a-z](?:[\w.:-]*\w)?|\/?>$/i],[PR_ATTRIB_NAME,/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^>\'\"\s]*(?:[^>\'\"\s\/]|\/(?=\s)))/],[PR_PUNCTUATION,/^[=<>\/]+/],["lang-js",/^on\w+\s*=\s*\"([^\"]+)\"/i],["lang-js",/^on\w+\s*=\s*\'([^\']+)\'/i],["lang-js",/^on\w+\s*=\s*([^\"\'>\s]+)/i],["lang-css",/^style\s*=\s*\"([^\"]+)\"/i],["lang-css",/^style\s*=\s*\'([^\']+)\'/i],["lang-css",/^style\s*=\s*([^\"\'>\s]+)/i]]),["in.tag"]),registerLangHandler(createSimpleLexer([],[[PR_ATTRIB_VALUE,/^[\s\S]+/]]),["uq.val"]),registerLangHandler(sourceDecorator({keywords:CPP_KEYWORDS,hashComments:!0,cStyleComments:!0,types:C_TYPES}),["c","cc","cpp","cxx","cyc","m"]),registerLangHandler(sourceDecorator({keywords:"null,true,false"}),["json"]),registerLangHandler(sourceDecorator({keywords:CSHARP_KEYWORDS,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:C_TYPES}),["cs"]),registerLangHandler(sourceDecorator({keywords:JAVA_KEYWORDS,cStyleComments:!0}),["java"]),registerLangHandler(sourceDecorator({keywords:SH_KEYWORDS,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),registerLangHandler(sourceDecorator({keywords:PYTHON_KEYWORDS,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),registerLangHandler(sourceDecorator({keywords:PERL_KEYWORDS,hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),registerLangHandler(sourceDecorator({keywords:RUBY_KEYWORDS,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),registerLangHandler(sourceDecorator({keywords:JSCRIPT_KEYWORDS,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),registerLangHandler(sourceDecorator({keywords:COFFEE_KEYWORDS,hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),registerLangHandler(sourceDecorator({keywords:RUST_KEYWORDS,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),registerLangHandler(createSimpleLexer([],[[PR_STRING,/^[\s\S]+/]]),["regex"]);var PR=win.PR={createSimpleLexer:createSimpleLexer,registerLangHandler:registerLangHandler,sourceDecorator:sourceDecorator,PR_ATTRIB_NAME:PR_ATTRIB_NAME,PR_ATTRIB_VALUE:PR_ATTRIB_VALUE,PR_COMMENT:PR_COMMENT,PR_DECLARATION:PR_DECLARATION,PR_KEYWORD:PR_KEYWORD,PR_LITERAL:PR_LITERAL,PR_NOCODE:PR_NOCODE,PR_PLAIN:PR_PLAIN,PR_PUNCTUATION:PR_PUNCTUATION,PR_SOURCE:PR_SOURCE,PR_STRING:PR_STRING,PR_TAG:PR_TAG,PR_TYPE:PR_TYPE,prettyPrintOne:IN_GLOBAL_SCOPE?win.prettyPrintOne=$prettyPrintOne:prettyPrintOne=$prettyPrintOne,prettyPrint:prettyPrint=IN_GLOBAL_SCOPE?win.prettyPrint=$prettyPrint:prettyPrint=$prettyPrint};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return PR})}();
!function($,evil,undefined){function Class(){}function isFunction(fn){return"function"==typeof fn}function compilePart(part,stringPart){if(stringPart)return"'"+part.split("'").join("\\'").split('\\"').join('\\\\\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t")+"'";var first=part.charAt(0),rest=part.substring(1);return"="===first?"+("+rest+")+":":"===first?"+e("+rest+")+":";"+part+";o+="}function pad(number,digits,end){return number+="",digits=digits||2,end=digits-number.length,end?zeros[digits].substring(0,end)+number:number}function wrap(element){var percentage,browser=support.browser,isRtl="rtl"==element.css("direction");if(element.parent().hasClass("k-animation-container")){var wrapper=element.parent(".k-animation-container"),wrapperStyle=wrapper[0].style;wrapper.is(":hidden")&&wrapper.show(),percentage=percentRegExp.test(wrapperStyle.width)||percentRegExp.test(wrapperStyle.height),percentage||wrapper.css({width:element.outerWidth(),height:element.outerHeight()})}else{var shadow=element.css(kendo.support.transitions.css+"box-shadow")||element.css("box-shadow"),radius=shadow?shadow.match(boxShadowRegExp)||[0,0,0,0,0]:[0,0,0,0,0],blur=math.max(+radius[3],+(radius[4]||0)),left=-radius[1]+blur,right=+radius[1]+blur,bottom=+radius[2]+blur,width=element[0].style.width,height=element[0].style.height,percentWidth=percentRegExp.test(width),percentHeight=percentRegExp.test(height);browser.opera&&(left=right=bottom=5),percentage=percentWidth||percentHeight,percentWidth||(width=element.outerWidth()),percentHeight||(height=element.outerHeight()),element.wrap($("<div/>").addClass("k-animation-container").css({width:width,height:height,marginLeft:left*(isRtl?1:-1),paddingLeft:left,paddingRight:right,paddingBottom:bottom})),percentage&&element.css({width:"100%",height:"100%",boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"})}return browser.msie&&math.floor(browser.version)<=7&&(element.css({zoom:1}),element.children(".k-menu").width(element.width())),element.parent()}function deepExtend(destination){var i=1,length=arguments.length;for(i=1;length>i;i++)deepExtendOne(destination,arguments[i]);return destination}function deepExtendOne(destination,source){var property,propValue,propType,destProp,ObservableArray=kendo.data.ObservableArray,DataSource=kendo.data.DataSource;for(property in source)propValue=source[property],propType=typeof propValue,propType===OBJECT&&null!==propValue&&propValue.constructor!==Array&&propValue.constructor!==ObservableArray&&propValue.constructor!==DataSource?propValue instanceof Date?destination[property]=new Date(propValue.getTime()):(destProp=destination[property],destination[property]=typeof destProp===OBJECT?destProp||{}:{},deepExtendOne(destination[property],propValue)):propType!==UNDEFINED&&(destination[property]=propValue);return destination}function testRx(agent,rxs,dflt){for(var rx in rxs)if(rxs.hasOwnProperty(rx)&&rxs[rx].test(agent))return rx;return dflt!==undefined?dflt:agent}function getComputedStyles(element,properties){var computedStyle,styles={};return document.defaultView&&document.defaultView.getComputedStyle?(computedStyle=document.defaultView.getComputedStyle(element,""),properties&&$.each(properties,function(idx,value){styles[value]=computedStyle.getPropertyValue(value)})):(computedStyle=element.currentStyle,properties&&$.each(properties,function(idx,value){styles[value]=computedStyle[value.replace(/\-(\w)/g,function(strMatch,g1){return g1.toUpperCase()})]})),kendo.size(styles)||(styles=computedStyle),styles}function size(obj){var key,result=0;for(key in obj)obj.hasOwnProperty(key)&&"toJSON"!=key&&result++;return result}function getOffset(element,type,positioned){type||(type="offset");var result=element[type](),mobileOS=support.mobileOS;if(support.touch&&mobileOS.ios&&mobileOS.flatVersion<410){var offset="offset"==type?result:element.offset(),position=result.left==offset.left&&result.top==offset.top;if(position)return{top:result.top-window.scrollY,left:result.left-window.scrollX}}return!kendo.support.pointers&&!kendo.support.msPointers||positioned||(result.top-=window.pageYOffset-document.documentElement.scrollTop,result.left-=window.pageXOffset-document.documentElement.scrollLeft),result}function parseEffects(input){var effects={};return each("string"==typeof input?input.split(" "):input,function(idx){effects[idx]=this}),effects}function fx(element){return new kendo.effects.Element(element)}function prepareAnimationOptions(options,duration,reverse,complete){return typeof options===STRING&&(isFunction(duration)&&(complete=duration,duration=400,reverse=!1),isFunction(reverse)&&(complete=reverse,reverse=!1),typeof duration===BOOLEAN&&(reverse=duration,duration=400),options={effects:options,duration:duration,reverse:reverse,complete:complete}),extend({effects:{},duration:400,reverse:!1,init:noop,teardown:noop,hide:!1},options,{completeCallback:options.complete,complete:noop})}function animate(element,options,duration,reverse,complete){for(var instance,idx=0,length=element.length;length>idx;idx++)instance=$(element[idx]),instance.queue(function(){effects.promise(instance,prepareAnimationOptions(options,duration,reverse,complete))});return element}function animateTo(element,destination,options,duration,reverse,complete){return effects.transitionPromise(element,destination,prepareAnimationOptions(options,duration,reverse,complete))}function toggleClass(element,classes,options,add){return classes&&(classes=classes.split(" "),each(classes,function(idx,value){element.toggleClass(value,add)})),element}function htmlEncode(value){return(""+value).replace(ampRegExp,"&amp;").replace(ltRegExp,"&lt;").replace(gtRegExp,"&gt;")}function parseOption(element,option){var value;return 0===option.indexOf("data")&&(option=option.substring(4),option=option.charAt(0).toLowerCase()+option.substring(1)),option=option.replace(dashRegExp,"-$1"),value=element.getAttribute("data-"+kendo.ns+option),null===value?value=undefined:"null"===value?value=null:"true"===value?value=!0:"false"===value?value=!1:numberRegExp.test(value)?value=parseFloat(value):jsonRegExp.test(value)&&!jsonFormatRegExp.test(value)&&(value=evil("("+value+")")),value}function parseOptions(element,options){var option,value,result={};for(option in options)value=parseOption(element,option),value!==undefined&&(templateRegExp.test(option)&&(value=kendo.template($("#"+value).html())),result[option]=value);return result}function focusable(element,isTabIndexNotNaN){var nodeName=element.nodeName.toLowerCase();return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element)}function visible(element){return!$(element).parents().andSelf().filter(function(){return"hidden"===$.css(this,"visibility")||$.expr.filters.hidden(this)}).length}function kendoJQuery(selector,context){return new kendoJQuery.fn.init(selector,context)}var Template,kendo=window.kendo=window.kendo||{cultures:{}},extend=$.extend,each=$.each,proxy=$.proxy,isArray=$.isArray,noop=$.noop,math=Math,JSON=window.JSON||{},support={},percentRegExp=/%/,formatRegExp=/\{(\d+)(:[^\}]+)?\}/g,boxShadowRegExp=/(\d+?)px\s*(\d+?)px\s*(\d+?)px\s*(\d+?)?/i,numberRegExp=/^(\+|-?)\d+(\.?)\d*$/,FUNCTION="function",STRING="string",NUMBER="number",OBJECT="object",NULL="null",BOOLEAN="boolean",UNDEFINED="undefined",getterCache={},setterCache={},slice=[].slice,globalize=window.Globalize;kendo.version="2013.2.923",Class.extend=function(proto){var member,fn,base=function(){},that=this,subclass=proto&&proto.init?proto.init:function(){that.apply(this,arguments)};base.prototype=that.prototype,fn=subclass.fn=subclass.prototype=new base;for(member in proto)fn[member]=typeof proto[member]!==OBJECT||proto[member]instanceof Array||null===proto[member]?proto[member]:extend(!0,{},base.prototype[member],proto[member]);return fn.constructor=subclass,subclass.extend=that.extend,subclass},kendo.isFunction=isFunction;var preventDefault=function(){this._defaultPrevented=!0},isDefaultPrevented=function(){return this._defaultPrevented===!0},Observable=Class.extend({init:function(){this._events={}},bind:function(eventName,handlers,one){var idx,length,original,handler,events,that=this,eventNames=typeof eventName===STRING?[eventName]:eventName,handlersIsFunction=typeof handlers===FUNCTION;if(handlers===undefined){for(idx in eventName)that.bind(idx,eventName[idx]);return that}for(idx=0,length=eventNames.length;length>idx;idx++)eventName=eventNames[idx],handler=handlersIsFunction?handlers:handlers[eventName],handler&&(one&&(original=handler,handler=function(){that.unbind(eventName,handler),original.apply(that,arguments)}),events=that._events[eventName]=that._events[eventName]||[],events.push(handler));return that},one:function(eventNames,handlers){return this.bind(eventNames,handlers,!0)},first:function(eventName,handlers){var idx,length,handler,events,that=this,eventNames=typeof eventName===STRING?[eventName]:eventName,handlersIsFunction=typeof handlers===FUNCTION;for(idx=0,length=eventNames.length;length>idx;idx++)eventName=eventNames[idx],handler=handlersIsFunction?handlers:handlers[eventName],handler&&(events=that._events[eventName]=that._events[eventName]||[],events.unshift(handler));return that},trigger:function(eventName,e){var idx,length,that=this,events=that._events[eventName];if(events){for(e=e||{},e.sender=that,e._defaultPrevented=!1,e.preventDefault=preventDefault,e.isDefaultPrevented=isDefaultPrevented,events=events.slice(),idx=0,length=events.length;length>idx;idx++)events[idx].call(that,e);return e._defaultPrevented===!0}return!1},unbind:function(eventName,handler){var idx,that=this,events=that._events[eventName];if(eventName===undefined)that._events={};else if(events)if(handler)for(idx=events.length-1;idx>=0;idx--)events[idx]===handler&&events.splice(idx,1);else that._events[eventName]=[];return that}}),argumentNameRegExp=/^\w+/,encodeRegExp=/\$\{([^}]*)\}/g,escapedCurlyRegExp=/\\\}/g,curlyRegExp=/__CURLY__/g,escapedSharpRegExp=/\\#/g,sharpRegExp=/__SHARP__/g,zeros=["","0","00","000","0000"];Template={paramName:"data",useWithBlock:!0,render:function(template,data){var idx,length,html="";for(idx=0,length=data.length;length>idx;idx++)html+=template(data[idx]);return html},compile:function(template,options){var fn,parts,idx,settings=extend({},this,options),paramName=settings.paramName,argumentName=paramName.match(argumentNameRegExp)[0],useWithBlock=settings.useWithBlock,functionBody="var o,e=kendo.htmlEncode;";if(isFunction(template))return 2===template.length?function(d){return template($,{data:d}).join("")}:template;for(functionBody+=useWithBlock?"with("+paramName+"){":"",functionBody+="o=",parts=template.replace(escapedCurlyRegExp,"__CURLY__").replace(encodeRegExp,"#=e($1)#").replace(curlyRegExp,"}").replace(escapedSharpRegExp,"__SHARP__").split("#"),idx=0;idx<parts.length;idx++)functionBody+=compilePart(parts[idx],idx%2===0);functionBody+=useWithBlock?";}":";",functionBody+="return o;",functionBody=functionBody.replace(sharpRegExp,"#");try{return fn=new Function(argumentName,functionBody),fn._slotCount=Math.floor(parts.length/2),fn}catch(e){throw new Error(kendo.format("Invalid template:'{0}' Generated code:'{1}'",template,functionBody))}}},function(){function quote(string){return escapable.lastIndex=0,escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c===STRING?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,partial,type,mind=gap,value=holder[key];if(value&&typeof value===OBJECT&&typeof value.toJSON===FUNCTION&&(value=value.toJSON(key)),typeof rep===FUNCTION&&(value=rep.call(holder,key,value)),type=typeof value,type===STRING)return quote(value);if(type===NUMBER)return isFinite(value)?String(value):NULL;if(type===BOOLEAN||type===NULL)return String(value);if(type===OBJECT){if(!value)return NULL;if(gap+=indent,partial=[],"[object Array]"===toString.apply(value)){for(length=value.length,i=0;length>i;i++)partial[i]=str(i,value)||NULL;return v=0===partial.length?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]",gap=mind,v}if(rep&&typeof rep===OBJECT)for(length=rep.length,i=0;length>i;i++)typeof rep[i]===STRING&&(k=rep[i],v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));else for(k in value)Object.hasOwnProperty.call(value,k)&&(v=str(k,value),v&&partial.push(quote(k)+(gap?": ":":")+v));return v=0===partial.length?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}",gap=mind,v}}var gap,indent,rep,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},toString={}.toString;typeof Date.prototype.toJSON!==FUNCTION&&(Date.prototype.toJSON=function(){var that=this;return isFinite(that.valueOf())?pad(that.getUTCFullYear(),4)+"-"+pad(that.getUTCMonth()+1)+"-"+pad(that.getUTCDate())+"T"+pad(that.getUTCHours())+":"+pad(that.getUTCMinutes())+":"+pad(that.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()}),typeof JSON.stringify!==FUNCTION&&(JSON.stringify=function(value,replacer,space){var i;if(gap="",indent="",typeof space===NUMBER)for(i=0;space>i;i+=1)indent+=" ";else typeof space===STRING&&(indent=space);if(rep=replacer,replacer&&typeof replacer!==FUNCTION&&(typeof replacer!==OBJECT||typeof replacer.length!==NUMBER))throw new Error("JSON.stringify");return str("",{"":value})})}(),function(){function findCulture(culture){if(culture){if(culture.numberFormat)return culture;if(typeof culture===STRING){var cultures=kendo.cultures;return cultures[culture]||cultures[culture.split("-")[0]]||null}return null}return null}function getCulture(culture){return culture&&(culture=findCulture(culture)),culture||kendo.cultures.current}function expandNumberFormat(numberFormat){numberFormat.groupSizes=numberFormat.groupSize,numberFormat.percent.groupSizes=numberFormat.percent.groupSize,numberFormat.currency.groupSizes=numberFormat.currency.groupSize}function formatDate(date,format,culture){culture=getCulture(culture);var calendar=culture.calendars.standard,days=calendar.days,months=calendar.months;return format=calendar.patterns[format]||format,format.replace(dateFormatRegExp,function(match){var result;return"d"===match?result=date.getDate():"dd"===match?result=pad(date.getDate()):"ddd"===match?result=days.namesAbbr[date.getDay()]:"dddd"===match?result=days.names[date.getDay()]:"M"===match?result=date.getMonth()+1:"MM"===match?result=pad(date.getMonth()+1):"MMM"===match?result=months.namesAbbr[date.getMonth()]:"MMMM"===match?result=months.names[date.getMonth()]:"yy"===match?result=pad(date.getFullYear()%100):"yyyy"===match?result=pad(date.getFullYear(),4):"h"===match?result=date.getHours()%12||12:"hh"===match?result=pad(date.getHours()%12||12):"H"===match?result=date.getHours():"HH"===match?result=pad(date.getHours()):"m"===match?result=date.getMinutes():"mm"===match?result=pad(date.getMinutes()):"s"===match?result=date.getSeconds():"ss"===match?result=pad(date.getSeconds()):"f"===match?result=math.floor(date.getMilliseconds()/100):"ff"===match?result=math.floor(date.getMilliseconds()/10):"fff"===match?result=date.getMilliseconds():"tt"===match&&(result=date.getHours()<12?calendar.AM[0]:calendar.PM[0]),result!==undefined?result:match.slice(1,match.length-1)})}function formatNumber(number,format,culture){culture=getCulture(culture);var symbol,isCurrency,isPercent,customPrecision,formatAndPrecision,integer,fraction,integerLength,fractionLength,idx,length,ch,hasGroup,hasNegativeFormat,decimalIndex,sharpIndex,zeroIndex,hasZero,hasSharp,percentIndex,currencyIndex,startZeroIndex,end,numberFormat=culture.numberFormat,groupSize=numberFormat.groupSize[0],groupSeparator=numberFormat[COMMA],decimal=numberFormat[POINT],precision=numberFormat.decimals,pattern=numberFormat.pattern[0],literals=[],negative=0>number,replacement=EMPTY,value=EMPTY,start=-1;if(number===undefined)return EMPTY;if(!isFinite(number))return number;if(!format)return culture.name.length?number.toLocaleString():number.toString();if(formatAndPrecision=standardFormatRegExp.exec(format)){if(format=formatAndPrecision[1].toLowerCase(),isCurrency="c"===format,isPercent="p"===format,(isCurrency||isPercent)&&(numberFormat=isCurrency?numberFormat.currency:numberFormat.percent,groupSize=numberFormat.groupSize[0],groupSeparator=numberFormat[COMMA],decimal=numberFormat[POINT],precision=numberFormat.decimals,symbol=numberFormat.symbol,pattern=numberFormat.pattern[negative?0:1]),customPrecision=formatAndPrecision[2],customPrecision&&(precision=+customPrecision),"e"===format)return customPrecision?number.toExponential(precision):number.toExponential();if(isPercent&&(number*=100),number=round(number,precision),number=number.split(POINT),integer=number[0],fraction=number[1],negative&&(integer=integer.substring(1)),value=integer,integerLength=integer.length,integerLength>=groupSize)for(value=EMPTY,idx=0;integerLength>idx;idx++)idx>0&&(integerLength-idx)%groupSize===0&&(value+=groupSeparator),value+=integer.charAt(idx);if(fraction&&(value+=decimal+fraction),"n"===format&&!negative)return value;for(number=EMPTY,idx=0,length=pattern.length;length>idx;idx++)ch=pattern.charAt(idx),number+="n"===ch?value:"$"===ch||"%"===ch?symbol:ch;return number}if(negative&&(number=-number),(format.indexOf("'")>-1||format.indexOf('"')>-1||format.indexOf("\\")>-1)&&(format=format.replace(literalRegExp,function(match){var quoteChar=match.charAt(0).replace("\\",""),literal=match.slice(1).replace(quoteChar,"");return literals.push(literal),PLACEHOLDER})),format=format.split(";"),negative&&format[1])format=format[1],hasNegativeFormat=!0;else if(0===number){if(format=format[2]||format[0],-1==format.indexOf(SHARP)&&-1==format.indexOf(ZERO))return format}else format=format[0];if(percentIndex=format.indexOf("%"),currencyIndex=format.indexOf("$"),isPercent=-1!=percentIndex,isCurrency=-1!=currencyIndex,isPercent&&(number*=100),isCurrency&&"\\"===format[currencyIndex-1]&&(format=format.split("\\").join(""),isCurrency=!1),(isCurrency||isPercent)&&(numberFormat=isCurrency?numberFormat.currency:numberFormat.percent,groupSize=numberFormat.groupSize[0],groupSeparator=numberFormat[COMMA],decimal=numberFormat[POINT],precision=numberFormat.decimals,symbol=numberFormat.symbol),hasGroup=format.indexOf(COMMA)>-1,hasGroup&&(format=format.replace(commaRegExp,EMPTY)),decimalIndex=format.indexOf(POINT),length=format.length,-1!=decimalIndex?(fraction=number.toString().split("e"),fraction=fraction[1]?round(number,Math.abs(fraction[1])):fraction[0],fraction=fraction.split(POINT)[1]||EMPTY,zeroIndex=format.lastIndexOf(ZERO)-decimalIndex,sharpIndex=format.lastIndexOf(SHARP)-decimalIndex,hasZero=zeroIndex>-1,hasSharp=sharpIndex>-1,idx=fraction.length,hasZero||hasSharp||(format=format.substring(0,decimalIndex)+format.substring(decimalIndex+1),length=format.length,decimalIndex=-1,idx=0),hasZero&&zeroIndex>sharpIndex?idx=zeroIndex:sharpIndex>zeroIndex&&(hasSharp&&idx>sharpIndex?idx=sharpIndex:hasZero&&zeroIndex>idx&&(idx=zeroIndex)),idx>-1&&(number=round(number,idx))):number=round(number),sharpIndex=format.indexOf(SHARP),startZeroIndex=zeroIndex=format.indexOf(ZERO),start=-1==sharpIndex&&-1!=zeroIndex?zeroIndex:-1!=sharpIndex&&-1==zeroIndex?sharpIndex:sharpIndex>zeroIndex?zeroIndex:sharpIndex,sharpIndex=format.lastIndexOf(SHARP),zeroIndex=format.lastIndexOf(ZERO),end=-1==sharpIndex&&-1!=zeroIndex?zeroIndex:-1!=sharpIndex&&-1==zeroIndex?sharpIndex:sharpIndex>zeroIndex?sharpIndex:zeroIndex,start==length&&(end=start),-1!=start){if(value=number.toString().split(POINT),integer=value[0],fraction=value[1]||EMPTY,integerLength=integer.length,fractionLength=fraction.length,hasGroup)if(integerLength===groupSize&&decimalIndex-startZeroIndex>integerLength)integer=groupSeparator+integer;else if(integerLength>groupSize){for(value=EMPTY,idx=0;integerLength>idx;idx++)idx>0&&(integerLength-idx)%groupSize===0&&(value+=groupSeparator),value+=integer.charAt(idx);integer=value}for(number=format.substring(0,start),negative&&!hasNegativeFormat&&(number+="-"),idx=start;length>idx;idx++){if(ch=format.charAt(idx),-1==decimalIndex){if(integerLength>end-idx){number+=integer;break}}else if(-1!=zeroIndex&&idx>zeroIndex&&(replacement=EMPTY),integerLength>=decimalIndex-idx&&decimalIndex-idx>-1&&(number+=integer,idx=decimalIndex),decimalIndex===idx){number+=(fraction?decimal:EMPTY)+fraction,idx+=end-decimalIndex+1;continue}ch===ZERO?(number+=ch,replacement=ch):ch===SHARP&&(number+=replacement)}if(end>=start&&(number+=format.substring(end+1)),isCurrency||isPercent){for(value=EMPTY,idx=0,length=number.length;length>idx;idx++)ch=number.charAt(idx),value+="$"===ch||"%"===ch?symbol:ch;number=value}if(length=literals.length)for(idx=0;length>idx;idx++)number=number.replace(PLACEHOLDER,literals[idx])}return number}var dateFormatRegExp=/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|"[^"]*"|'[^']*'/g,standardFormatRegExp=/^(n|c|p|e)(\d*)$/i,literalRegExp=/(\\.)|(['][^']*[']?)|(["][^"]*["]?)/g,commaRegExp=/\,/g,EMPTY="",POINT=".",COMMA=",",SHARP="#",ZERO="0",PLACEHOLDER="??",EN="en-US",objectToString={}.toString;kendo.cultures["en-US"]={name:EN,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSize:[3],percent:{pattern:["-n %","n %"],decimals:2,",":",",".":".",groupSize:[3],symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,",":",",".":".",groupSize:[3],symbol:"$"}},calendars:{standard:{days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December"],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},AM:["AM","am","AM"],PM:["PM","pm","PM"],patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",F:"dddd, MMMM dd, yyyy h:mm:ss tt",g:"M/d/yyyy h:mm tt",G:"M/d/yyyy h:mm:ss tt",m:"MMMM dd",M:"MMMM dd",s:"yyyy'-'MM'-'ddTHH':'mm':'ss",t:"h:mm tt",T:"h:mm:ss tt",u:"yyyy'-'MM'-'dd HH':'mm':'ss'Z'",y:"MMMM, yyyy",Y:"MMMM, yyyy"},"/":"/",":":":",firstDay:0,twoDigitYearMax:2029}}},kendo.culture=function(cultureName){var culture,cultures=kendo.cultures;return cultureName===undefined?cultures.current:(culture=findCulture(cultureName)||cultures[EN],culture.calendar=culture.calendars.standard,cultures.current=culture,globalize&&expandNumberFormat(culture.numberFormat),void 0)},kendo.findCulture=findCulture,kendo.getCulture=getCulture,kendo.culture(EN);var round=function(value,precision){var power=Math.pow(10,precision||0);return(Math.round(value*power)/power).toFixed(precision)},toString=function(value,fmt,culture){if(fmt){if("[object Date]"===objectToString.call(value))return formatDate(value,fmt,culture);if(typeof value===NUMBER)return formatNumber(value,fmt,culture)}return value!==undefined?value:""};globalize&&(toString=proxy(globalize.format,globalize)),kendo.format=function(fmt){var values=arguments;return fmt.replace(formatRegExp,function(match,index,placeholderFormat){var value=values[parseInt(index,10)+1];return toString(value,placeholderFormat?placeholderFormat.substring(1):"")})},kendo._extractFormat=function(format){return"{0:"===format.slice(0,3)&&(format=format.slice(3,format.length-1)),format},kendo._activeElement=function(){try{return document.activeElement}catch(e){return document.documentElement.activeElement}},kendo._round=round,kendo.toString=toString}(),function(){function outOfRange(value,start,end){return!(value>=start&&end>=value)}function designatorPredicate(designator){return designator.charAt(0)}function mapDesignators(designators){return $.map(designators,designatorPredicate)}function adjustDST(date,hours){hours||23!==date.getHours()||date.setHours(date.getHours()+2)}function lowerArray(data){for(var idx=0,length=data.length,array=[];length>idx;idx++)array[idx]=(data[idx]+"").toLowerCase();return array}function lowerLocalInfo(localInfo){var property,newLocalInfo={};for(property in localInfo)newLocalInfo[property]=lowerArray(localInfo[property]);return newLocalInfo}function parseExact(value,format,culture){if(!value)return null;var ch,count,length,pattern,pmHour,UTC,ISO8601,matches,amDesignators,pmDesignators,hoursOffset,minutesOffset,lookAhead=function(match){for(var i=0;format[idx]===match;)i++,idx++;return i>0&&(idx-=1),i},getNumber=function(size){var rg=numberRegExp[size]||new RegExp("^\\d{1,"+size+"}"),match=value.substr(valueIdx,size).match(rg);return match?(match=match[0],valueIdx+=match.length,parseInt(match,10)):null},getIndexByName=function(names,lower){for(var name,nameLength,subValue,i=0,length=names.length;length>i;i++)if(name=names[i],nameLength=name.length,subValue=value.substr(valueIdx,nameLength),lower&&(subValue=subValue.toLowerCase()),subValue==name)return valueIdx+=nameLength,i+1;return null},checkLiteral=function(){var result=!1;return value.charAt(valueIdx)===format[idx]&&(valueIdx++,result=!0),result},calendar=culture.calendars.standard,year=null,month=null,day=null,hours=null,minutes=null,seconds=null,milliseconds=null,idx=0,valueIdx=0,literal=!1,date=new Date,twoDigitYearMax=calendar.twoDigitYearMax||2029,defaultYear=date.getFullYear();for(format||(format="d"),pattern=calendar.patterns[format],pattern&&(format=pattern),format=format.split(""),length=format.length;length>idx;idx++)if(ch=format[idx],literal)"'"===ch?literal=!1:checkLiteral();else if("d"===ch){if(count=lookAhead("d"),calendar._lowerDays||(calendar._lowerDays=lowerLocalInfo(calendar.days)),day=3>count?getNumber(2):getIndexByName(calendar._lowerDays[3==count?"namesAbbr":"names"],!0),null===day||outOfRange(day,1,31))return null}else if("M"===ch){if(count=lookAhead("M"),calendar._lowerMonths||(calendar._lowerMonths=lowerLocalInfo(calendar.months)),month=3>count?getNumber(2):getIndexByName(calendar._lowerMonths[3==count?"namesAbbr":"names"],!0),null===month||outOfRange(month,1,12))return null;month-=1}else if("y"===ch){if(count=lookAhead("y"),year=getNumber(count),null===year)return null;2==count&&("string"==typeof twoDigitYearMax&&(twoDigitYearMax=defaultYear+parseInt(twoDigitYearMax,10)),year=defaultYear-defaultYear%100+year,year>twoDigitYearMax&&(year-=100))}else if("h"===ch){if(lookAhead("h"),hours=getNumber(2),12==hours&&(hours=0),null===hours||outOfRange(hours,0,11))return null}else if("H"===ch){if(lookAhead("H"),hours=getNumber(2),null===hours||outOfRange(hours,0,23))return null}else if("m"===ch){if(lookAhead("m"),minutes=getNumber(2),null===minutes||outOfRange(minutes,0,59))return null}else if("s"===ch){if(lookAhead("s"),seconds=getNumber(2),null===seconds||outOfRange(seconds,0,59))return null}else if("f"===ch){if(count=lookAhead("f"),milliseconds=getNumber(count),null!==milliseconds&&count>3&&(milliseconds=parseInt(milliseconds.toString().substring(0,3),10)),null===milliseconds||outOfRange(milliseconds,0,999))return null}else if("t"===ch){if(count=lookAhead("t"),amDesignators=calendar.AM,pmDesignators=calendar.PM,1===count&&(amDesignators=mapDesignators(amDesignators),pmDesignators=mapDesignators(pmDesignators)),pmHour=getIndexByName(pmDesignators),!pmHour&&!getIndexByName(amDesignators))return null}else if("z"===ch){if(UTC=!0,count=lookAhead("z"),"Z"===value.substr(valueIdx,1)){if(!ISO8601)return null;checkLiteral();continue}if(matches=value.substr(valueIdx,6).match(count>2?longTimeZoneRegExp:shortTimeZoneRegExp),!matches)return null;if(matches=matches[0],valueIdx=matches.length,matches=matches.split(":"),hoursOffset=parseInt(matches[0],10),outOfRange(hoursOffset,-12,13))return null;if(count>2&&(minutesOffset=parseInt(matches[1],10),isNaN(minutesOffset)||outOfRange(minutesOffset,0,59)))return null}else if("T"===ch)ISO8601=checkLiteral();else if("'"===ch)literal=!0,checkLiteral();else if(!checkLiteral())return null;return null===year&&(year=defaultYear),pmHour&&12>hours&&(hours+=12),null===day&&(day=1),UTC?(hoursOffset&&(hours+=-hoursOffset),minutesOffset&&(minutes+=-minutesOffset),value=new Date(Date.UTC(year,month,day,hours,minutes,seconds,milliseconds))):(value=new Date(year,month,day,hours,minutes,seconds,milliseconds),adjustDST(value,hours)),100>year&&value.setFullYear(year),value.getDate()!==day&&UTC===undefined?null:value}var nonBreakingSpaceRegExp=/\u00A0/g,exponentRegExp=/[eE][\-+]?[0-9]+/,shortTimeZoneRegExp=/[+|\-]\d{1,2}/,longTimeZoneRegExp=/[+|\-]\d{1,2}:\d{2}/,dateRegExp=/^\/Date\((.*?)\)\/$/,formatsSequence=["G","g","d","F","D","y","m","T","t"],numberRegExp={2:/^\d{1,2}/,4:/^\d{4}/},objectToString={}.toString;kendo.parseDate=function(value,formats,culture){if("[object Date]"===objectToString.call(value))return value;var length,patterns,idx=0,date=null;if(value&&0===value.indexOf("/D")&&(date=dateRegExp.exec(value)))return new Date(parseInt(date[1],10));if(culture=kendo.getCulture(culture),!formats){for(formats=[],patterns=culture.calendar.patterns,length=formatsSequence.length;length>idx;idx++)formats[idx]=patterns[formatsSequence[idx]];idx=0,formats.push("yyyy/MM/dd HH:mm:ss","yyyy/MM/dd HH:mm","yyyy/MM/dd","ddd MMM dd yyyy HH:mm:ss","yyyy-MM-ddTHH:mm:ss.fffffffzzz","yyyy-MM-ddTHH:mm:ss.fffzzz","yyyy-MM-ddTHH:mm:sszzz","yyyy-MM-ddTHH:mmzzz","yyyy-MM-ddTHH:mmzz","yyyy-MM-ddTHH:mm:ss","yyyy-MM-ddTHH:mm","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm","yyyy-MM-dd")}for(formats=isArray(formats)?formats:[formats],length=formats.length;length>idx;idx++)if(date=parseExact(value,formats[idx],culture))return date;return date},kendo.parseInt=function(value,culture){var result=kendo.parseFloat(value,culture);return result&&(result=0|result),result},kendo.parseFloat=function(value,culture,format){if(!value&&0!==value)return null;if(typeof value===NUMBER)return value;value=value.toString(),culture=kendo.getCulture(culture);var parts,isPercent,number=culture.numberFormat,percent=number.percent,currency=number.currency,symbol=currency.symbol,percentSymbol=percent.symbol,negative=value.indexOf("-");return exponentRegExp.test(value)?(value=parseFloat(value.replace(number["."],".")),isNaN(value)&&(value=null),value):negative>0?null:(negative=negative>-1,value.indexOf(symbol)>-1||format&&format.toLowerCase().indexOf("c")>-1?(number=currency,parts=number.pattern[0].replace("$",symbol).split("n"),value.indexOf(parts[0])>-1&&value.indexOf(parts[1])>-1&&(value=value.replace(parts[0],"").replace(parts[1],""),negative=!0)):value.indexOf(percentSymbol)>-1&&(isPercent=!0,number=percent,symbol=percentSymbol),value=value.replace("-","").replace(symbol,"").replace(nonBreakingSpaceRegExp," ").split(number[","].replace(nonBreakingSpaceRegExp," ")).join("").replace(number["."],"."),value=parseFloat(value),isNaN(value)?value=null:negative&&(value*=-1),value&&isPercent&&(value/=100),value)},globalize&&(kendo.parseDate=function(value,format,culture){return"[object Date]"===objectToString.call(value)?value:globalize.parseDate(value,format,culture)},kendo.parseFloat=function(value,culture){return typeof value===NUMBER?value:value===undefined||null===value?null:(value=globalize.parseFloat(value,culture),isNaN(value)?null:value)})}(),function(){support.scrollbar=function(){var result,div=document.createElement("div");return div.style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both",div.innerHTML="&nbsp;",document.body.appendChild(div),result=div.offsetWidth-div.scrollWidth,document.body.removeChild(div),result},support.isRtl=function(element){return $(element).closest(".k-rtl").length>0};var table=document.createElement("table");try{table.innerHTML="<tr><td></td></tr>",support.tbodyInnerHtml=!0}catch(e){support.tbodyInnerHtml=!1}support.touch="ontouchstart"in window,support.msPointers=navigator.msPointerEnabled,support.pointers=navigator.pointerEnabled;

var transitions=support.transitions=!1,transforms=support.transforms=!1,elementProto="HTMLElement"in window?HTMLElement.prototype:[];support.hasHW3D="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix||"MozPerspective"in document.documentElement.style||"msPerspective"in document.documentElement.style,each(["Moz","webkit","O","ms"],function(){var prefix=this.toString(),hasTransitions=typeof table.style[prefix+"Transition"]===STRING;if(hasTransitions||typeof table.style[prefix+"Transform"]===STRING){var lowPrefix=prefix.toLowerCase();return transforms={css:"ms"!=lowPrefix?"-"+lowPrefix+"-":"",prefix:prefix,event:"o"===lowPrefix||"webkit"===lowPrefix?lowPrefix:""},hasTransitions&&(transitions=transforms,transitions.event=transitions.event?transitions.event+"TransitionEnd":"transitionend"),!1}}),support.transforms=transforms,support.transitions=transitions,support.devicePixelRatio=window.devicePixelRatio===undefined?1:window.devicePixelRatio;try{support.screenWidth=window.outerWidth||window.screen?window.screen.availWidth:window.innerWidth,support.screenHeight=window.outerHeight||window.screen?window.screen.availHeight:window.innerHeight}catch(e){support.screenWidth=window.screen.availWidth,support.screenHeight=window.screen.availHeight}support.detectOS=function(ua){var minorVersion,os=!1,match=[],notAndroidPhone=!/mobile safari/i.test(ua),agentRxs={fire:/(Silk)\/(\d+)\.(\d+(\.\d+)?)/,android:/(Android|Android.*(?:Opera|Firefox).*?\/)\s*(\d+)\.(\d+(\.\d+)?)/,iphone:/(iPhone|iPod).*OS\s+(\d+)[\._]([\d\._]+)/,ipad:/(iPad).*OS\s+(\d+)[\._]([\d_]+)/,meego:/(MeeGo).+NokiaBrowser\/(\d+)\.([\d\._]+)/,webos:/(webOS)\/(\d+)\.(\d+(\.\d+)?)/,blackberry:/(BlackBerry|BB10).*?Version\/(\d+)\.(\d+(\.\d+)?)/,playbook:/(PlayBook).*?Tablet\s*OS\s*(\d+)\.(\d+(\.\d+)?)/,wp:/(Windows Phone(?: OS)?)\s(\d+)\.(\d+(\.\d+)?)/,windows:/(MSIE)\s+(\d+)\.(\d+(\.\d+)?)/,ffos:/(Mobile).*rv:(\d+)\.(\d+(\.\d+)?).*Firefox/},osRxs={ios:/^i(phone|pad|pod)$/i,android:/^android|fire$/i,blackberry:/^blackberry|playbook/i,windows:/windows/,wp:/wp/,meego:/meego|ffos/},formFactorRxs={tablet:/playbook|ipad|fire/i},browserRxs={omini:/Opera\sMini/i,omobile:/Opera\sMobi/i,firefox:/Firefox|Fennec/i,mobilesafari:/version\/.*safari/i,chrome:/chrome/i,webkit:/webkit/i,ie:/MSIE|Windows\sPhone/i};for(var agent in agentRxs)if(agentRxs.hasOwnProperty(agent)&&(match=ua.match(agentRxs[agent]))){if("windows"==agent&&"plugins"in navigator)return!1;os={},os.device=agent,os.tablet=testRx(agent,formFactorRxs,!1),os.browser=testRx(ua,browserRxs,"default"),os.name=testRx(agent,osRxs),os[os.name]=!0,os.majorVersion=match[2],os.minorVersion=match[3].replace("_","."),minorVersion=os.minorVersion.replace(".","").substr(0,2),os.flatVersion=os.majorVersion+minorVersion+new Array(3-(minorVersion.length<3?minorVersion.length:2)).join("0"),os.appMode=window.navigator.standalone||/file|local|wmapp/.test(window.location.protocol)||typeof window.PhoneGap!==UNDEFINED||typeof window.cordova!==UNDEFINED,os.android&&(support.devicePixelRatio<1.5&&os.flatVersion<400||notAndroidPhone)&&(support.screenWidth>800||support.screenHeight>800)&&(os.tablet=agent);break}return os};var mobileOS=support.mobileOS=support.detectOS(navigator.userAgent);support.wpDevicePixelRatio=mobileOS.wp?screen.width/320:0,support.kineticScrollNeeded=mobileOS&&(support.touch||support.msPointers||support.pointers),support.hasNativeScrolling=!1,(mobileOS.ios&&mobileOS.majorVersion>4||mobileOS.android&&mobileOS.majorVersion>2||mobileOS.wp)&&(support.hasNativeScrolling=mobileOS),support.mouseAndTouchPresent=support.touch&&!(support.mobileOS.ios||support.mobileOS.android),support.detectBrowser=function(ua){var browser=!1,match=[],browserRxs={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,msie:/(msie|trident)(?:.*? rv:([\w.]+)| ([\w.]+))/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var agent in browserRxs)if(browserRxs.hasOwnProperty(agent)&&(match=ua.match(browserRxs[agent]))){browser={},browser[agent]=!0,browser[match[1].toLowerCase()]=!0,browser.version=parseInt(document.documentMode||match[2],10);break}return browser},support.browser=support.detectBrowser(navigator.userAgent),support.zoomLevel=function(){try{return support.touch?document.documentElement.clientWidth/window.innerWidth:support.browser.msie&&support.browser.version>=10?(top||window).outerWidth/(top||window).innerWidth:1}catch(e){return 1}},support.cssBorderSpacing="undefined"!=typeof document.documentElement.style.borderSpacing&&!(support.browser.msie&&support.browser.version<8),function(browser){var cssClass,majorVersion=parseInt(browser.version,10);browser.msie?cssClass="ie":browser.mozilla?cssClass="ff":browser.safari?cssClass="safari":browser.webkit?cssClass="webkit":browser.opera&&(cssClass="opera"),cssClass&&$(document.documentElement).addClass("k-"+cssClass+" k-"+cssClass+majorVersion)}(support.browser),support.eventCapture=document.documentElement.addEventListener,support.placeholder="placeholder"in document.createElement("input"),support.stableSort=function(){var sorted=[0,1,2,3,4,5,6,7,8,9,10,11,12].sort(function(){return 0});return 0===sorted[0]&&1===sorted[1]&&2===sorted[2]&&3===sorted[3]&&4===sorted[4]&&5===sorted[5]&&6===sorted[6]&&7===sorted[7]&&8===sorted[8]&&9===sorted[9]&&10===sorted[10]&&11===sorted[11]&&12===sorted[12]}(),support.matchesSelector=elementProto.webkitMatchesSelector||elementProto.mozMatchesSelector||elementProto.msMatchesSelector||elementProto.oMatchesSelector||elementProto.matchesSelector||function(selector){for(var nodeList=document.querySelectorAll?(this.parentNode||document).querySelectorAll(selector)||[]:$(selector),i=nodeList.length;i--;)if(nodeList[i]==this)return!0;return!1},support.pushState=window.history&&window.history.pushState;var documentMode=document.documentMode;support.hashChange="onhashchange"in window&&!(support.browser.msie&&(!documentMode||8>=documentMode))}();var directions={left:{reverse:"right"},right:{reverse:"left"},down:{reverse:"up"},up:{reverse:"down"},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out"},out:{reverse:"in"}},effects={};$.extend(effects,{Element:function(element){this.element=$(element)},promise:function(element,options){element.is(":visible")||element.css({display:element.data("olddisplay")||"block"}).css("display"),options.hide&&element.data("olddisplay",element.css("display")).hide(),options.init&&options.init(),options.completeCallback&&options.completeCallback(element),element.dequeue()},transitionPromise:function(element,destination,options){var container=kendo.wrap(element);return container.append(destination),element.hide(),destination.show(),options.completeCallback&&options.completeCallback(element),element}}),"kendoAnimate"in $.fn||extend($.fn,{kendoStop:function(clearQueue,gotoEnd){return this.stop(clearQueue,gotoEnd)},kendoAnimate:function(options,duration,reverse,complete){return animate(this,options,duration,reverse,complete)},kendoAnimateTo:function(destination,options,duration,reverse,complete){return animateTo(this,destination,options,duration,reverse,complete)},kendoAddClass:function(classes,options){return kendo.toggleClass(this,classes,options,!0)},kendoRemoveClass:function(classes,options){return kendo.toggleClass(this,classes,options,!1)},kendoToggleClass:function(classes,options,toggle){return kendo.toggleClass(this,classes,options,toggle)}});var ampRegExp=/&/g,ltRegExp=/</g,gtRegExp=/>/g,eventTarget=function(e){return e.target};support.touch&&(eventTarget=function(e){var touches="originalEvent"in e?e.originalEvent.changedTouches:"changedTouches"in e?e.changedTouches:null;return touches?document.elementFromPoint(touches[0].clientX,touches[0].clientY):e.target},each(["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap"],function(m,value){$.fn[value]=function(callback){return this.bind(value,callback)}})),support.touch?support.mobileOS?(support.mousedown="touchstart",support.mouseup="touchend",support.mousemove="touchmove",support.mousecancel="touchcancel",support.click="touchend",support.resize="orientationchange"):(support.mousedown="mousedown touchstart",support.mouseup="mouseup touchend",support.mousemove="mousemove touchmove",support.mousecancel="mouseleave touchcancel",support.click="click",support.resize="resize"):support.pointers?(support.mousemove="pointermove",support.mousedown="pointerdown",support.mouseup="pointerup",support.mousecancel="pointercancel",support.click="pointerup",support.resize="orientationchange resize"):support.msPointers?(support.mousemove="MSPointerMove",support.mousedown="MSPointerDown",support.mouseup="MSPointerUp",support.mousecancel="MSPointerCancel",support.click="MSPointerUp",support.resize="orientationchange resize"):(support.mousemove="mousemove",support.mousedown="mousedown",support.mouseup="mouseup",support.mousecancel="mouseleave",support.click="click",support.resize="resize");var wrapExpression=function(members,paramName){var index,idx,length,member,result=paramName||"d",count=1;for(idx=0,length=members.length;length>idx;idx++)member=members[idx],""!==member&&(index=member.indexOf("["),0!==index&&(-1==index?member="."+member:(count++,member="."+member.substring(0,index)+" || {})"+member.substring(index))),count++,result+=member+(length-1>idx?" || {})":")"));return new Array(count).join("(")+result},localUrlRe=/^([a-z]+:)?\/\//i;extend(kendo,{ui:kendo.ui||{},fx:kendo.fx||fx,effects:kendo.effects||effects,mobile:kendo.mobile||{},data:kendo.data||{},dataviz:kendo.dataviz||{ui:{roles:{}}},keys:{INSERT:45,DELETE:46,BACKSPACE:8,TAB:9,ENTER:13,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,END:35,HOME:36,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,F2:113,F10:121,F12:123},support:kendo.support||support,animate:kendo.animate||animate,ns:"",attr:function(value){return"data-"+kendo.ns+value},wrap:wrap,deepExtend:deepExtend,getComputedStyles:getComputedStyles,size:size,getOffset:kendo.getOffset||getOffset,parseEffects:kendo.parseEffects||parseEffects,toggleClass:kendo.toggleClass||toggleClass,directions:kendo.directions||directions,Observable:Observable,Class:Class,Template:Template,template:proxy(Template.compile,Template),render:proxy(Template.render,Template),stringify:proxy(JSON.stringify,JSON),eventTarget:eventTarget,htmlEncode:htmlEncode,isLocalUrl:function(url){return url&&!localUrlRe.test(url)},expr:function(expression,safe,paramName){return expression=expression||"",typeof safe==STRING&&(paramName=safe,safe=!1),paramName=paramName||"d",expression&&"["!==expression.charAt(0)&&(expression="."+expression),expression=safe?wrapExpression(expression.split("."),paramName):paramName+expression},getter:function(expression,safe){return getterCache[expression]=getterCache[expression]||new Function("d","return "+kendo.expr(expression,safe))},setter:function(expression){return setterCache[expression]=setterCache[expression]||new Function("d,value",kendo.expr(expression)+"=value")},accessor:function(expression){return{get:kendo.getter(expression),set:kendo.setter(expression)}},guid:function(){var i,random,id="";for(i=0;32>i;i++)random=16*math.random()|0,(8==i||12==i||16==i||20==i)&&(id+="-"),id+=(12==i?4:16==i?3&random|8:random).toString(16);return id},roleSelector:function(role){return role.replace(/(\S+)/g,"["+kendo.attr("role")+"=$1],").slice(0,-1)},triggeredByInput:function(e){return/^(label|input|textarea|select)$/i.test(e.target.tagName)},logToConsole:function(message){var console=window.console;"undefined"!=typeof console&&console.log&&console.log(message)}});var Widget=Observable.extend({init:function(element,options){var that=this;that.element=kendo.jQuery(element).handler(that),Observable.fn.init.call(that),options=that.options=extend(!0,{},that.options,options),that.element.attr(kendo.attr("role"))||that.element.attr(kendo.attr("role"),(options.name||"").toLowerCase()),that.element.data("kendo"+options.prefix+options.name,that),that.bind(that.events,options)},events:[],options:{prefix:""},_hasBindingTarget:function(){return!!this.element[0].kendoBindingTarget},_tabindex:function(target){target=target||this.wrapper;var element=this.element,TABINDEX="tabindex",tabindex=target.attr(TABINDEX)||element.attr(TABINDEX);element.removeAttr(TABINDEX),target.attr(TABINDEX,isNaN(tabindex)?0:tabindex)},setOptions:function(options){for(var e,that=this,idx=0,length=that.events.length;length>idx;idx++)e=that.events[idx],that.options[e]&&options[e]&&that.unbind(e,that.options[e]);$.extend(that.options,options),that.bind(that.events,options)},destroy:function(){var that=this;that.element.removeData("kendo"+that.options.prefix+that.options.name),that.element.removeData("handler"),that.unbind()}});kendo.notify=noop;var templateRegExp=/template$/i,jsonRegExp=/^\s*(?:\{(?:.|\r\n|\n)*\}|\[(?:.|\r\n|\n)*\])\s*$/,jsonFormatRegExp=/^\{(\d+)(:[^\}]+)?\}/,dashRegExp=/([A-Z])/g;kendo.initWidget=function(element,options,roles){var result,option,widget,idx,length,role,value,dataSource;if(roles?roles.roles&&(roles=roles.roles):roles=kendo.ui.roles,element=element.nodeType?element:element[0],role=element.getAttribute("data-"+kendo.ns+"role"),role&&(widget=-1===role.indexOf(".")?roles[role]:kendo.getter(role)(window))){for(dataSource=parseOption(element,"dataSource"),options=$.extend({},parseOptions(element,widget.fn.options),options),dataSource&&(options.dataSource=typeof dataSource===STRING?kendo.getter(dataSource)(window):dataSource),idx=0,length=widget.fn.events.length;length>idx;idx++)option=widget.fn.events[idx],value=parseOption(element,option),value!==undefined&&(options[option]=kendo.getter(value)(window));return result=$(element).data("kendo"+widget.fn.options.prefix+widget.fn.options.name),result?result.setOptions(options):result=new widget(element,options),result}},kendo.rolesFromNamespaces=function(namespaces){var idx,length,roles=[];for(namespaces[0]||(namespaces=[kendo.ui,kendo.dataviz.ui]),idx=0,length=namespaces.length;length>idx;idx++)roles[idx]=namespaces[idx].roles;return extend.apply(null,[{}].concat(roles.reverse()))},kendo.init=function(element){var roles=kendo.rolesFromNamespaces(slice.call(arguments,1));$(element).find("[data-"+kendo.ns+"role]").andSelf().each(function(){kendo.initWidget(this,{},roles)})},kendo.destroy=function(element){$(element).find("[data-"+kendo.ns+"role]").andSelf().each(function(){var element=$(this),widget=kendo.widgetInstance(element,kendo.ui)||kendo.widgetInstance(element,kendo.mobile.ui)||kendo.widgetInstance(element,kendo.dataviz.ui);widget&&widget.destroy()})},kendo.parseOptions=parseOptions,extend(kendo.ui,{Widget:Widget,roles:{},progress:function(container,toggle){var isRtl,leftRight,webkitCorrection,containerScrollLeft,mask=container.find(".k-loading-mask"),support=kendo.support,browser=support.browser;toggle?mask.length||(isRtl=support.isRtl(container),leftRight=isRtl?"right":"left",containerScrollLeft=container.scrollLeft(),webkitCorrection=browser.webkit&&isRtl?container[0].scrollWidth-container.width()-2*containerScrollLeft:0,mask=$("<div class='k-loading-mask'><span class='k-loading-text'>Loading...</span><div class='k-loading-image'/><div class='k-loading-color'/></div>").width("100%").height("100%").css("top",container.scrollTop()).css(leftRight,Math.abs(containerScrollLeft)+webkitCorrection).prependTo(container)):mask&&mask.remove()},plugin:function(widget,register,prefix){var getter,name=widget.fn.options.name;register=register||kendo.ui,prefix=prefix||"",register[name]=widget,register.roles[name.toLowerCase()]=widget,getter="getKendo"+prefix+name,name="kendo"+prefix+name,$.fn[name]=function(options){var args,value=this;return typeof options===STRING?(args=slice.call(arguments,1),this.each(function(){var method,result,widget=$.data(this,name);if(!widget)throw new Error(kendo.format("Cannot call method '{0}' of {1} before it is initialized",options,name));if(method=widget[options],typeof method!==FUNCTION)throw new Error(kendo.format("Cannot find method '{0}' of {1}",options,name));return result=method.apply(widget,args),result!==undefined?(value=result,!1):void 0})):this.each(function(){new widget(this,options)}),value},$.fn[getter]=function(){return this.data(name)}}});var ContainerNullObject={bind:function(){return this}},MobileWidget=Widget.extend({init:function(element,options){Widget.fn.init.call(this,element,options),this.element.autoApplyNS(),this.wrapper=this.element,this.element.addClass("km-widget")},destroy:function(){Widget.fn.destroy.call(this),this.element.kendoDestroy()},options:{prefix:"Mobile"},events:[],view:function(){var viewElement=this.element.closest(kendo.roleSelector("view splitview modalview drawer"));return kendo.widgetInstance(viewElement,kendo.mobile.ui)},container:function(){var element=this.element.closest(kendo.roleSelector("view layout modalview drawer"));return kendo.widgetInstance(element,kendo.mobile.ui)||ContainerNullObject}});extend(kendo.mobile,{init:function(element){kendo.init(element,kendo.mobile.ui,kendo.ui,kendo.dataviz.ui)},ui:{Widget:MobileWidget,roles:{},plugin:function(widget){kendo.ui.plugin(widget,kendo.mobile.ui,"Mobile")}}}),kendo.touchScroller=function(elements,options){return $(elements).map(function(idx,element){return element=$(element),support.kineticScrollNeeded&&kendo.mobile.ui.Scroller&&!element.data("kendoMobileScroller")?(element.kendoMobileScroller(options),element.data("kendoMobileScroller")):!1})[0]},kendo.preventDefault=function(e){e.preventDefault()},kendo.widgetInstance=function(element,suite){var widget=suite.roles[element.data(kendo.ns+"role")];return widget?element.data("kendo"+widget.fn.options.prefix+widget.fn.options.name):void 0},kendo.onResize=function(callback){var handler=callback;return support.mobileOS.android&&(handler=function(){setTimeout(callback,600)}),$(window).on(support.resize,handler),handler},kendo.unbindResize=function(callback){$(window).off(support.resize,callback)},kendo.attrValue=function(element,key){return element.data(kendo.ns+key)},kendo.days={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6},$.extend($.expr[":"],{focusable:function(element){var idx=$.attr(element,"tabindex");return focusable(element,!isNaN(idx)&&idx>-1)}});var MOUSE_EVENTS=["mousedown","mousemove","mouseenter","mouseleave","mouseover","mouseout","mouseup","click"],EXCLUDE_BUST_CLICK_SELECTOR="label, input, [data-rel=external]",MouseEventNormalizer={setupMouseMute:function(){var idx=0,length=MOUSE_EVENTS.length,element=document.documentElement;if(!MouseEventNormalizer.mouseTrap&&support.eventCapture){MouseEventNormalizer.mouseTrap=!0,MouseEventNormalizer.bustClick=!1,MouseEventNormalizer.captureMouse=!1;for(var handler=function(e){MouseEventNormalizer.captureMouse&&("click"===e.type?MouseEventNormalizer.bustClick&&!$(e.target).is(EXCLUDE_BUST_CLICK_SELECTOR)&&(e.preventDefault(),e.stopPropagation()):e.stopPropagation())};length>idx;idx++)element.addEventListener(MOUSE_EVENTS[idx],handler,!0)}},muteMouse:function(e){MouseEventNormalizer.captureMouse=!0,e.data.bustClick&&(MouseEventNormalizer.bustClick=!0),clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID)},unMuteMouse:function(){clearTimeout(MouseEventNormalizer.mouseTrapTimeoutID),MouseEventNormalizer.mouseTrapTimeoutID=setTimeout(function(){MouseEventNormalizer.captureMouse=!1,MouseEventNormalizer.bustClick=!1},400)}},eventMap={down:"touchstart mousedown",move:"mousemove touchmove",up:"mouseup touchend touchcancel",cancel:"mouseleave touchcancel"};support.touch&&(support.mobileOS.ios||support.mobileOS.android)?eventMap={down:"touchstart",move:"touchmove",up:"touchend touchcancel",cancel:"touchcancel"}:support.pointers?eventMap={down:"pointerdown",move:"pointermove",up:"pointerup",cancel:"pointercancel pointerleave"}:support.msPointers&&(eventMap={down:"MSPointerDown",move:"MSPointerMove",up:"MSPointerUp",cancel:"MSPointerCancel MSPointerLeave"}),!support.msPointers||"onmspointerenter"in window||$.each({MSPointerEnter:"MSPointerOver",MSPointerLeave:"MSPointerOut"},function(orig,fix){$.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!$.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}});var getEventMap=function(e){return eventMap[e]||e},eventRegEx=/([^ ]+)/g;kendo.applyEventMap=function(events,ns){return events=events.replace(eventRegEx,getEventMap),ns&&(events=events.replace(eventRegEx,"$1."+ns)),events};var on=$.fn.on;extend(!0,kendoJQuery,$),kendoJQuery.fn=kendoJQuery.prototype=new $,kendoJQuery.fn.constructor=kendoJQuery,kendoJQuery.fn.init=function(selector,context){return context&&context instanceof $&&!(context instanceof kendoJQuery)&&(context=kendoJQuery(context)),$.fn.init.call(this,selector,context,rootjQuery)},kendoJQuery.fn.init.prototype=kendoJQuery.fn;var rootjQuery=kendoJQuery(document);extend(kendoJQuery.fn,{handler:function(handler){return this.data("handler",handler),this},autoApplyNS:function(ns){return this.data("kendoNS",ns||kendo.guid()),this},on:function(){var that=this,ns=that.data("kendoNS");if(1===arguments.length)return on.call(that,arguments[0]);var context=that,args=slice.call(arguments);typeof args[args.length-1]===UNDEFINED&&args.pop();var callback=args[args.length-1],events=kendo.applyEventMap(args[0],ns);if(support.mouseAndTouchPresent&&events.search(/mouse|click/)>-1&&this[0]!==document.documentElement){MouseEventNormalizer.setupMouseMute();var selector=2===args.length?null:args[1],bustClick=events.indexOf("click")>-1&&events.indexOf("touchend")>-1;on.call(this,{touchstart:MouseEventNormalizer.muteMouse,touchend:MouseEventNormalizer.unMuteMouse},selector,{bustClick:bustClick})}return typeof callback===STRING&&(context=that.data("handler"),callback=context[callback],args[args.length-1]=function(e){callback.call(context,e)}),args[0]=events,on.apply(that,args),that},kendoDestroy:function(ns){return ns=ns||this.data("kendoNS"),ns&&this.off("."+ns),this}}),kendo.jQuery=kendoJQuery,kendo.eventMap=eventMap,kendo.timezone=function(){function ruleToDate(year,rule){var date,targetDay,ourDay,month=rule[3],on=rule[4],time=rule[5],cache=rule[8];return cache||(rule[8]=cache={}),cache[year]?cache[year]:(isNaN(on)?0===on.indexOf("last")?(date=new Date(Date.UTC(year,months[month]+1,1,time[0]-24,time[1],time[2],0)),targetDay=days[on.substr(4,3)],ourDay=date.getUTCDay(),date.setUTCDate(date.getUTCDate()+targetDay-ourDay-(targetDay>ourDay?7:0))):on.indexOf(">=")>=0&&(date=new Date(Date.UTC(year,months[month],on.substr(5),time[0],time[1],time[2],0)),targetDay=days[on.substr(0,3)],ourDay=date.getUTCDay(),date.setUTCDate(date.getUTCDate()+targetDay-ourDay+(ourDay>targetDay?7:0))):date=new Date(Date.UTC(year,months[month],on,time[0],time[1],time[2],0)),cache[year]=date)}function findRule(utcTime,rules,zone){if(rules=rules[zone],!rules){var time=zone.split(":"),offset=0;return time.length>1&&(offset=60*time[0]+Number(time[1])),[-1e6,"max","-","Jan",1,[0,0,0],offset,"-"]}var year=new Date(utcTime).getUTCFullYear();return rules=jQuery.grep(rules,function(rule){var from=rule[0],to=rule[1];return year>=from&&(to>=year||from==year&&"only"==to||"max"==to)}),rules.push(utcTime),rules.sort(function(a,b){return"number"!=typeof a&&(a=Number(ruleToDate(year,a))),"number"!=typeof b&&(b=Number(ruleToDate(year,b))),a-b}),rules[jQuery.inArray(utcTime,rules)-1]}function findZone(utcTime,zones,timezone){if(zones=zones[timezone],!zones)throw new Error('Timezone "'+timezone+'" is either incorrect, or kendo.timezones.min.js is not included.');for(var idx=zones.length-1;idx>=0;idx--){var until=zones[idx][3];if(until&&utcTime>until)break}var zone=zones[idx+1];if(!zone)throw new Error('Timezone "'+timezone+'" not found on '+utcTime+".");return zone}function zoneAndRule(utcTime,zones,rules,timezone){typeof utcTime!=NUMBER&&(utcTime=Date.UTC(utcTime.getFullYear(),utcTime.getMonth(),utcTime.getDate(),utcTime.getHours(),utcTime.getMinutes(),utcTime.getSeconds(),utcTime.getMilliseconds()));var zone=findZone(utcTime,zones,timezone);return{zone:zone,rule:findRule(utcTime,rules,zone[1])}}function offset(utcTime,timezone){if("Etc/UTC"==timezone||"Etc/GMT"==timezone)return 0;var info=zoneAndRule(utcTime,this.zones,this.rules,timezone),zone=info.zone,rule=info.rule;return rule?zone[0]-rule[6]:zone[0]}function abbr(utcTime,timezone){var info=zoneAndRule(utcTime,this.zones,this.rules,timezone),zone=info.zone,rule=info.rule,base=zone[2];return base.indexOf("/")>=0?base.split("/")[rule&&rule[6]?1:0]:base.indexOf("%s")>=0?base.replace("%s",rule&&"-"!=rule[7]?rule[7]:""):base}function convert(date,fromOffset,toOffset){typeof fromOffset==STRING&&(fromOffset=this.offset(date,fromOffset)),typeof toOffset==STRING&&(toOffset=this.offset(date,toOffset));var fromLocalOffset=date.getTimezoneOffset();date=new Date(date.getTime()+6e4*(fromOffset-toOffset));var toLocalOffset=date.getTimezoneOffset();return new Date(date.getTime()+6e4*(toLocalOffset-fromLocalOffset))}function apply(date,timezone){return this.convert(date,date.getTimezoneOffset(),timezone)}function remove(date,timezone){return this.convert(date,timezone,date.getTimezoneOffset())}var months={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},days={Sun:0,Mon:1,Tue:2,Wed:3,Thu:4,Fri:5,Sat:6};return{zones:{},rules:{},offset:offset,convert:convert,apply:apply,remove:remove,abbr:abbr}}(),kendo.date=function(){function adjustDST(date,hours){return 0===hours&&23===date.getHours()?(date.setHours(date.getHours()+2),!0):!1}function setDayOfWeek(date,day,dir){var hours=date.getHours();dir=dir||1,day=(day-date.getDay()+7*dir)%7,date.setDate(date.getDate()+day),adjustDST(date,hours)}function dayOfWeek(date,day,dir){return date=new Date(date),setDayOfWeek(date,day,dir),date}function firstDayOfMonth(date){return new Date(date.getFullYear(),date.getMonth(),1)}function lastDayOfMonth(date){var last=new Date(date.getFullYear(),date.getMonth()+1,0),first=firstDayOfMonth(date),timeOffset=Math.abs(last.getTimezoneOffset()-first.getTimezoneOffset());return timeOffset&&last.setHours(first.getHours()+timeOffset/60),last}function getDate(date){return date=new Date(date.getFullYear(),date.getMonth(),date.getDate(),0,0,0),adjustDST(date,0),date}function toUtcTime(date){return Date.UTC(date.getFullYear(),date.getMonth(),date.getDate(),date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds())}function getMilliseconds(date){return date.getTime()-getDate(date)}function isInTimeRange(value,min,max){var msValue,msMin=getMilliseconds(min),msMax=getMilliseconds(max);return value&&msMin!=msMax?(min>=max&&(max+=MS_PER_DAY),msValue=getMilliseconds(value),msMin>msValue&&(msValue+=MS_PER_DAY),msMin>msMax&&(msMax+=MS_PER_DAY),msValue>=msMin&&msMax>=msValue):!0}function isInDateRange(value,min,max){var msValue,msMin=min.getTime(),msMax=max.getTime();return msMin>=msMax&&(msMax+=MS_PER_DAY),msValue=value.getTime(),msValue>=msMin&&msMax>=msValue}function addDays(date,offset){var hours=date.getHours();return date=new Date(date),setTime(date,offset*MS_PER_DAY),adjustDST(date,hours),date}function setTime(date,milliseconds,ignoreDST){var difference,offset=date.getTimezoneOffset();date.setTime(date.getTime()+milliseconds),ignoreDST||(difference=date.getTimezoneOffset()-offset,date.setTime(date.getTime()+difference*MS_PER_MINUTE))}function today(){return getDate(new Date)}function isToday(date){return getDate(date).getTime()==today().getTime()}function toInvariantTime(date){var staticDate=new Date(1980,1,1,0,0,0);return date&&staticDate.setHours(date.getHours(),date.getMinutes(),date.getSeconds(),date.getMilliseconds()),staticDate}var MS_PER_MINUTE=6e4,MS_PER_DAY=864e5;return{adjustDST:adjustDST,dayOfWeek:dayOfWeek,setDayOfWeek:setDayOfWeek,getDate:getDate,isInDateRange:isInDateRange,isInTimeRange:isInTimeRange,isToday:isToday,nextDay:function(date){return addDays(date,1)},previousDay:function(date){return addDays(date,-1)},toUtcTime:toUtcTime,MS_PER_DAY:MS_PER_DAY,MS_PER_MINUTE:MS_PER_MINUTE,setTime:setTime,addDays:addDays,today:today,toInvariantTime:toInvariantTime,firstDayOfMonth:firstDayOfMonth,lastDayOfMonth:lastDayOfMonth,getMilliseconds:getMilliseconds}}(),kendo.stripWhitespace=function(element){for(var iterator=document.createNodeIterator(element,NodeFilter.SHOW_TEXT,function(node){return node.parentNode==element?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT},!1);iterator.nextNode();)iterator.referenceNode&&!iterator.referenceNode.textContent.trim()&&iterator.referenceNode.parentNode.removeChild(iterator.referenceNode)}}(jQuery,eval),"undefined"==typeof kendo_module&&(kendo_module=function(){}),kendo_module({id:"core",name:"Core",category:"framework",description:"The core of the Kendo framework."});
kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]}),function($,undefined){function eventHandler(context,type,field,prefix){return function(e){var key,event={};for(key in e)event[key]=e[key];event.field=prefix?field+"."+e.field:field,type==CHANGE&&context._notifyChange&&context._notifyChange(event),context.trigger(type,event)}}function equal(x,y){if(x===y)return!0;var field,xtype=$.type(x),ytype=$.type(y);if(xtype!==ytype)return!1;if("date"===xtype)return x.getTime()===y.getTime();if("object"!==xtype&&"array"!==xtype)return!1;for(field in x)if(!equal(x[field],y[field]))return!1;return!0}function getFieldByName(obj,name){var field,fieldName;for(fieldName in obj){if(field=obj[fieldName],isPlainObject(field)&&field.field&&field.field===name)return field;if(field===name)return field}return null}function Query(data){this.data=data||[]}function normalizeSort(field,dir){if(field){var descriptor=typeof field===STRING?{field:field,dir:dir}:field,descriptors=isArray(descriptor)?descriptor:descriptor!==undefined?[descriptor]:[];return grep(descriptors,function(d){return!!d.dir})}}function normalizeOperator(expression){var idx,length,filter,operator,filters=expression.filters;if(filters)for(idx=0,length=filters.length;length>idx;idx++)filter=filters[idx],operator=filter.operator,operator&&typeof operator===STRING&&(filter.operator=operatorMap[operator.toLowerCase()]||operator),normalizeOperator(filter)}function normalizeFilter(expression){return expression&&!isEmptyObject(expression)?((isArray(expression)||!expression.filters)&&(expression={logic:"and",filters:isArray(expression)?expression:[expression]}),normalizeOperator(expression),expression):void 0}function normalizeAggregate(expressions){return isArray(expressions)?expressions:[expressions]}function normalizeGroup(field,dir){var descriptor=typeof field===STRING?{field:field,dir:dir}:field,descriptors=isArray(descriptor)?descriptor:descriptor!==undefined?[descriptor]:[];return map(descriptors,function(d){return{field:d.field,dir:d.dir||"asc",aggregates:d.aggregates}})}function groupValueComparer(a,b){return a&&a.getTime&&b&&b.getTime?a.getTime()===b.getTime():a===b}function calculateAggregate(accumulator,aggregates,item,index,length){aggregates=aggregates||[];var idx,aggr,functionName,len=aggregates.length;for(idx=0;len>idx;idx++){aggr=aggregates[idx],functionName=aggr.aggregate;var field=aggr.field;accumulator[field]=accumulator[field]||{},accumulator[field][functionName]=functions[functionName.toLowerCase()](accumulator[field][functionName],item,kendo.accessor(field),index,length)}}function isNumber(val){return"number"==typeof val&&!isNaN(val)}function toJSON(array){var idx,length=array.length,result=new Array(length);for(idx=0;length>idx;idx++)result[idx]=array[idx].toJSON();return result}function calculateAggregates(data,options){options=options||{};var query=new Query(data),aggregates=options.aggregate,filter=options.filter;return filter&&(query=query.filter(filter)),query.aggregate(aggregates)}function serializeRecords(data,getters,modelInstance,originalFieldNames,fieldNames){var record,getter,originalName,idx,length;for(idx=0,length=data.length;length>idx;idx++){record=data[idx];for(getter in getters)originalName=fieldNames[getter],originalName&&originalName!==getter&&(record[originalName]=getters[getter](record),delete record[getter])}}function convertRecords(data,getters,modelInstance,originalFieldNames,fieldNames){var record,getter,originalName,idx,length;for(idx=0,length=data.length;length>idx;idx++){record=data[idx];for(getter in getters)record[getter]=modelInstance._parse(getter,getters[getter](record)),originalName=fieldNames[getter],originalName&&originalName!==getter&&delete record[originalName]}}function convertGroup(data,getters,modelInstance,originalFieldNames,fieldNames){var record,idx,fieldName,length;for(idx=0,length=data.length;length>idx;idx++)record=data[idx],fieldName=originalFieldNames[record.field],fieldName&&fieldName!=record.field&&(record.field=fieldName),record.value=modelInstance._parse(record.field,record.value),record.hasSubgroups?convertGroup(record.items,getters,modelInstance,originalFieldNames,fieldNames):convertRecords(record.items,getters,modelInstance,originalFieldNames,fieldNames)}function wrapDataAccess(originalFunction,model,converter,getters,originalFieldNames,fieldNames){return function(data){return data=originalFunction(data),data&&!isEmptyObject(getters)&&("[object Array]"===toString.call(data)||data instanceof ObservableArray||(data=[data]),converter(data,getters,new model,originalFieldNames,fieldNames)),data||[]}}function mergeGroups(target,dest,start,count){for(var group,items,idx=0;dest.length&&count&&(group=dest[idx],items=group.items,target&&target.field===group.field&&target.value===group.value?(target.hasSubgroups&&target.items.length?mergeGroups(target.items[target.items.length-1],group.items,start,count):(items=items.slice(start,count),count-=items.length,target.items=target.items.concat(items)),dest.splice(idx--,1)):(items=items.slice(start,count),count-=items.length,group.items=items,group.items.length||(dest.splice(idx--,1),count-=start)),start=0,!(++idx>=dest.length)););idx<dest.length&&dest.splice(idx,dest.length-idx)}function flattenGroups(data){var idx,length,result=[];for(idx=0,length=data.length;length>idx;idx++)result=result.concat(data[idx].hasSubgroups?flattenGroups(data[idx].items):data[idx].items.slice());return result}function wrapGroupItems(data,model){var idx,length,group,items;if(model)for(idx=0,length=data.length;length>idx;idx++)group=data[idx],items=group.items,group.hasSubgroups?wrapGroupItems(items,model):!items.length||items[0]instanceof model||(items.type=model,items.wrapAll(items,items))}function eachGroupItems(data,func){var idx,length;for(idx=0,length=data.length;length>idx;idx++)if(data[idx].hasSubgroups){if(eachGroupItems(data[idx].items,func))return!0}else if(func(data[idx].items,data[idx]))return!0}function removeModel(data,model){var idx,length;for(idx=0,length=data.length;length>idx;idx++)if(data[idx].uid==model.uid)return model=data[idx],data.splice(idx,1),model}function wrapInEmptyGroup(groups,model){var parent,group,idx,length;for(idx=groups.length-1,length=0;idx>=length;idx--)group=groups[idx],parent={value:model.get(group.field),field:group.field,items:parent?[parent]:[model],hasSubgroups:!!parent,aggregates:{}};return parent}function indexOfPristineModel(data,model){return model?indexOf(data,function(item){return item[model.idField]===model.id}):-1}function indexOfModel(data,model){return model?indexOf(data,function(item){return item.uid==model.uid}):-1}function indexOf(data,comparer){var idx,length;for(idx=0,length=data.length;length>idx;idx++)if(comparer(data[idx]))return idx;return-1}function fieldNameFromModel(fields,name){if(fields&&!isEmptyObject(fields)){var fieldName,descriptor=fields[name];return fieldName=isPlainObject(descriptor)?descriptor.from||descriptor.field||name:fields[name]||name,isFunction(fieldName)?name:fieldName}return name}function convertFilterDescriptorsField(descriptor,model){var idx,length,target={};for(var field in descriptor)"filters"!==field&&(target[field]=descriptor[field]);if(descriptor.filters)for(target.filters=[],idx=0,length=descriptor.filters.length;length>idx;idx++)target.filters[idx]=convertFilterDescriptorsField(descriptor.filters[idx],model);else target.field=fieldNameFromModel(model.fields,target.field);return target}function convertDescriptorsField(descriptors,model){var idx,length,target,descriptor,result=[];for(idx=0,length=descriptors.length;length>idx;idx++){target={},descriptor=descriptors[idx];for(var field in descriptor)target[field]=descriptor[field];target.field=fieldNameFromModel(model.fields,target.field),target.aggregates&&isArray(target.aggregates)&&(target.aggregates=convertDescriptorsField(target.aggregates,model)),result.push(target)}return result}function inferSelect(select,fields){var idx,length,record,value,option,options=$(select)[0].children,data=[],firstField=fields[0],secondField=fields[1];for(idx=0,length=options.length;length>idx;idx++)record={},option=options[idx],option.disabled||(record[firstField.field]=option.text,value=option.attributes.value,value=value&&value.specified?option.value:option.text,record[secondField.field]=value,data.push(record));return data}function inferTable(table,fields){var idx,length,fieldIndex,cells,record,cell,empty,tbody=$(table)[0].tBodies[0],rows=tbody?tbody.rows:[],fieldCount=fields.length,data=[];for(idx=0,length=rows.length;length>idx;idx++){for(record={},empty=!0,cells=rows[idx].cells,fieldIndex=0;fieldCount>fieldIndex;fieldIndex++)cell=cells[fieldIndex],"th"!==cell.nodeName.toLowerCase()&&(empty=!1,record[fields[fieldIndex].field]=cell.innerHTML);empty||data.push(record)}return data}function dataMethod(name){return function(){var data=this._data,result=DataSource.fn[name].apply(this,slice.call(arguments));return this._data!=data&&this._attachBubbleHandlers(),result}}function inferList(list,fields){var idx,length,record,item,id,textChild,className,children,items=$(list).children(),data=[],textField=fields[0].field,urlField=fields[1]&&fields[1].field,spriteCssClassField=fields[2]&&fields[2].field,imageUrlField=fields[3]&&fields[3].field;for(idx=0,length=items.length;length>idx;idx++)record={_loaded:!0},item=items.eq(idx),textChild=item[0].firstChild,children=item.children(),list=children.filter("ul"),children=children.filter(":not(ul)"),id=item.attr("data-id"),id&&(record.id=id),textChild&&(record[textField]=3==textChild.nodeType?textChild.nodeValue:children.text()),urlField&&(record[urlField]=children.find("a").attr("href")),imageUrlField&&(record[imageUrlField]=children.find("img").attr("src")),spriteCssClassField&&(className=children.find(".k-sprite").prop("className"),record[spriteCssClassField]=className&&$.trim(className.replace("k-sprite",""))),list.length&&(record.items=inferList(list.eq(0),fields)),"true"==item.attr("data-hasChildren")&&(record.hasChildren=!0),data.push(record);return data}var map,extend=$.extend,proxy=$.proxy,isFunction=$.isFunction,isPlainObject=$.isPlainObject,isEmptyObject=$.isEmptyObject,isArray=$.isArray,grep=$.grep,ajax=$.ajax,each=$.each,noop=$.noop,kendo=window.kendo,Observable=kendo.Observable,Class=kendo.Class,STRING="string",FUNCTION="function",CREATE="create",READ="read",UPDATE="update",DESTROY="destroy",CHANGE="change",SYNC="sync",GET="get",ERROR="error",REQUESTSTART="requestStart",PROGRESS="progress",REQUESTEND="requestEnd",crud=[CREATE,READ,UPDATE,DESTROY],identity=function(o){return o},getter=kendo.getter,stringify=kendo.stringify,math=Math,push=[].push,join=[].join,pop=[].pop,splice=[].splice,shift=[].shift,slice=[].slice,unshift=[].unshift,toString={}.toString,stableSort=kendo.support.stableSort,dateRegExp=/^\/Date\((.*?)\)\/$/,newLineRegExp=/(\r+|\n+)/g,quoteRegExp=/(?=['\\])/g,ObservableArray=Observable.extend({init:function(array,type){var that=this;that.type=type||ObservableObject,Observable.fn.init.call(that),that.length=array.length,that.wrapAll(array,that)},toJSON:function(){var idx,value,length=this.length,json=new Array(length);for(idx=0;length>idx;idx++)value=this[idx],value instanceof ObservableObject&&(value=value.toJSON()),json[idx]=value;return json},parent:noop,wrapAll:function(source,target){var idx,length,that=this,parent=function(){return that};for(target=target||[],idx=0,length=source.length;length>idx;idx++)target[idx]=that.wrap(source[idx],parent);return target},wrap:function(object,parent){var observable,that=this;return null!==object&&"[object Object]"===toString.call(object)&&(observable=object instanceof that.type||object instanceof Model,observable||(object=object instanceof ObservableObject?object.toJSON():object,object=new that.type(object)),object.parent=parent,object.bind(CHANGE,function(e){that.trigger(CHANGE,{field:e.field,node:e.node,index:e.index,items:e.items||[this],action:e.node?e.action||"itemchange":"itemchange"})})),object},push:function(){var result,index=this.length,items=this.wrapAll(arguments);return result=push.apply(this,items),this.trigger(CHANGE,{action:"add",index:index,items:items}),result},slice:slice,join:join,pop:function(){var length=this.length,result=pop.apply(this);return length&&this.trigger(CHANGE,{action:"remove",index:length-1,items:[result]}),result},splice:function(index,howMany,item){var result,i,len,items=this.wrapAll(slice.call(arguments,2));if(result=splice.apply(this,[index,howMany].concat(items)),result.length)for(this.trigger(CHANGE,{action:"remove",index:index,items:result}),i=0,len=result.length;len>i;i++)result[i].children&&result[i].unbind(CHANGE);return item&&this.trigger(CHANGE,{action:"add",index:index,items:items}),result},shift:function(){var length=this.length,result=shift.apply(this);return length&&this.trigger(CHANGE,{action:"remove",index:0,items:[result]}),result},unshift:function(){var result,items=this.wrapAll(arguments);return result=unshift.apply(this,items),this.trigger(CHANGE,{action:"add",index:0,items:items}),result},indexOf:function(item){var idx,length,that=this;for(idx=0,length=that.length;length>idx;idx++)if(that[idx]===item)return idx;return-1},forEach:function(callback){for(var idx=0,length=this.length;length>idx;idx++)callback(this[idx],idx,this)},map:function(callback){for(var idx=0,result=[],length=this.length;length>idx;idx++)result[idx]=callback(this[idx],idx,this);return result},filter:function(callback){for(var item,idx=0,result=[],length=this.length;length>idx;idx++)item=this[idx],callback(item,idx,this)&&(result[result.length]=item);return result},find:function(callback){for(var item,idx=0,length=this.length;length>idx;idx++)if(item=this[idx],callback(item,idx,this))return item},every:function(callback){for(var item,idx=0,length=this.length;length>idx;idx++)if(item=this[idx],!callback(item,idx,this))return!1;return!0},some:function(callback){for(var item,idx=0,length=this.length;length>idx;idx++)if(item=this[idx],callback(item,idx,this))return!0;return!1},remove:function(item){this.splice(this.indexOf(item),1)}}),ObservableObject=Observable.extend({init:function(value){var member,field,that=this,parent=function(){return that};Observable.fn.init.call(this);for(field in value)member=value[field],"_"!=field.charAt(0)&&(member=that.wrap(member,field,parent)),that[field]=member;that.uid=kendo.guid()},shouldSerialize:function(field){return this.hasOwnProperty(field)&&"_events"!==field&&typeof this[field]!==FUNCTION&&"uid"!==field},forEach:function(f){for(var i in this)this.shouldSerialize(i)&&f(this[i],i)},toJSON:function(){var value,field,result={};for(field in this)this.shouldSerialize(field)&&(value=this[field],(value instanceof ObservableObject||value instanceof ObservableArray)&&(value=value.toJSON()),result[field]=value);return result},get:function(field){var result,that=this;return that.trigger(GET,{field:field}),result="this"===field?that:kendo.getter(field,!0)(that)},_set:function(field,value){var that=this,composite=field.indexOf(".")>=0;if(composite)for(var paths=field.split("."),path="";paths.length>1;){path+=paths.shift();var obj=kendo.getter(path,!0)(that);if(obj instanceof ObservableObject)return obj.set(paths.join("."),value),composite;path+="."}return kendo.setter(field)(that,value),composite},set:function(field,value){var that=this,current=kendo.getter(field,!0)(that);current!==value&&(that.trigger("set",{field:field,value:value})||(!that._set(field,that.wrap(value,field,function(){return that}))||field.indexOf("(")>=0||field.indexOf("[")>=0)&&that.trigger(CHANGE,{field:field}))},parent:noop,wrap:function(object,field,parent){var that=this,type=toString.call(object);if(null!=object&&("[object Object]"===type||"[object Array]"===type)){var isObservableArray=object instanceof ObservableArray,isDataSource=object instanceof DataSource;"[object Object]"!==type||isDataSource||isObservableArray?("[object Array]"===type||isObservableArray||isDataSource)&&(isObservableArray||isDataSource||(object=new ObservableArray(object)),object.parent()!=parent()&&object.bind(CHANGE,eventHandler(that,CHANGE,field,!1))):(object instanceof ObservableObject||(object=new ObservableObject(object)),object.parent()!=parent()&&(object.bind(GET,eventHandler(that,GET,field,!0)),object.bind(CHANGE,eventHandler(that,CHANGE,field,!0)))),object.parent=parent}return object}}),parsers={number:function(value){return kendo.parseFloat(value)},date:function(value){return kendo.parseDate(value)},"boolean":function(value){return typeof value===STRING?"true"===value.toLowerCase():null!=value?!!value:value},string:function(value){return null!=value?value+"":value},"default":function(value){return value}},defaultValues={string:"",number:0,date:new Date,"boolean":!1,"default":""},Model=ObservableObject.extend({init:function(data){var that=this;(!data||$.isEmptyObject(data))&&(data=$.extend({},that.defaults,data)),ObservableObject.fn.init.call(that,data),that.dirty=!1,that.idField&&(that.id=that.get(that.idField),that.id===undefined&&(that.id=that._defaultId))},shouldSerialize:function(field){return ObservableObject.fn.shouldSerialize.call(this,field)&&"uid"!==field&&!("id"!==this.idField&&"id"===field)&&"dirty"!==field&&"_accessors"!==field},_parse:function(field,value){var parse,that=this,fieldName=field,fields=that.fields||{};return field=fields[field],field||(field=getFieldByName(fields,fieldName)),field&&(parse=field.parse,!parse&&field.type&&(parse=parsers[field.type.toLowerCase()])),parse?parse(value):value},_notifyChange:function(e){var action=e.action;("add"==action||"remove"==action)&&(this.dirty=!0)},editable:function(field){return field=(this.fields||{})[field],field?field.editable!==!1:!0},set:function(field,value,initiator){var that=this;that.editable(field)&&(value=that._parse(field,value),equal(value,that.get(field))||(that.dirty=!0,ObservableObject.fn.set.call(that,field,value,initiator)))},accept:function(data){var field,that=this,parent=function(){return that};for(field in data){var value=data[field];"_"!=field.charAt(0)&&(value=that.wrap(data[field],field,parent)),that._set(field,value)}that.idField&&(that.id=that.get(that.idField)),that.dirty=!1},isNew:function(){return this.id===this._defaultId}});Model.define=function(base,options){options===undefined&&(options=base,base=Model);var model,name,field,type,value,idx,length,originalName,proto=extend({defaults:{}},options),fields={},id=proto.id;if(id&&(proto.idField=id),proto.id&&delete proto.id,id&&(proto.defaults[id]=proto._defaultId=""),"[object Array]"===toString.call(proto.fields)){for(idx=0,length=proto.fields.length;length>idx;idx++)field=proto.fields[idx],typeof field===STRING?fields[field]={}:field.field&&(fields[field.field]=field);proto.fields=fields}for(name in proto.fields)field=proto.fields[name],type=field.type||"default",value=null,originalName=name,name=typeof field.field===STRING?field.field:name,field.nullable||(value=proto.defaults[originalName!==name?originalName:name]=field.defaultValue!==undefined?field.defaultValue:defaultValues[type.toLowerCase()]),options.id===name&&(proto._defaultId=value),proto.defaults[originalName!==name?originalName:name]=value,field.parse=field.parse||parsers[type];return model=base.extend(proto),model.define=function(options){return Model.define(model,options)},proto.fields&&(model.fields=proto.fields,model.idField=proto.idField),model};var Comparer={selector:function(field){return isFunction(field)?field:getter(field)},compare:function(field){var selector=this.selector(field);return function(a,b){return a=selector(a),b=selector(b),null==a&&null==b?0:null==a?-1:null==b?1:a.localeCompare?a.localeCompare(b):a>b?1:b>a?-1:0}},create:function(sort){var compare=sort.compare||this.compare(sort.field);return"desc"==sort.dir?function(a,b){return compare(b,a,!0)}:compare},combine:function(comparers){return function(a,b){var idx,length,result=comparers[0](a,b);for(idx=1,length=comparers.length;length>idx;idx++)result=result||comparers[idx](a,b);return result}}},StableComparer=extend({},Comparer,{asc:function(field){var selector=this.selector(field);return function(a,b){var valueA=selector(a),valueB=selector(b);return valueA&&valueA.getTime&&valueB&&valueB.getTime&&(valueA=valueA.getTime(),valueB=valueB.getTime()),valueA===valueB?a.__position-b.__position:null==valueA?-1:null==valueB?1:valueA.localeCompare?valueA.localeCompare(valueB):valueA>valueB?1:-1}},desc:function(field){var selector=this.selector(field);return function(a,b){var valueA=selector(a),valueB=selector(b);return valueA&&valueA.getTime&&valueB&&valueB.getTime&&(valueA=valueA.getTime(),valueB=valueB.getTime()),valueA===valueB?a.__position-b.__position:null==valueA?1:null==valueB?-1:valueB.localeCompare?valueB.localeCompare(valueA):valueB>valueA?1:-1}},create:function(sort){return this[sort.dir](sort.field)}});map=function(array,callback){var idx,length=array.length,result=new Array(length);for(idx=0;length>idx;idx++)result[idx]=callback(array[idx],idx,array);return result};var operators=function(){function quote(value){return value.replace(quoteRegExp,"\\").replace(newLineRegExp,"")}function operator(op,a,b,ignore){var date;return null!=b&&(typeof b===STRING&&(b=quote(b),date=dateRegExp.exec(b),date?b=new Date(+date[1]):ignore?(b="'"+b.toLowerCase()+"'",a="("+a+" || '').toLowerCase()"):b="'"+b+"'"),b.getTime&&(a="("+a+"?"+a+".getTime():"+a+")",b=b.getTime())),a+" "+op+" "+b}return{eq:function(a,b,ignore){return operator("==",a,b,ignore)},neq:function(a,b,ignore){return operator("!=",a,b,ignore)},gt:function(a,b,ignore){return operator(">",a,b,ignore)},gte:function(a,b,ignore){return operator(">=",a,b,ignore)},lt:function(a,b,ignore){return operator("<",a,b,ignore)},lte:function(a,b,ignore){return operator("<=",a,b,ignore)},startswith:function(a,b,ignore){return ignore&&(a="("+a+" || '').toLowerCase()",b&&(b=b.toLowerCase())),b&&(b=quote(b)),a+".lastIndexOf('"+b+"', 0) == 0"},endswith:function(a,b,ignore){return ignore&&(a="("+a+" || '').toLowerCase()",b&&(b=b.toLowerCase())),b&&(b=quote(b)),a+".indexOf('"+b+"', "+a+".length - "+(b||"").length+") >= 0"},contains:function(a,b,ignore){return ignore&&(a="("+a+" || '').toLowerCase()",b&&(b=b.toLowerCase())),b&&(b=quote(b)),a+".indexOf('"+b+"') >= 0"},doesnotcontain:function(a,b,ignore){return ignore&&(a="("+a+" || '').toLowerCase()",b&&(b=b.toLowerCase())),b&&(b=quote(b)),a+".indexOf('"+b+"') == -1"}}}();Query.filterExpr=function(expression){var idx,length,filter,expr,field,operator,expressions=[],logic={and:" && ",or:" || "},fieldFunctions=[],operatorFunctions=[],filters=expression.filters;for(idx=0,length=filters.length;length>idx;idx++)filter=filters[idx],field=filter.field,operator=filter.operator,filter.filters?(expr=Query.filterExpr(filter),filter=expr.expression.replace(/__o\[(\d+)\]/g,function(match,index){return index=+index,"__o["+(operatorFunctions.length+index)+"]"}).replace(/__f\[(\d+)\]/g,function(match,index){return index=+index,"__f["+(fieldFunctions.length+index)+"]"}),operatorFunctions.push.apply(operatorFunctions,expr.operators),fieldFunctions.push.apply(fieldFunctions,expr.fields)):(typeof field===FUNCTION?(expr="__f["+fieldFunctions.length+"](d)",fieldFunctions.push(field)):expr=kendo.expr(field),typeof operator===FUNCTION?(filter="__o["+operatorFunctions.length+"]("+expr+", "+filter.value+")",operatorFunctions.push(operator)):filter=operators[(operator||"eq").toLowerCase()](expr,filter.value,filter.ignoreCase!==undefined?filter.ignoreCase:!0)),expressions.push(filter);return{expression:"("+expressions.join(logic[expression.logic])+")",fields:fieldFunctions,operators:operatorFunctions}};var operatorMap={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};Query.normalizeFilter=normalizeFilter,Query.prototype={toArray:function(){return this.data},range:function(index,count){return new Query(this.data.slice(index,index+count))},skip:function(count){return new Query(this.data.slice(count))},take:function(count){return new Query(this.data.slice(0,count))},select:function(selector){return new Query(map(this.data,selector))},order:function(selector,dir){var sort={dir:dir};return selector&&(selector.compare?sort.compare=selector.compare:sort.field=selector),new Query(this.data.slice(0).sort(Comparer.create(sort)))},orderBy:function(selector){return this.order(selector,"asc")},orderByDescending:function(selector){return this.order(selector,"desc")},sort:function(field,dir,comparer){var idx,length,descriptors=normalizeSort(field,dir),comparers=[];if(comparer=comparer||Comparer,descriptors.length){for(idx=0,length=descriptors.length;length>idx;idx++)comparers.push(comparer.create(descriptors[idx]));return this.orderBy({compare:comparer.combine(comparers)})}return this},filter:function(expressions){var idx,current,length,compiled,predicate,fields,operators,filter,data=this.data,result=[];if(expressions=normalizeFilter(expressions),!expressions||0===expressions.filters.length)return this;for(compiled=Query.filterExpr(expressions),fields=compiled.fields,operators=compiled.operators,predicate=filter=new Function("d, __f, __o","return "+compiled.expression),(fields.length||operators.length)&&(filter=function(d){return predicate(d,fields,operators)}),idx=0,length=data.length;length>idx;idx++)current=data[idx],filter(current)&&result.push(current);return new Query(result)},group:function(descriptors,allData){descriptors=normalizeGroup(descriptors||[]),allData=allData||this.data;var descriptor,that=this,result=new Query(that.data);return descriptors.length>0&&(descriptor=descriptors[0],result=result.groupBy(descriptor).select(function(group){var data=new Query(allData).filter([{field:group.field,operator:"eq",value:group.value,ignoreCase:!1}]);return{field:group.field,value:group.value,items:descriptors.length>1?new Query(group.items).group(descriptors.slice(1),data.toArray()).toArray():group.items,hasSubgroups:descriptors.length>1,aggregates:data.aggregate(descriptor.aggregates)}})),result},groupBy:function(descriptor){if(isEmptyObject(descriptor)||!this.data.length)return new Query([]);var item,currentValue,idx,len,field=descriptor.field,sorted=this._sortForGrouping(field,descriptor.dir||"asc"),accessor=kendo.accessor(field),groupValue=accessor.get(sorted[0],field),group={field:field,value:groupValue,items:[]},result=[group];for(idx=0,len=sorted.length;len>idx;idx++)item=sorted[idx],currentValue=accessor.get(item,field),groupValueComparer(groupValue,currentValue)||(groupValue=currentValue,group={field:field,value:groupValue,items:[]},result.push(group)),group.items.push(item);return new Query(result)},_sortForGrouping:function(field,dir){var idx,length,data=this.data;if(!stableSort){for(idx=0,length=data.length;length>idx;idx++)data[idx].__position=idx;for(data=new Query(data).sort(field,dir,StableComparer).toArray(),idx=0,length=data.length;length>idx;idx++)delete data[idx].__position;return data}return this.sort(field,dir).toArray()},aggregate:function(aggregates){var idx,len,result={};if(aggregates&&aggregates.length)for(idx=0,len=this.data.length;len>idx;idx++)calculateAggregate(result,aggregates,this.data[idx],idx,len);return result}};var functions={sum:function(accumulator,item,accessor){return(accumulator||0)+accessor.get(item)},count:function(accumulator){return(accumulator||0)+1},average:function(accumulator,item,accessor,index,length){return accumulator=(accumulator||0)+accessor.get(item),index==length-1&&(accumulator/=length),accumulator},max:function(accumulator,item,accessor){var value=accessor.get(item);return accumulator=accumulator||0,value>accumulator&&(accumulator=value),accumulator},min:function(accumulator,item,accessor){var value=accessor.get(item);return isNumber(accumulator)||(accumulator=value),accumulator>value&&isNumber(value)&&(accumulator=value),accumulator}};Query.process=function(data,options){options=options||{};var total,query=new Query(data),group=options.group,sort=normalizeGroup(group||[]).concat(normalizeSort(options.sort||[])),filter=options.filter,skip=options.skip,take=options.take;return filter&&(query=query.filter(filter),total=query.toArray().length),sort&&(query=query.sort(sort),group&&(data=query.toArray())),skip!==undefined&&take!==undefined&&(query=query.range(skip,take)),group&&(query=query.group(group,data)),{total:total,data:query.toArray()}};var LocalTransport=Class.extend({init:function(options){this.data=options.data},read:function(options){options.success(this.data)},update:function(options){options.success(options.data)},create:function(options){options.success(options.data)},destroy:function(options){options.success(options.data)}}),RemoteTransport=Class.extend({init:function(options){var parameterMap,that=this;options=that.options=extend({},that.options,options),each(crud,function(index,type){typeof options[type]===STRING&&(options[type]={url:options[type]})}),that.cache=options.cache?Cache.create(options.cache):{find:noop,add:noop},parameterMap=options.parameterMap,that.parameterMap=isFunction(parameterMap)?parameterMap:function(options){var result={};return each(options,function(option,value){option in parameterMap&&(option=parameterMap[option],isPlainObject(option)&&(value=option.value(value),option=option.key)),result[option]=value}),result}},options:{parameterMap:identity},create:function(options){return ajax(this.setup(options,CREATE))},read:function(options){var success,error,result,that=this,cache=that.cache;options=that.setup(options,READ),success=options.success||noop,error=options.error||noop,result=cache.find(options.data),result!==undefined?success(result):(options.success=function(result){cache.add(options.data,result),success(result)},$.ajax(options))},update:function(options){return ajax(this.setup(options,UPDATE))},destroy:function(options){return ajax(this.setup(options,DESTROY))},setup:function(options,type){options=options||{};var parameters,that=this,operation=that.options[type],data=isFunction(operation.data)?operation.data(options.data):operation.data;return options=extend(!0,{},operation,options),parameters=extend(!0,{},data,options.data),options.data=that.parameterMap(parameters,type),isFunction(options.url)&&(options.url=options.url(parameters)),options}}),Cache=Class.extend({init:function(){this._store={}},add:function(key,data){key!==undefined&&(this._store[stringify(key)]=data)},find:function(key){return this._store[stringify(key)]},clear:function(){this._store={}},remove:function(key){delete this._store[stringify(key)]}});Cache.create=function(options){var store={inmemory:function(){return new Cache}};return isPlainObject(options)&&isFunction(options.find)?options:options===!0?new Cache:store[options]()};var DataReader=Class.extend({init:function(schema){var member,get,model,base,that=this;schema=schema||{};for(member in schema)get=schema[member],that[member]=typeof get===STRING?getter(get):get;if(base=schema.modelBase||Model,isPlainObject(that.model)&&(that.model=model=base.define(that.model)),that.model){var fieldName,dataFunction=proxy(that.data,that),groupsFunction=proxy(that.groups,that),serializeFunction=proxy(that.serialize,that),originalFieldNames={},getters={},serializeGetters={},fieldNames={},shouldSerialize=!1;model=that.model,model.fields&&(each(model.fields,function(field,value){
var fromName;fieldName=field,isPlainObject(value)&&value.field?fieldName=value.field:typeof value===STRING&&(fieldName=value),isPlainObject(value)&&value.from&&(fromName=value.from),shouldSerialize=shouldSerialize||fromName&&fromName!==field||fieldName!==field,getters[field]=getter(fromName||fieldName),serializeGetters[field]=getter(field),originalFieldNames[fromName||fieldName]=field,fieldNames[field]=fromName||fieldName}),!schema.serialize&&shouldSerialize&&(that.serialize=wrapDataAccess(serializeFunction,model,serializeRecords,serializeGetters,originalFieldNames,fieldNames))),that.data=wrapDataAccess(dataFunction,model,convertRecords,getters,originalFieldNames,fieldNames),that.groups=wrapDataAccess(groupsFunction,model,convertGroup,getters,originalFieldNames,fieldNames)}},errors:function(data){return data?data.errors:null},parse:identity,data:identity,total:function(data){return data.length},groups:identity,aggregates:function(){return{}},serialize:function(data){return data}}),DataSource=Observable.extend({init:function(options){var model,data,that=this;options&&(data=options.data),options=that.options=extend({},that.options,options),that._map={},that._prefetch={},that._data=[],that._pristineData=[],that._ranges=[],that._view=[],that._pristine=[],that._destroyed=[],that._pageSize=options.pageSize,that._page=options.page||(options.pageSize?1:undefined),that._sort=normalizeSort(options.sort),that._filter=normalizeFilter(options.filter),that._group=normalizeGroup(options.group),that._aggregate=options.aggregate,that._total=options.total,Observable.fn.init.call(that),that.transport=Transport.create(options,data),that.reader=new kendo.data.readers[options.schema.type||"json"](options.schema),model=that.reader.model||{},that._data=that._observe(that._data),that.bind([ERROR,CHANGE,REQUESTSTART,SYNC,REQUESTEND,PROGRESS],options)},options:{data:[],schema:{modelBase:Model},serverSorting:!1,serverPaging:!1,serverFiltering:!1,serverGrouping:!1,serverAggregates:!1,batch:!1},_isServerGrouped:function(){var group=this.group()||[];return this.options.serverGrouping&&group.length},_flatData:function(data){return this._isServerGrouped()?flattenGroups(data):data},parent:noop,get:function(id){var idx,length,data=this._flatData(this._data);for(idx=0,length=data.length;length>idx;idx++)if(data[idx].id==id)return data[idx]},getByUid:function(id){var idx,length,data=this._flatData(this._data);if(data)for(idx=0,length=data.length;length>idx;idx++)if(data[idx].uid==id)return data[idx]},indexOf:function(model){return indexOfModel(this._data,model)},at:function(index){return this._data[index]},data:function(value){var that=this;return value===undefined?that._data:(that._data=this._observe(value),that._ranges=[],that._addRange(that._data),that._total=that._data.length,that._process(that._data),void 0)},view:function(){return this._view},add:function(model){return this.insert(this._data.length,model)},_createNewModel:function(model){return this.reader.model?new this.reader.model(model):new ObservableObject(model)},insert:function(index,model){return model||(model=index,index=0),model instanceof Model||(model=this._createNewModel(model)),this._isServerGrouped()?this._data.splice(index,0,wrapInEmptyGroup(this.group(),model)):this._data.splice(index,0,model),model},remove:function(model){var result,that=this,hasGroups=that._isServerGrouped();return this._eachItem(that._data,function(items){return result=removeModel(items,model),result&&hasGroups?(result.isNew&&result.isNew()||that._destroyed.push(result),!0):void 0}),model},sync:function(){var idx,length,that=this,created=[],updated=[],destroyed=that._destroyed,data=that._flatData(that._data);if(that.reader.model){for(idx=0,length=data.length;length>idx;idx++)data[idx].isNew()?created.push(data[idx]):data[idx].dirty&&updated.push(data[idx]);var promises=that._send("create",created);promises.push.apply(promises,that._send("update",updated)),promises.push.apply(promises,that._send("destroy",destroyed)),$.when.apply(null,promises).then(function(){var idx,length;for(idx=0,length=arguments.length;length>idx;idx++)that._accept(arguments[idx]);that._change({action:"sync"}),that.trigger(SYNC)})}},cancelChanges:function(model){var that=this;model instanceof kendo.data.Model?that._cancelModel(model):(that._destroyed=[],that._data=that._observe(that._pristineData),that.options.serverPaging&&(that._total=that.reader.total(that._pristine)),that._change())},hasChanges:function(){var idx,length,data=this._data;if(this._destroyed.length)return!0;for(idx=0,length=data.length;length>idx;idx++)if(data[idx].isNew()||data[idx].dirty)return!0;return!1},_accept:function(result){var length,that=this,models=result.models,response=result.response,idx=0,serverGroup=that._isServerGrouped(),pristine=that._pristineData,type=result.type;if(that.trigger(REQUESTEND,{response:response,type:type}),response&&!isEmptyObject(response)){if(response=that.reader.parse(response),that._handleCustomErrors(response))return;response=that.reader.data(response),$.isArray(response)||(response=[response])}else response=$.map(models,function(model){return model.toJSON()});for("destroy"===type&&(that._destroyed=[]),idx=0,length=models.length;length>idx;idx++)"destroy"!==type?(models[idx].accept(response[idx]),"create"===type?pristine.push(serverGroup?wrapInEmptyGroup(that.group(),models[idx]):response[idx]):"update"===type&&that._updatePristineForModel(models[idx],response[idx])):that._removePristineForModel(models[idx])},_updatePristineForModel:function(model,values){this._executeOnPristineForModel(model,function(index,items){kendo.deepExtend(items[index],values)})},_executeOnPristineForModel:function(model,callback){this._eachPristineItem(function(items){var index=indexOfPristineModel(items,model);return index>-1?(callback(index,items),!0):void 0})},_removePristineForModel:function(model){this._executeOnPristineForModel(model,function(index,items){items.splice(index,1)})},_readData:function(data){var read=this._isServerGrouped()?this.reader.groups:this.reader.data;return read(data)},_eachPristineItem:function(callback){this._eachItem(this._pristineData,callback)},_eachItem:function(data,callback){data&&data.length&&(this._isServerGrouped()?eachGroupItems(data,callback):callback(data))},_pristineForModel:function(model){var pristine,idx,callback=function(items){return idx=indexOfPristineModel(items,model),idx>-1?(pristine=items[idx],!0):void 0};return this._eachPristineItem(callback),pristine},_cancelModel:function(model){var idx,pristine=this._pristineForModel(model);this._eachItem(this._data,function(items){idx=indexOfModel(items,model),-1!=idx&&(!model.isNew()&&pristine?items[idx].accept(pristine):items.splice(idx,1))})},_promise:function(data,models,type){var that=this,transport=that.transport;return $.Deferred(function(deferred){that.trigger(REQUESTSTART,{type:type}),transport[type].call(transport,extend({success:function(response){deferred.resolve({response:response,models:models,type:type})},error:function(response,status,error){deferred.reject(response),that.error(response,status,error)}},data))}).promise()},_send:function(method,data){var idx,length,that=this,promises=[],converted=that.reader.serialize(toJSON(data));if(that.options.batch)data.length&&promises.push(that._promise({data:{models:converted}},data,method));else for(idx=0,length=data.length;length>idx;idx++)promises.push(that._promise({data:converted[idx]},[data[idx]],method));return promises},read:function(data){var that=this,params=that._params(data);that._queueRequest(params,function(){that.trigger(REQUESTSTART,{type:"read"})?that._dequeueRequest():(that.trigger(PROGRESS),that._ranges=[],that.transport.read({data:params,success:proxy(that.success,that),error:proxy(that.error,that)}))})},success:function(data){var that=this,options=that.options;return that.trigger(REQUESTEND,{response:data,type:"read"}),data=that.reader.parse(data),that._handleCustomErrors(data)?void that._dequeueRequest():(that._pristine=isPlainObject(data)?$.extend(!0,{},data):data.slice?data.slice(0):data,that._total=that.reader.total(data),that._aggregate&&options.serverAggregates&&(that._aggregateResult=that.reader.aggregates(data)),data=that._readData(data),that._pristineData=data.slice(0),that._data=that._observe(data),that._addRange(that._data),that._process(that._data),void that._dequeueRequest())},_addRange:function(data){var that=this,start=that._skip||0,end=start+that._flatData(data).length;that._ranges.push({start:start,end:end,data:data}),that._ranges.sort(function(x,y){return x.start-y.start})},error:function(xhr,status,errorThrown){this._dequeueRequest(),this.trigger(REQUESTEND,{}),this.trigger(ERROR,{xhr:xhr,status:status,errorThrown:errorThrown})},_params:function(data){var that=this,options=extend({take:that.take(),skip:that.skip(),page:that.page(),pageSize:that.pageSize(),sort:that._sort,filter:that._filter,group:that._group,aggregate:that._aggregate},data);return that.options.serverPaging||(delete options.take,delete options.skip,delete options.page,delete options.pageSize),that.options.serverGrouping?that.reader.model&&options.group&&(options.group=convertDescriptorsField(options.group,that.reader.model)):delete options.group,that.options.serverFiltering?that.reader.model&&options.filter&&(options.filter=convertFilterDescriptorsField(options.filter,that.reader.model)):delete options.filter,that.options.serverSorting?that.reader.model&&options.sort&&(options.sort=convertDescriptorsField(options.sort,that.reader.model)):delete options.sort,that.options.serverAggregates?that.reader.model&&options.aggregate&&(options.aggregate=convertDescriptorsField(options.aggregate,that.reader.model)):delete options.aggregate,options},_queueRequest:function(options,callback){var that=this;that._requestInProgress?that._pending={callback:proxy(callback,that),options:options}:(that._requestInProgress=!0,that._pending=undefined,callback())},_dequeueRequest:function(){var that=this;that._requestInProgress=!1,that._pending&&that._queueRequest(that._pending.options,that._pending.callback)},_handleCustomErrors:function(response){if(this.reader.errors){var errors=this.reader.errors(response);if(errors)return this.trigger(ERROR,{xhr:null,status:"customerror",errorThrown:"custom error",errors:errors}),!0}return!1},_observe:function(data){var that=this,model=that.reader.model,wrap=!1;return model&&data.length&&(wrap=!(data[0]instanceof model)),data instanceof ObservableArray?wrap&&(data.type=that.reader.model,data.wrapAll(data,data)):(data=new ObservableArray(data,that.reader.model),data.parent=function(){return that.parent()}),that._isServerGrouped()&&wrapGroupItems(data,model),that._changeHandler&&that._data&&that._data instanceof ObservableArray?that._data.unbind(CHANGE,that._changeHandler):that._changeHandler=proxy(that._change,that),data.bind(CHANGE,that._changeHandler)},_change:function(e){var idx,length,that=this,action=e?e.action:"";if("remove"===action)for(idx=0,length=e.items.length;length>idx;idx++)e.items[idx].isNew&&e.items[idx].isNew()||that._destroyed.push(e.items[idx]);if(!that.options.autoSync||"add"!==action&&"remove"!==action&&"itemchange"!==action){var total=parseInt(that._total||that.reader.total(that._pristine),10);"add"===action?total+=e.items.length:"remove"===action?total-=e.items.length:"itemchange"===action||"sync"===action||that.options.serverPaging||(total=that.reader.total(that._pristine)),that._total=total,that._process(that._data,e)}else that.sync()},_process:function(data,e){var result,that=this,options={};that.options.serverPaging!==!0&&(options.skip=that._skip,options.take=that._take||that._pageSize,options.skip===undefined&&that._page!==undefined&&that._pageSize!==undefined&&(options.skip=(that._page-1)*that._pageSize)),that.options.serverSorting!==!0&&(options.sort=that._sort),that.options.serverFiltering!==!0&&(options.filter=that._filter),that.options.serverGrouping!==!0&&(options.group=that._group),that.options.serverAggregates!==!0&&(options.aggregate=that._aggregate,that._aggregateResult=calculateAggregates(data,options)),result=Query.process(data,options),that._view=result.data,result.total===undefined||that.options.serverFiltering||(that._total=result.total),e=e||{},e.items=e.items||that._view,that.trigger(CHANGE,e)},_mergeState:function(options){var that=this;return options!==undefined&&(that._pageSize=options.pageSize,that._page=options.page,that._sort=options.sort,that._filter=options.filter,that._group=options.group,that._aggregate=options.aggregate,that._skip=options.skip,that._take=options.take,that._skip===undefined&&(that._skip=that.skip(),options.skip=that.skip()),that._take===undefined&&that._pageSize!==undefined&&(that._take=that._pageSize,options.take=that._take),options.sort&&(that._sort=options.sort=normalizeSort(options.sort)),options.filter&&(that._filter=options.filter=normalizeFilter(options.filter)),options.group&&(that._group=options.group=normalizeGroup(options.group)),options.aggregate&&(that._aggregate=options.aggregate=normalizeAggregate(options.aggregate))),options},query:function(options){var result,that=this,remote=that.options.serverSorting||that.options.serverPaging||that.options.serverFiltering||that.options.serverGrouping||that.options.serverAggregates;remote||(that._data===undefined||0===that._data.length)&&!that._destroyed.length?that.read(that._mergeState(options)):that.trigger(REQUESTSTART,{type:"read"})||(that.trigger(PROGRESS),result=Query.process(that._data,that._mergeState(options)),that.options.serverFiltering||(that._total=result.total!==undefined?result.total:that._data.length),that._view=result.data,that._aggregateResult=calculateAggregates(that._data,options),that.trigger(REQUESTEND,{}),that.trigger(CHANGE,{items:result.data}))},fetch:function(callback){var that=this;return $.Deferred(function(deferred){var success=function(e){that.unbind(ERROR,error),deferred.resolve(),callback&&callback.call(that,e)},error=function(e){deferred.reject(e)};that.one(CHANGE,success),that.one(ERROR,error),that._query()}).promise()},_query:function(options){var that=this;that.query(extend({},{page:that.page(),pageSize:that.pageSize(),sort:that.sort(),filter:that.filter(),group:that.group(),aggregate:that.aggregate()},options))},next:function(options){var that=this,page=that.page(),total=that.total();return options=options||{},!page||total&&page+1>that.totalPages()?void 0:(that._skip=page*that.take(),page+=1,options.page=page,that._query(options),page)},prev:function(options){var that=this,page=that.page();return options=options||{},page&&1!==page?(that._skip=that._skip-that.take(),page-=1,options.page=page,that._query(options),page):void 0},page:function(val){var skip,that=this;return val!==undefined?(val=math.max(math.min(math.max(val,1),that.totalPages()),1),void that._query({page:val})):(skip=that.skip(),skip!==undefined?math.round((skip||0)/(that.take()||1))+1:undefined)},pageSize:function(val){var that=this;return val!==undefined?void that._query({pageSize:val,page:1}):that.take()},sort:function(val){var that=this;return val!==undefined?void that._query({sort:val}):that._sort},filter:function(val){var that=this;return val===undefined?that._filter:void that._query({filter:val,page:1})},group:function(val){var that=this;return val!==undefined?void that._query({group:val}):that._group},total:function(){return parseInt(this._total||0,10)},aggregate:function(val){var that=this;return val!==undefined?void that._query({aggregate:val}):that._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var that=this,pageSize=that.pageSize()||that.total();return math.ceil((that.total()||0)/pageSize)},inRange:function(skip,take){var that=this,end=math.min(skip+take,that.total());return!that.options.serverPaging&&that.data.length>0?!0:that._findRange(skip,end).length>0},lastRange:function(){var ranges=this._ranges;return ranges[ranges.length-1]||{start:0,end:0,data:[]}},firstItemUid:function(){var ranges=this._ranges;return ranges.length&&ranges[0].data.length&&ranges[0].data[0].uid},range:function(skip,take){skip=math.min(skip||0,this.total());var data,that=this,pageSkip=math.max(math.floor(skip/take),0)*take,size=math.min(pageSkip+take,that.total());if(data=that._findRange(skip,math.min(skip+take,that.total())),data.length){that._skip=skip>that.skip()?math.min(size,(that.totalPages()-1)*that.take()):pageSkip,that._take=take;var paging=that.options.serverPaging,sorting=that.options.serverSorting,filtering=that.options.serverFiltering;try{that.options.serverPaging=!0,that.options.serverSorting=!0,that.options.serverFiltering=!0,paging&&(that._data=data=that._observe(data)),that._process(data)}finally{that.options.serverPaging=paging,that.options.serverSorting=sorting,that.options.serverFiltering=filtering}}else take!==undefined&&(that._rangeExists(pageSkip,size)?skip>pageSkip&&that.prefetch(size,take,function(){that.range(skip,take)}):that.prefetch(pageSkip,take,function(){skip>pageSkip&&size<that.total()&&!that._rangeExists(size,math.min(size+take,that.total()))?that.prefetch(size,take,function(){that.range(skip,take)}):that.range(skip,take)}))},_findRange:function(start,end){var range,skipIdx,takeIdx,startIndex,endIndex,rangeData,rangeEnd,processed,flatData,count,length,that=this,ranges=that._ranges,data=[],options=that.options,remote=options.serverSorting||options.serverPaging||options.serverFiltering||options.serverGrouping||options.serverAggregates;for(skipIdx=0,length=ranges.length;length>skipIdx;skipIdx++)if(range=ranges[skipIdx],start>=range.start&&start<=range.end){for(count=0,takeIdx=skipIdx;length>takeIdx;takeIdx++)if(range=ranges[takeIdx],flatData=that._flatData(range.data),flatData.length&&start+count>=range.start){if(rangeData=range.data,rangeEnd=range.end,!remote){var sort=normalizeGroup(that.group()||[]).concat(normalizeSort(that.sort()||[]));processed=Query.process(range.data,{sort:sort,filter:that.filter()}),flatData=rangeData=processed.data,processed.total!==undefined&&(rangeEnd=processed.total)}if(startIndex=0,start+count>range.start&&(startIndex=start+count-range.start),endIndex=flatData.length,rangeEnd>end&&(endIndex-=rangeEnd-end),count+=endIndex-startIndex,data=that._mergeGroups(data,rangeData,startIndex,endIndex),end<=range.end&&count==end-start)return data}break}return[]},_mergeGroups:function(data,range,startIndex,endIndex){if(this._isServerGrouped()){var prevGroup,temp=range.toJSON();return data.length&&(prevGroup=data[data.length-1]),mergeGroups(prevGroup,temp,startIndex,endIndex),data.concat(temp)}return data.concat(range.slice(startIndex,endIndex))},skip:function(){var that=this;return that._skip===undefined?that._page!==undefined?(that._page-1)*(that.take()||1):undefined:that._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(skip,size,callback){var that=this;return function(data){var idx,length,found=!1,range={start:skip,end:size,data:[]};for(that._dequeueRequest(),idx=0,length=that._ranges.length;length>idx;idx++)if(that._ranges[idx].start===skip){found=!0,range=that._ranges[idx];break}found||that._ranges.push(range),that.trigger(REQUESTEND,{response:data,type:"read"}),data=that.reader.parse(data),range.data=that._observe(that._readData(data)),range.end=range.start+that._flatData(range.data).length,that._ranges.sort(function(x,y){return x.start-y.start}),that._total=that.reader.total(data),callback&&callback()}},prefetch:function(skip,take,callback){var that=this,size=math.min(skip+take,that.total()),options={take:take,skip:skip,page:skip/take+1,pageSize:take,sort:that._sort,filter:that._filter,group:that._group,aggregate:that._aggregate};that._rangeExists(skip,size)?callback&&callback():(clearTimeout(that._timeout),that._timeout=setTimeout(function(){that._queueRequest(options,function(){that.trigger(REQUESTSTART,{type:"read"})?that._dequeueRequest():that.transport.read({data:that._params(options),success:that._prefetchSuccessHandler(skip,size,callback)})})},100))},_rangeExists:function(start,end){var idx,length,that=this,ranges=that._ranges;for(idx=0,length=ranges.length;length>idx;idx++)if(ranges[idx].start<=start&&ranges[idx].end>=end)return!0;return!1}}),Transport={};Transport.create=function(options,data){var transport,transportOptions=options.transport;return transportOptions?(transportOptions.read=typeof transportOptions.read===STRING?{url:transportOptions.read}:transportOptions.read,options.type&&(kendo.data.transports[options.type]&&!isPlainObject(kendo.data.transports[options.type])?transport=new kendo.data.transports[options.type](extend(transportOptions,{data:data})):transportOptions=extend(!0,{},kendo.data.transports[options.type],transportOptions),options.schema=extend(!0,{},kendo.data.schemas[options.type],options.schema)),transport||(transport=isFunction(transportOptions.read)?transportOptions:new RemoteTransport(transportOptions))):transport=new LocalTransport({data:options.data}),transport},DataSource.create=function(options){options=options&&options.push?{data:options}:options;var idx,length,field,dataSource=options||{},data=dataSource.data,fields=dataSource.fields,table=dataSource.table,select=dataSource.select,model={};if(data||!fields||dataSource.transport||(table?data=inferTable(table,fields):select&&(data=inferSelect(select,fields))),kendo.data.Model&&fields&&(!dataSource.schema||!dataSource.schema.model)){for(idx=0,length=fields.length;length>idx;idx++)field=fields[idx],field.type&&(model[field.field]=field);isEmptyObject(model)||(dataSource.schema=extend(!0,dataSource.schema,{model:{fields:model}}))}return dataSource.data=data,dataSource instanceof DataSource?dataSource:new DataSource(dataSource)};var Node=Model.define({init:function(value){var that=this,hasChildren=that.hasChildren||value&&value.hasChildren,childrenField="items",childrenOptions={};kendo.data.Model.fn.init.call(that,value),typeof that.children===STRING&&(childrenField=that.children),childrenOptions={schema:{data:childrenField,model:{hasChildren:hasChildren,id:that.idField}}},typeof that.children!==STRING&&extend(childrenOptions,that.children),childrenOptions.data=value,hasChildren||(hasChildren=childrenOptions.schema.data),typeof hasChildren===STRING&&(hasChildren=kendo.getter(hasChildren)),isFunction(hasChildren)&&(that.hasChildren=!!hasChildren.call(that,that)),that._childrenOptions=childrenOptions,that.hasChildren&&that._initChildren(),that._loaded=!(!value||!value[childrenField]&&!value._loaded)},_initChildren:function(){var children,transport,parameterMap,that=this;that.children instanceof HierarchicalDataSource||(children=that.children=new HierarchicalDataSource(that._childrenOptions),transport=children.transport,parameterMap=transport.parameterMap,transport.parameterMap=function(data){return data[that.idField||"id"]=that.id,parameterMap&&(data=parameterMap(data)),data},children.parent=function(){return that},children.bind(CHANGE,function(e){e.node=e.node||that,that.trigger(CHANGE,e)}),children.bind(ERROR,function(e){var collection=that.parent();collection&&(e.node=e.node||that,collection.trigger(ERROR,e))}),that._updateChildrenField())},append:function(model){this._initChildren(),this.loaded(!0),this.children.add(model)},hasChildren:!1,level:function(){for(var parentNode=this.parentNode(),level=0;parentNode&&parentNode.parentNode;)level++,parentNode=parentNode.parentNode?parentNode.parentNode():null;return level},_updateChildrenField:function(){var fieldName=this._childrenOptions.schema.data;this[fieldName||"items"]=this.children.data()},load:function(){var that=this,options={};that.hasChildren&&(that._initChildren(),options[that.idField||"id"]=that.id,that._loaded||(that.children._data=undefined),that.children.one(CHANGE,function(){that._loaded=!0,that._updateChildrenField()})._query(options))},parentNode:function(){var array=this.parent();return array.parent()},loaded:function(value){return value===undefined?this._loaded:void(this._loaded=value)},shouldSerialize:function(field){return Model.fn.shouldSerialize.call(this,field)&&"children"!==field&&"_loaded"!==field&&"hasChildren"!==field&&"_childrenOptions"!==field}}),HierarchicalDataSource=DataSource.extend({init:function(options){var node=Node.define({children:options});DataSource.fn.init.call(this,extend(!0,{},{schema:{modelBase:node,model:node}},options)),this._attachBubbleHandlers()},_attachBubbleHandlers:function(){var that=this;that._data.bind(ERROR,function(e){that.trigger(ERROR,e)})},remove:function(node){var result,parentNode=node.parentNode(),dataSource=this;return parentNode&&parentNode._initChildren&&(dataSource=parentNode.children),result=DataSource.fn.remove.call(dataSource,node),parentNode&&!dataSource.data().length&&(parentNode.hasChildren=!1),result},success:dataMethod("success"),data:dataMethod("data"),insert:function(index,model){var parentNode=this.parent();return parentNode&&parentNode._initChildren&&(parentNode.hasChildren=!0,parentNode._initChildren()),DataSource.fn.insert.call(this,index,model)},_find:function(method,value){var idx,length,node,data,children;if(node=DataSource.fn[method].call(this,value))return node;if(data=this._flatData(this.data()))for(idx=0,length=data.length;length>idx;idx++)if(children=data[idx].children,children instanceof HierarchicalDataSource&&(node=children[method](value)))return node},get:function(id){return this._find("get",id)},getByUid:function(uid){return this._find("getByUid",uid)}});HierarchicalDataSource.create=function(options){options=options&&options.push?{data:options}:options;var dataSource=options||{},data=dataSource.data,fields=dataSource.fields,list=dataSource.list;return data&&data._dataSource?data._dataSource:(data||!fields||dataSource.transport||list&&(data=inferList(list,fields)),dataSource.data=data,dataSource instanceof HierarchicalDataSource?dataSource:new HierarchicalDataSource(dataSource))};var Buffer=kendo.Observable.extend({init:function(dataSource,viewSize,disablePrefetch){kendo.Observable.fn.init.call(this),this._prefetching=!1,this.dataSource=dataSource,this.prefetch=!disablePrefetch;var buffer=this;dataSource.bind("change",function(){buffer._change()}),this._syncWithDataSource(),this.setViewSize(viewSize)},setViewSize:function(viewSize){this.viewSize=viewSize,this._recalculate()},at:function(index){var pageSize=this.pageSize;if(index>=this.total())return void this.trigger("endreached",{index:index});if(index<this.dataOffset||index>this.skip+pageSize){var offset=Math.floor(index/pageSize)*pageSize;this.range(offset)}index===this.prefetchThreshold&&this._prefetch(),index===this.midPageThreshold?this.range(this.nextMidRange):index===this.nextPageThreshold?this.range(this.nextFullRange):index===this.pullBackThreshold&&this.range(this.offset===this.skip?this.previousMidRange:this.previousFullRange);var item=this.dataSource.at(index-this.dataOffset);return item===undefined&&this.trigger("endreached",{index:index}),item},indexOf:function(item){return this.dataSource.data().indexOf(item)+this.dataOffset},_prefetch:function(){var buffer=this,pageSize=this.pageSize,prefetchOffset=this.skip+pageSize,dataSource=this.dataSource;dataSource.inRange(prefetchOffset,pageSize)||this._prefetching||!this.prefetch||(this._prefetching=!0,this.trigger("prefetching",{skip:prefetchOffset,take:pageSize}),dataSource.prefetch(prefetchOffset,pageSize,function(){buffer._prefetching=!1,buffer.trigger("prefetched",{skip:prefetchOffset,take:pageSize})}))},total:function(){return parseInt(this.dataSource.total(),10)},next:function(){var buffer=this,pageSize=buffer.pageSize,offset=buffer.skip-buffer.viewSize,pageSkip=math.max(math.floor(offset/pageSize),0)*pageSize+pageSize;this.offset=offset,this.dataSource.prefetch(pageSkip,pageSize,function(){buffer._goToRange(offset,!0)})},range:function(offset){if(this.offset!==offset){var buffer=this,pageSize=this.pageSize,pageSkip=math.max(math.floor(offset/pageSize),0)*pageSize+pageSize,dataSource=this.dataSource;this.offset=offset,this._recalculate(),dataSource.inRange(offset,pageSize)?this._goToRange(offset):this.prefetch&&dataSource.prefetch(pageSkip,pageSize,function(){buffer._goToRange(offset,!0)})}},syncDataSource:function(){var offset=this.offset;this.offset=null,this.range(offset)},_goToRange:function(offset,expanding){this.offset===offset&&(this.dataOffset=offset,this._expanding=expanding,this.dataSource.range(offset,this.pageSize))},_change:function(){var dataSource=this.dataSource,firstItemUid=dataSource.firstItemUid();this.length=dataSource.lastRange().end,this._firstItemUid!==firstItemUid&&(this._syncWithDataSource(),this._recalculate(),this.trigger("reset",{offset:this.offset})),this.trigger("resize"),this._expanding&&this.trigger("expand"),delete this._expanding},_syncWithDataSource:function(){var dataSource=this.dataSource;this._firstItemUid=dataSource.firstItemUid(),this.dataOffset=this.offset=dataSource.skip(),this.pageSize=dataSource.pageSize()},_recalculate:function(){var pageSize=this.pageSize,offset=this.offset,viewSize=this.viewSize,skip=Math.ceil(offset/pageSize)*pageSize;this.skip=skip,this.midPageThreshold=skip+pageSize-1,this.nextPageThreshold=skip+viewSize-1,this.prefetchThreshold=skip+Math.floor(pageSize/3*2),this.pullBackThreshold=this.offset-1,this.nextMidRange=skip+pageSize-viewSize,this.nextFullRange=skip,this.previousMidRange=offset-viewSize,this.previousFullRange=skip-pageSize}}),BatchBuffer=kendo.Observable.extend({init:function(dataSource,batchSize){var batchBuffer=this;kendo.Observable.fn.init.call(batchBuffer),this.dataSource=dataSource,this.batchSize=batchSize,this._total=0,this.buffer=new Buffer(dataSource,3*batchSize),this.buffer.bind({endreached:function(e){batchBuffer.trigger("endreached",{index:e.index})},prefetching:function(e){batchBuffer.trigger("prefetching",{skip:e.skip,take:e.take})},prefetched:function(e){batchBuffer.trigger("prefetched",{skip:e.skip,take:e.take})},reset:function(){batchBuffer._total=0,batchBuffer.trigger("reset")},resize:function(){batchBuffer._total=this.length/batchBuffer.batchSize,batchBuffer.trigger("resize",{total:batchBuffer.total(),offset:this.offset})}})},syncDataSource:function(){this.buffer.syncDataSource()},at:function(index){var item,buffer=this.buffer,skip=index*this.batchSize,take=this.batchSize,view=[];buffer.offset>skip&&buffer.at(buffer.offset-1);for(var i=0;take>i;i++){if(item=buffer.at(skip+i),item===undefined)return;view.push(item)}return view},total:function(){return this._total}});extend(!0,kendo.data,{readers:{json:DataReader},Query:Query,DataSource:DataSource,HierarchicalDataSource:HierarchicalDataSource,Node:Node,ObservableObject:ObservableObject,ObservableArray:ObservableArray,LocalTransport:LocalTransport,RemoteTransport:RemoteTransport,Cache:Cache,DataReader:DataReader,Model:Model,Buffer:Buffer,BatchBuffer:BatchBuffer})}(window.kendo.jQuery);
kendo_module({id:"pager",name:"Pager",category:"framework",depends:["data"],advanced:!0}),function($,undefined){function button(template,idx,text,numeric){return template({idx:idx,text:text,ns:kendo.ns,numeric:numeric})}function icon(className,text){return iconTemplate({className:className.substring(1),text:text})}function update(element,selector,page,disabled){element.find(selector).parent().attr(kendo.attr("page"),page).attr("tabindex",-1).toggleClass("k-state-disabled",disabled)}function first(element,page){update(element,FIRST,1,1>=page)}function prev(element,page){update(element,PREV,Math.max(1,page-1),1>=page)}function next(element,page,totalPages){update(element,NEXT,Math.min(totalPages,page+1),page>=totalPages)}function last(element,page,totalPages){update(element,LAST,totalPages,page>=totalPages)}var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,proxy=$.proxy,FIRST=".k-i-seek-w",LAST=".k-i-seek-e",PREV=".k-i-arrow-w",NEXT=".k-i-arrow-e",CHANGE="change",NS=".kendoPager",CLICK="click",KEYDOWN="keydown",DISABLED="disabled",iconTemplate=kendo.template('<a href="\\#" title="#=text#" class="k-link"><span class="k-icon #= className #">#=text#</span></a>'),Pager=Widget.extend({init:function(element,options){var page,totalPages,that=this;Widget.fn.init.call(that,element,options),options=that.options,that.dataSource=kendo.data.DataSource.create(options.dataSource),that.linkTemplate=kendo.template(that.options.linkTemplate),that.selectTemplate=kendo.template(that.options.selectTemplate),page=that.page(),totalPages=that.totalPages(),that._refreshHandler=proxy(that.refresh,that),that.dataSource.bind(CHANGE,that._refreshHandler),options.previousNext&&(that.element.find(FIRST).length||(that.element.append(icon(FIRST,options.messages.first)),first(that.element,page,totalPages)),that.element.find(PREV).length||(that.element.append(icon(PREV,options.messages.previous)),prev(that.element,page,totalPages))),options.numeric&&(that.list=that.element.find(".k-pager-numbers"),that.list.length||(that.list=$('<ul class="k-pager-numbers k-reset" />').appendTo(that.element))),options.input&&(that.element.find(".k-pager-input").length||that.element.append('<span class="k-pager-input k-label">'+options.messages.page+'<input class="k-textbox">'+kendo.format(options.messages.of,totalPages)+"</span>"),that.element.on(KEYDOWN+NS,".k-pager-input input",proxy(that._keydown,that))),options.previousNext&&(that.element.find(NEXT).length||(that.element.append(icon(NEXT,options.messages.next)),next(that.element,page,totalPages)),that.element.find(LAST).length||(that.element.append(icon(LAST,options.messages.last)),last(that.element,page,totalPages))),options.pageSizes&&(that.element.find(".k-pager-sizes").length||$('<span class="k-pager-sizes k-label"><select/>'+options.messages.itemsPerPage+"</span>").appendTo(that.element).find("select").html($.map($.isArray(options.pageSizes)?options.pageSizes:[5,10,20],function(page){return"<option>"+page+"</option>"}).join("")).end().appendTo(that.element),that.element.find(".k-pager-sizes select").val(that.pageSize()),kendo.ui.DropDownList&&that.element.find(".k-pager-sizes select").show().kendoDropDownList(),that.element.on(CHANGE+NS,".k-pager-sizes select",proxy(that._change,that))),options.refresh&&(that.element.find(".k-pager-refresh").length||that.element.append('<a href="#" class="k-pager-refresh k-link"  title="'+options.messages.refresh+'"><span class="k-icon k-i-refresh">'+options.messages.refresh+"</span></a>"),that.element.on(CLICK+NS,".k-pager-refresh",proxy(that._refreshClick,that))),options.info&&(that.element.find(".k-pager-info").length||that.element.append('<span class="k-pager-info k-label" />')),that.element.on(CLICK+NS,"a",proxy(that._click,that)).addClass("k-pager-wrap k-widget"),options.autoBind&&that.refresh(),kendo.notify(that)},destroy:function(){var that=this;Widget.fn.destroy.call(that),that.element.off(NS),that.dataSource.unbind(CHANGE,that._refreshHandler)},events:[CHANGE],options:{name:"Pager",selectTemplate:'<li><span class="k-state-selected">#=text#</span></li>',linkTemplate:'<li><a tabindex="-1" href="\\#" class="k-link" data-#=ns#page="#=idx#">#=text#</a></li>',buttonCount:10,autoBind:!0,numeric:!0,info:!0,input:!1,previousNext:!0,pageSizes:!1,refresh:!1,messages:{display:"{0} - {1} of {2} items",empty:"No items to display",page:"Page",of:"of {0}",itemsPerPage:"items per page",first:"Go to the first page",previous:"Go to the previous page",next:"Go to the next page",last:"Go to the last page",refresh:"Refresh"}},setDataSource:function(dataSource){var that=this;that.dataSource.unbind(CHANGE,that._refreshHandler),that.dataSource=that.options.dataSource=dataSource,dataSource.bind(CHANGE,that._refreshHandler),that.options.autoBind&&dataSource.fetch()},refresh:function(e){var idx,end,reminder,that=this,start=1,html="",page=that.page(),options=that.options,pageSize=that.pageSize(),total=that.dataSource.total(),totalPages=that.totalPages(),linkTemplate=that.linkTemplate,buttonCount=options.buttonCount;if(!e||"itemchange"!=e.action){if(options.numeric){for(page>buttonCount&&(reminder=page%buttonCount,start=0===reminder?page-buttonCount+1:page-reminder+1),end=Math.min(start+buttonCount-1,totalPages),start>1&&(html+=button(linkTemplate,start-1,"...",!1)),idx=start;end>=idx;idx++)html+=button(idx==page?that.selectTemplate:linkTemplate,idx,idx,!0);totalPages>end&&(html+=button(linkTemplate,idx,"...",!1)),""===html&&(html=that.selectTemplate({text:0})),that.list.html(html)}options.info&&(html=total>0?kendo.format(options.messages.display,(page-1)*pageSize+1,Math.min(page*pageSize,total),total):options.messages.empty,that.element.find(".k-pager-info").html(html)),options.input&&that.element.find(".k-pager-input").html(that.options.messages.page+'<input class="k-textbox">'+kendo.format(options.messages.of,totalPages)).find("input").val(page).attr(DISABLED,1>total).toggleClass("k-state-disabled",1>total),options.previousNext&&(first(that.element,page,totalPages),prev(that.element,page,totalPages),next(that.element,page,totalPages),last(that.element,page,totalPages)),options.pageSizes&&that.element.find(".k-pager-sizes select").val(pageSize).filter("["+kendo.attr("role")+"=dropdownlist]").kendoDropDownList("value",pageSize).kendoDropDownList("text",pageSize)}},_keydown:function(e){if(e.keyCode===kendo.keys.ENTER){var input=this.element.find(".k-pager-input").find("input"),page=parseInt(input.val(),10);(isNaN(page)||1>page||page>this.totalPages())&&(page=this.page()),input.val(page),this.page(page)}},_refreshClick:function(e){e.preventDefault(),this.dataSource.read()},_change:function(e){var pageSize=parseInt(e.currentTarget.value,10);isNaN(pageSize)||this.dataSource.pageSize(pageSize)},_click:function(e){var target=$(e.currentTarget);e.preventDefault(),target.is(".k-state-disabled")||this.page(target.attr(kendo.attr("page")))},totalPages:function(){return Math.ceil((this.dataSource.total()||0)/this.pageSize())},pageSize:function(){return this.dataSource.pageSize()||this.dataSource.total()},page:function(page){return page===undefined?this.dataSource.total()>0?this.dataSource.page():0:(this.dataSource.page(page),void this.trigger(CHANGE,{index:page}))}});ui.plugin(Pager)}(window.kendo.jQuery);
kendo_module({id:"sortable",name:"Sortable",category:"framework",depends:["data"],advanced:!0}),function($,undefined){var kendo=window.kendo,proxy=$.proxy,DIR="dir",ASC="asc",SINGLE="single",FIELD="field",DESC="desc",NS=".kendoSortable",TLINK=".k-link",ARIASORT="aria-sort",Widget=kendo.ui.Widget,Sortable=Widget.extend({init:function(element,options){var link,that=this;Widget.fn.init.call(that,element,options),that._refreshHandler=proxy(that.refresh,that),that.dataSource=that.options.dataSource.bind("change",that._refreshHandler),link=that.element.find(TLINK),link[0]||(link=that.element.wrapInner('<a class="k-link" href="#"/>').find(TLINK)),that.link=link,that.element.on("click"+NS,proxy(that._click,that))},options:{name:"Sortable",mode:SINGLE,allowUnsort:!0,compare:null},destroy:function(){var that=this;Widget.fn.destroy.call(that),that.element.off(NS),that.dataSource.unbind("change",that._refreshHandler)},refresh:function(){var idx,length,descriptor,dir,that=this,sort=that.dataSource.sort()||[],element=that.element,field=element.attr(kendo.attr(FIELD));for(element.removeAttr(kendo.attr(DIR)),element.removeAttr(ARIASORT),idx=0,length=sort.length;length>idx;idx++)descriptor=sort[idx],field==descriptor.field&&element.attr(kendo.attr(DIR),descriptor.dir);dir=element.attr(kendo.attr(DIR)),element.find(".k-i-arrow-n,.k-i-arrow-s").remove(),dir===ASC?($('<span class="k-icon k-i-arrow-n" />').appendTo(that.link),element.attr(ARIASORT,"ascending")):dir===DESC&&($('<span class="k-icon k-i-arrow-s" />').appendTo(that.link),element.attr(ARIASORT,"descending"))},_click:function(e){var idx,length,that=this,element=that.element,field=element.attr(kendo.attr(FIELD)),dir=element.attr(kendo.attr(DIR)),options=that.options,compare=that.options.compare,sort=that.dataSource.sort()||[];if(dir=dir===ASC?DESC:dir===DESC&&options.allowUnsort?undefined:ASC,options.mode===SINGLE)sort=[{field:field,dir:dir,compare:compare}];else if("multiple"===options.mode){for(idx=0,length=sort.length;length>idx;idx++)if(sort[idx].field===field){sort.splice(idx,1);break}sort.push({field:field,dir:dir,compare:compare})}e.preventDefault(),that.dataSource.sort(sort)}});kendo.ui.plugin(Sortable)}(window.kendo.jQuery);
kendo_module({id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:!0}),function($,undefined){function touchDelta(touch1,touch2){var x1=touch1.x.location,y1=touch1.y.location,x2=touch2.x.location,y2=touch2.y.location,dx=x1-x2,dy=y1-y2;return{center:{x:(x1+x2)/2,y:(y1+y2)/2},distance:Math.sqrt(dx*dx+dy*dy)}}function getTouches(e){var length,changedTouches,touch,touches=[],originalEvent=e.originalEvent,currentTarget=e.currentTarget,idx=0;if(e.api)touches.push({id:2,event:e,target:e.target,currentTarget:e.target,location:e});else if(e.type.match(/touch/))for(changedTouches=originalEvent?originalEvent.changedTouches:[],length=changedTouches.length;length>idx;idx++)touch=changedTouches[idx],touches.push({location:touch,event:e,target:touch.target,currentTarget:currentTarget,id:touch.identifier});else touches.push(support.pointers||support.msPointers?{location:originalEvent,event:e,target:e.target,currentTarget:currentTarget,id:originalEvent.pointerId}:{id:1,event:e,target:e.target,currentTarget:currentTarget,location:e});return touches}function preventTrigger(e){e.preventDefault();var target=$(e.data.root),parent=target.closest(".k-widget").parent();parent[0]||(parent=target.parent());var fakeEventData=$.extend(!0,{},e,{target:target[0]});parent.trigger($.Event(e.type,fakeEventData))}function withEachUpEvent(callback){for(var downEvents=kendo.eventMap.up.split(" "),idx=0,length=downEvents.length;length>idx;idx++)callback(downEvents[idx])}var kendo=window.kendo,support=kendo.support,document=window.document,Class=kendo.Class,Observable=kendo.Observable,now=$.now,extend=$.extend,OS=support.mobileOS,invalidZeroEvents=OS&&OS.android,DEFAULT_THRESHOLD=support.browser.ie?5:0,PRESS="press",SELECT="select",START="start",MOVE="move",END="end",CANCEL="cancel",TAP="tap",RELEASE="release",GESTURESTART="gesturestart",GESTURECHANGE="gesturechange",GESTUREEND="gestureend",GESTURETAP="gesturetap",TouchAxis=Class.extend({init:function(axis,location){var that=this;that.axis=axis,that._updateLocationData(location),that.startLocation=that.location,that.velocity=that.delta=0,that.timeStamp=now()},move:function(location){var that=this,offset=location["page"+that.axis],timeStamp=now(),timeDelta=timeStamp-that.timeStamp||1;(offset||!invalidZeroEvents)&&(that.delta=offset-that.location,that._updateLocationData(location),that.initialDelta=offset-that.startLocation,that.velocity=that.delta/timeDelta,that.timeStamp=timeStamp)},_updateLocationData:function(location){var that=this,axis=that.axis;that.location=location["page"+axis],that.client=location["client"+axis],that.screen=location["screen"+axis]}}),Touch=Class.extend({init:function(userEvents,target,touchInfo){var that=this;extend(that,{x:new TouchAxis("X",touchInfo.location),y:new TouchAxis("Y",touchInfo.location),userEvents:userEvents,target:target,currentTarget:touchInfo.currentTarget,initialTouch:touchInfo.target,id:touchInfo.id,_moved:!1,_finished:!1}),that.notifyInit=function(){that._trigger(PRESS,touchInfo)}},move:function(touchInfo){var that=this;if(!that._finished){if(that.x.move(touchInfo.location),that.y.move(touchInfo.location),!that._moved){if(that._withinIgnoreThreshold())return;if(UserEvents.current&&UserEvents.current!==that.userEvents)return that.dispose();that._start(touchInfo)}that._finished||that._trigger(MOVE,touchInfo)}},end:function(touchInfo){var that=this;that.endTime=now(),that._finished||(that._moved?that._trigger(END,touchInfo):that._trigger(TAP,touchInfo),that._trigger(RELEASE,touchInfo),that.dispose())},dispose:function(){var that=this,userEvents=that.userEvents,activeTouches=userEvents.touches;that._finished=!0,activeTouches.splice($.inArray(that,activeTouches),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(touchInfo){this.startTime=now(),this._moved=!0,this._trigger(START,touchInfo)},_trigger:function(name,touchInfo){var that=this,jQueryEvent=touchInfo.event,data={touch:that,x:that.x,y:that.y,target:that.target,event:jQueryEvent};that.userEvents.notify(name,data)&&jQueryEvent.preventDefault()},_withinIgnoreThreshold:function(){var xDelta=this.x.initialDelta,yDelta=this.y.initialDelta;return Math.sqrt(xDelta*xDelta+yDelta*yDelta)<=this.userEvents.threshold}}),UserEvents=Observable.extend({init:function(element,options){var filter,that=this,ns=kendo.guid();if(options=options||{},filter=that.filter=options.filter,that.threshold=options.threshold||DEFAULT_THRESHOLD,that.touches=[],that._maxTouches=options.multiTouch?2:1,that.allowSelection=options.allowSelection,that.captureUpIfMoved=options.captureUpIfMoved,that.eventNS=ns,element=$(element).handler(that),Observable.fn.init.call(that),extend(that,{element:element,surface:$(options.global?document.documentElement:options.surface||element),stopPropagation:options.stopPropagation,pressed:!1}),that.surface.handler(that).on(kendo.applyEventMap("move",ns),"_move").on(kendo.applyEventMap("up cancel",ns),"_end"),element.on(kendo.applyEventMap("down",ns),filter,"_start"),(support.pointers||support.msPointers)&&element.css("-ms-touch-action","pinch-zoom double-tap-zoom"),options.preventDragEvent&&element.on(kendo.applyEventMap("dragstart",ns),kendo.preventDefault),element.on(kendo.applyEventMap("mousedown selectstart",ns),filter,{root:element},"_select"),that.captureUpIfMoved&&support.eventCapture){var surfaceElement=that.surface[0],preventIfMovingProxy=$.proxy(that.preventIfMoving,that);withEachUpEvent(function(eventName){surfaceElement.addEventListener(eventName,preventIfMovingProxy,!0)})}that.bind([PRESS,TAP,START,MOVE,END,RELEASE,CANCEL,GESTURESTART,GESTURECHANGE,GESTUREEND,GESTURETAP,SELECT],options)},preventIfMoving:function(e){this._isMoved()&&e.preventDefault()},destroy:function(){var that=this;if(!that._destroyed){if(that._destroyed=!0,that.captureUpIfMoved&&support.eventCapture){var surfaceElement=that.surface[0];withEachUpEvent(function(eventName){surfaceElement.removeEventListener(eventName,that.preventIfMoving)})}that.element.kendoDestroy(that.eventNS),that.surface.kendoDestroy(that.eventNS),that.element.removeData("handler"),that.surface.removeData("handler"),that._disposeAll(),that.unbind(),delete that.surface,delete that.element}},capture:function(){UserEvents.current=this},cancel:function(){this._disposeAll(),this.trigger(CANCEL)},notify:function(eventName,data){var that=this,touches=that.touches;if(this._isMultiTouch()){switch(eventName){case MOVE:eventName=GESTURECHANGE;break;case END:eventName=GESTUREEND;break;case TAP:eventName=GESTURETAP}extend(data,{touches:touches},touchDelta(touches[0],touches[1]))}return this.trigger(eventName,data)},press:function(x,y,target){this._apiCall("_start",x,y,target)},move:function(x,y){this._apiCall("_move",x,y)},end:function(x,y){this._apiCall("_end",x,y)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){$.each(this.touches,function(){this.dispose()})},_isMoved:function(){return $.grep(this.touches,function(touch){return touch.isMoved()}).length},_select:function(e){(!this.allowSelection||this.trigger(SELECT,{event:e}))&&preventTrigger(e)},_start:function(e){var target,touch,that=this,idx=0,filter=that.filter,touches=getTouches(e),length=touches.length;if(!that._maxTouchesReached())for(UserEvents.current=null,that.currentTarget=e.currentTarget,that.stopPropagation&&e.stopPropagation();length>idx&&!that._maxTouchesReached();idx++)touch=touches[idx],target=filter?$(touch.currentTarget):that.element,target.length&&(touch=new Touch(that,target,touch),that.touches.push(touch),touch.notifyInit(),that._isMultiTouch()&&that.notify("gesturestart",{}))},_move:function(e){this._eachTouch("move",e)},_end:function(e){this._eachTouch("end",e)},_eachTouch:function(methodName,e){var idx,touch,touchInfo,matchingTouch,that=this,dict={},touches=getTouches(e),activeTouches=that.touches;for(idx=0;idx<activeTouches.length;idx++)touch=activeTouches[idx],dict[touch.id]=touch;for(idx=0;idx<touches.length;idx++)touchInfo=touches[idx],matchingTouch=dict[touchInfo.id],matchingTouch&&matchingTouch[methodName](touchInfo)},_apiCall:function(type,x,y,target){this[type]({api:!0,pageX:x,pageY:y,target:target||this.element,stopPropagation:$.noop,preventDefault:$.noop})}});kendo.getTouches=getTouches,kendo.touchDelta=touchDelta,kendo.UserEvents=UserEvents}(window.kendo.jQuery);
kendo_module({id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]}),function($,undefined){function contains(parent,child){try{return $.contains(parent,child)||parent==child}catch(e){return!1}}function elementUnderCursor(e){return mobileChrome?document.elementFromPoint(e.x.screen,e.y.screen):document.elementFromPoint(e.x.client,e.y.client)}function numericCssPropery(element,property){return parseInt(element.css(property),10)||0}function within(value,range){return Math.min(Math.max(value,range.min),range.max)}function containerBoundaries(container,element){var offset=getOffset(container),minX=offset.left+numericCssPropery(container,"borderLeftWidth")+numericCssPropery(container,"paddingLeft"),minY=offset.top+numericCssPropery(container,"borderTopWidth")+numericCssPropery(container,"paddingTop"),maxX=minX+container.width()-element.outerWidth(!0),maxY=minY+container.height()-element.outerHeight(!0);return{x:{min:minX,max:maxX},y:{min:minY,max:maxY}}}function checkTarget(target,targets,areas){for(var theTarget,theFilter,i=0,targetLen=targets&&targets.length,areaLen=areas&&areas.length;target&&target.parentNode;){for(i=0;targetLen>i;i++)if(theTarget=targets[i],theTarget.element[0]===target)return{target:theTarget,targetElement:target};for(i=0;areaLen>i;i++)if(theFilter=areas[i],support.matchesSelector.call(target,theFilter.options.filter))return{target:theFilter,targetElement:target};target=target.parentNode}return undefined}var lastDropTarget,translate,kendo=window.kendo,support=kendo.support,document=window.document,Class=kendo.Class,Widget=kendo.ui.Widget,Observable=kendo.Observable,UserEvents=kendo.UserEvents,proxy=$.proxy,extend=$.extend,getOffset=kendo.getOffset,draggables={},dropTargets={},dropAreas={},OS=support.mobileOS,invalidZeroEvents=OS&&OS.android,mobileChrome=invalidZeroEvents&&"chrome"==OS.browser,KEYUP="keyup",CHANGE="change",DRAGSTART="dragstart",DRAG="drag",DRAGEND="dragend",DRAGCANCEL="dragcancel",DRAGENTER="dragenter",DRAGLEAVE="dragleave",DROP="drop",TapCapture=Observable.extend({init:function(element,options){var that=this,domElement=element[0];that.capture=!1,$.each(kendo.eventMap.down.split(" "),function(){domElement.addEventListener(this,proxy(that._press,that),!0)}),$.each(kendo.eventMap.up.split(" "),function(){domElement.addEventListener(this,proxy(that._release,that),!0)}),Observable.fn.init.call(that),that.bind(["press","release"],options||{})},captureNext:function(){this.capture=!0},cancelCapture:function(){this.capture=!1},_press:function(e){var that=this;that.trigger("press"),that.capture&&e.preventDefault()},_release:function(e){var that=this;that.trigger("release"),that.capture&&(e.preventDefault(),that.cancelCapture())}}),PaneDimension=Observable.extend({init:function(options){var that=this;Observable.fn.init.call(that),that.forcedEnabled=!1,$.extend(that,options),that.scale=1,that.horizontal?(that.measure="offsetWidth",that.scrollSize="scrollWidth",that.axis="x"):(that.measure="offsetHeight",that.scrollSize="scrollHeight",that.axis="y")},makeVirtual:function(){$.extend(this,{virtual:!0,forcedEnabled:!0,_virtualMin:1e3,_virtualMax:-1e3})},virtualSize:function(min,max){(this._virtualMin!==min||this._virtualMax!==max)&&(this._virtualMin=min,this._virtualMax=max,this.update())},outOfBounds:function(offset){return offset>this.max||offset<this.min},forceEnabled:function(){this.forcedEnabled=!0},getSize:function(){return this.container[0][this.measure]},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(scale){this.scale=scale},update:function(silent){var that=this,total=that.virtual?that._virtualMax:that.getTotal(),scaledTotal=total*that.scale,size=that.getSize();that.max=that.virtual?-that._virtualMin:0,that.size=size,that.total=scaledTotal,that.min=Math.min(that.max,size-scaledTotal),that.minScale=size/total,that.centerOffset=(scaledTotal-size)/2,that.enabled=that.forcedEnabled||scaledTotal>size,silent||that.trigger(CHANGE,that)}}),PaneDimensions=Observable.extend({init:function(options){var that=this,refresh=proxy(that.refresh,that);Observable.fn.init.call(that),that.x=new PaneDimension(extend({horizontal:!0},options)),that.y=new PaneDimension(extend({horizontal:!1},options)),that.forcedMinScale=options.minScale,that.bind(CHANGE,options),kendo.onResize(refresh)},rescale:function(newScale){this.x.rescale(newScale),this.y.rescale(newScale),this.refresh()},centerCoordinates:function(){return{x:Math.min(0,-this.x.centerOffset),y:Math.min(0,-this.y.centerOffset)}},refresh:function(){var that=this;that.x.update(),that.y.update(),that.enabled=that.x.enabled||that.y.enabled,that.minScale=that.forcedMinScale||Math.min(that.x.minScale,that.y.minScale),that.fitScale=Math.max(that.x.minScale,that.y.minScale),that.trigger(CHANGE)}}),PaneAxis=Observable.extend({init:function(options){var that=this;extend(that,options),Observable.fn.init.call(that)},dragMove:function(delta){var that=this,dimension=that.dimension,axis=that.axis,movable=that.movable,position=movable[axis]+delta;dimension.enabled&&((position<dimension.min&&0>delta||position>dimension.max&&delta>0)&&(delta*=that.resistance),movable.translateAxis(axis,delta),that.trigger(CHANGE,that))}}),Pane=Class.extend({init:function(options){var x,y,resistance,movable,that=this;extend(that,{elastic:!0},options),resistance=that.elastic?.5:0,movable=that.movable,that.x=x=new PaneAxis({axis:"x",dimension:that.dimensions.x,resistance:resistance,movable:movable}),that.y=y=new PaneAxis({axis:"y",dimension:that.dimensions.y,resistance:resistance,movable:movable}),that.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(e){that.gesture=e},gesturechange:function(e){var coordinates,previousGesture=that.gesture,previousCenter=previousGesture.center,center=e.center,scaleDelta=e.distance/previousGesture.distance,minScale=that.dimensions.minScale;movable.scale<=minScale&&1>scaleDelta&&(scaleDelta+=.8*(1-scaleDelta)),coordinates={x:(movable.x-previousCenter.x)*scaleDelta+center.x-movable.x,y:(movable.y-previousCenter.y)*scaleDelta+center.y-movable.y},movable.scaleWith(scaleDelta),x.dragMove(coordinates.x),y.dragMove(coordinates.y),that.dimensions.rescale(movable.scale),that.gesture=e,e.preventDefault()},move:function(e){e.event.target.tagName.match(/textarea|input/i)||(x.dimension.enabled||y.dimension.enabled?(x.dragMove(e.x.delta),y.dragMove(e.y.delta),e.preventDefault()):e.touch.skip())},end:function(e){e.preventDefault()}})}}),TRANSFORM_STYLE=support.transitions.prefix+"Transform";translate=support.hasHW3D?function(x,y,scale){return"translate3d("+x+"px,"+y+"px,0) scale("+scale+")"}:function(x,y,scale){return"translate("+x+"px,"+y+"px) scale("+scale+")"};var Movable=Observable.extend({init:function(element){var that=this;Observable.fn.init.call(that),that.element=$(element),that.element[0].style.webkitTransformOrigin="left top",that.x=0,that.y=0,that.scale=1,that._saveCoordinates(translate(that.x,that.y,that.scale))},translateAxis:function(axis,by){this[axis]+=by,this.refresh()},scaleTo:function(scale){this.scale=scale,this.refresh()},scaleWith:function(scaleDelta){this.scale*=scaleDelta,this.refresh()},translate:function(coordinates){this.x+=coordinates.x,this.y+=coordinates.y,this.refresh()},moveAxis:function(axis,value){this[axis]=value,this.refresh()},moveTo:function(coordinates){extend(this,coordinates),this.refresh()},refresh:function(){var that=this,newCoordinates=translate(that.x,that.y,that.scale);newCoordinates!=that.coordinates&&(that.element[0].style[TRANSFORM_STYLE]=newCoordinates,that._saveCoordinates(newCoordinates),that.trigger(CHANGE))},_saveCoordinates:function(coordinates){this.coordinates=coordinates}}),DropTarget=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(that,element,options);var group=that.options.group;group in dropTargets?dropTargets[group].push(that):dropTargets[group]=[that]},events:[DRAGENTER,DRAGLEAVE,DROP],options:{name:"DropTarget",group:"default"},destroy:function(){var i,groupName=this.options.group,group=dropTargets[groupName]||dropAreas[groupName];if(group.length>1){for(Widget.fn.destroy.call(this),i=0;i<group.length;i++)if(group[i]==this){group.splice(i,1);break}}else DropTarget.destroyGroup(groupName)},_trigger:function(eventName,e){var that=this,draggable=draggables[that.options.group];return draggable?that.trigger(eventName,extend({},e.event,{draggable:draggable,dropTarget:e.dropTarget})):void 0},_over:function(e){this._trigger(DRAGENTER,e)},_out:function(e){this._trigger(DRAGLEAVE,e)},_drop:function(e){var that=this,draggable=draggables[that.options.group];draggable&&(draggable.dropped=!that._trigger(DROP,e))}});DropTarget.destroyGroup=function(groupName){var i,group=dropTargets[groupName]||dropAreas[groupName];if(group){for(i=0;i<group.length;i++)Widget.fn.destroy.call(group[i]);group.length=0,delete dropTargets[groupName],delete dropAreas[groupName]}},DropTarget._cache=dropTargets;var DropTargetArea=DropTarget.extend({init:function(element,options){var that=this;Widget.fn.init.call(that,element,options);var group=that.options.group;group in dropAreas?dropAreas[group].push(that):dropAreas[group]=[that]},options:{name:"DropTargetArea",group:"default",filter:null}}),Draggable=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(that,element,options),that.userEvents=new UserEvents(that.element,{global:!0,stopPropagation:!0,filter:that.options.filter,threshold:that.options.distance,start:proxy(that._start,that),move:proxy(that._drag,that),end:proxy(that._end,that),cancel:proxy(that._cancel,that)}),that._afterEndHandler=proxy(that._afterEnd,that),that.captureEscape=function(e){e.keyCode===kendo.keys.ESC&&(that._trigger(DRAGCANCEL,{event:e}),that.userEvents.cancel())}},events:[DRAGSTART,DRAG,DRAGEND,DRAGCANCEL],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:!1},_updateHint:function(e){var coordinates,that=this,options=that.options,boundaries=that.boundaries,axis=options.axis,cursorOffset=that.options.cursorOffset;cursorOffset?coordinates={left:e.x.location+cursorOffset.left,top:e.y.location+cursorOffset.top}:(that.hintOffset.left+=e.x.delta,that.hintOffset.top+=e.y.delta,coordinates=$.extend({},that.hintOffset)),boundaries&&(coordinates.top=within(coordinates.top,boundaries.y),coordinates.left=within(coordinates.left,boundaries.x)),"x"===axis?delete coordinates.top:"y"===axis&&delete coordinates.left,that.hint.css(coordinates)},_start:function(e){var that=this,options=that.options,container=options.container,hint=options.hint;if(that.currentTarget=e.target,that.currentTargetOffset=getOffset(that.currentTarget),hint){that.hint&&that.hint.stop(!0,!0).remove(),that.hint=$.isFunction(hint)?$(hint.call(that,that.currentTarget)):hint;var offset=getOffset(that.currentTarget);that.hintOffset=offset,that.hint.css({position:"absolute",zIndex:2e4,left:offset.left,top:offset.top}).appendTo(document.body)}draggables[options.group]=that,that.dropped=!1,container&&(that.boundaries=containerBoundaries(container,that.hint)),that._trigger(DRAGSTART,e)&&(that.userEvents.cancel(),that._afterEnd()),$(document).on(KEYUP,that.captureEscape)},_drag:function(e){var that=this;e.preventDefault(),that._withDropTarget(e,function(target,targetElement){if(!target)return void(lastDropTarget&&(lastDropTarget._trigger(DRAGLEAVE,extend(e,{dropTarget:$(lastDropTarget.targetElement)})),lastDropTarget=null));if(lastDropTarget){if(targetElement===lastDropTarget.targetElement)return;lastDropTarget._trigger(DRAGLEAVE,extend(e,{dropTarget:$(lastDropTarget.targetElement)}))}target._trigger(DRAGENTER,extend(e,{dropTarget:$(targetElement)})),lastDropTarget=extend(target,{targetElement:targetElement})}),that._trigger(DRAG,e),that.hint&&that._updateHint(e)},_end:function(e){var that=this;that._withDropTarget(e,function(target,targetElement){target&&(target._drop(extend({},e,{dropTarget:$(targetElement)})),lastDropTarget=null)}),that._trigger(DRAGEND,e),that._cancel(e.event)},_cancel:function(){var that=this;that.hint&&!that.dropped?setTimeout(function(){that.hint.stop(!0,!0).animate(that.currentTargetOffset,"fast",that._afterEndHandler)},0):that._afterEnd()},_trigger:function(eventName,e){var that=this;return that.trigger(eventName,extend({},e.event,{x:e.x,y:e.y,currentTarget:that.currentTarget,dropTarget:e.dropTarget}))},_withDropTarget:function(e,callback){var target,result,that=this,options=that.options,targets=dropTargets[options.group],areas=dropAreas[options.group];(targets&&targets.length||areas&&areas.length)&&(target=elementUnderCursor(e),that.hint&&contains(that.hint[0],target)&&(that.hint.hide(),target=elementUnderCursor(e),target||(target=elementUnderCursor(e)),that.hint.show()),result=checkTarget(target,targets,areas),result?callback(result.target,result.targetElement):callback())},destroy:function(){var that=this;Widget.fn.destroy.call(that),that._afterEnd(),that.userEvents.destroy()},_afterEnd:function(){var that=this;that.hint&&that.hint.remove(),delete draggables[that.options.group],that.trigger("destroy"),$(document).off(KEYUP,that.captureEscape)}});kendo.ui.plugin(DropTarget),kendo.ui.plugin(DropTargetArea),kendo.ui.plugin(Draggable),kendo.TapCapture=TapCapture,kendo.containerBoundaries=containerBoundaries,extend(kendo.ui,{Pane:Pane,PaneDimensions:PaneDimensions,Movable:Movable})}(window.kendo.jQuery);
kendo_module({id:"reorderable",name:"Reorderable",category:"framework",depends:["core","draganddrop"],advanced:!0}),function($,undefined){function toggleHintClass(hint,denied){hint=$(hint),denied?hint.find(".k-drag-status").removeClass("k-add").addClass("k-denied"):hint.find(".k-drag-status").removeClass("k-denied").addClass("k-add")}var kendo=window.kendo,Widget=kendo.ui.Widget,CHANGE="change",KREORDERABLE="k-reorderable",Reorderable=Widget.extend({init:function(element,options){var draggable,that=this,group=kendo.guid()+"-reorderable";Widget.fn.init.call(that,element,options),element=that.element.addClass(KREORDERABLE),options=that.options,that.draggable=draggable=options.draggable||new kendo.ui.Draggable(element,{group:group,filter:options.filter,hint:options.hint}),that.reorderDropCue=$('<div class="k-reorder-cue"><div class="k-icon k-i-arrow-s"></div><div class="k-icon k-i-arrow-n"></div></div>'),element.find(draggable.options.filter).kendoDropTarget({group:draggable.options.group,dragenter:function(e){if(that._draggable){var offset,dropTarget=this.element,same=dropTarget[0]===that._draggable[0];toggleHintClass(e.draggable.hint,same),same||(offset=kendo.getOffset(dropTarget),that.reorderDropCue.css({height:dropTarget.outerHeight(),top:offset.top,left:offset.left+(dropTarget.index()>that._draggable.index()?dropTarget.outerWidth():0)}).appendTo(document.body))}},dragleave:function(e){toggleHintClass(e.draggable.hint,!0),that.reorderDropCue.remove()},drop:function(){if(that._draggable){var container,draggableElement=that._draggable[0],dropTarget=this.element[0];draggableElement!==dropTarget&&(container=element.find(draggable.options.filter),that.trigger(CHANGE,{element:that._draggable,oldIndex:container.index(draggableElement),newIndex:container.index(dropTarget)}))}}}),draggable.bind(["dragcancel","dragend","dragstart"],{dragcancel:function(){that.reorderDropCue.remove(),that._draggable=null},dragend:function(){that.reorderDropCue.remove(),that._draggable=null},dragstart:function(e){that._draggable=e.currentTarget}})},options:{name:"Reorderable",filter:"*"},events:[CHANGE],destroy:function(){var that=this;Widget.fn.destroy.call(that),that.draggable&&that.draggable.destroy(),kendo.destroy(that.element)}});kendo.ui.plugin(Reorderable)}(window.kendo.jQuery);
kendo_module({id:"selectable",name:"Selectable",category:"framework",depends:["core","userevents"],advanced:!0}),function($,undefined){function collision(element,position){var elementPosition=kendo.getOffset(element),right=position.left+position.width,bottom=position.top+position.height;return elementPosition.right=elementPosition.left+element.outerWidth(),elementPosition.bottom=elementPosition.top+element.outerHeight(),!(elementPosition.left>right||elementPosition.right<position.left||elementPosition.top>bottom||elementPosition.bottom<position.top)}function invalidateSelectables(items,target,position,ctrlKey){var idx,length,toSelect;for(idx=0,length=items.length;length>idx;idx++)toSelect=items.eq(idx),collision(toSelect,position)?toSelect.hasClass(SELECTED)?ctrlKey&&target!==toSelect[0]&&toSelect.removeClass(SELECTED).addClass(UNSELECTING):toSelect.hasClass(ACTIVE)||toSelect.hasClass(UNSELECTING)||toSelect.addClass(ACTIVE):toSelect.hasClass(ACTIVE)?toSelect.removeClass(ACTIVE):ctrlKey&&toSelect.hasClass(UNSELECTING)&&toSelect.removeClass(UNSELECTING).addClass(SELECTED)}var kendo=window.kendo,Widget=kendo.ui.Widget,proxy=$.proxy,abs=Math.abs,ARIASELECTED="aria-selected",SELECTED="k-state-selected",ACTIVE="k-state-selecting",SELECTABLE="k-selectable",CHANGE="change",NS=".kendoSelectable",UNSELECTING="k-state-unselecting",supportEventDelegation=!1;!function($){!function(){$('<div class="parent"><span /></div>').on("click",">*",function(){supportEventDelegation=!0}).find("span").click().end().off()}()}($);var Selectable=Widget.extend({init:function(element,options){var multiple,that=this;Widget.fn.init.call(that,element,options),that._marquee=$("<div class='k-marquee'><div class='k-marquee-color'></div></div>"),that._lastActive=null,that.element.addClass(SELECTABLE),multiple=that.options.multiple,that.userEvents=new kendo.UserEvents(that.element,{global:!0,allowSelection:!0,filter:(supportEventDelegation?"":"."+SELECTABLE+" ")+that.options.filter,tap:proxy(that._tap,that)}),multiple&&that.userEvents.bind("start",proxy(that._start,that)).bind("move",proxy(that._move,that)).bind("end",proxy(that._end,that)).bind("select",proxy(that._select,that))},events:[CHANGE],options:{name:"Selectable",filter:">*",multiple:!1},_tap:function(e){var selected,target=$(e.target),that=this,ctrlKey=e.event.ctrlKey||e.event.metaKey,multiple=that.options.multiple,shiftKey=multiple&&e.event.shiftKey,whichCode=e.event.which,buttonCode=e.event.button;target.closest("."+SELECTABLE)[0]!==that.element[0]||whichCode&&3==whichCode||buttonCode&&2==buttonCode||(selected=target.hasClass(SELECTED),multiple&&ctrlKey||that.clear(),shiftKey?that.selectRange(that._firstSelectee(),target):(selected&&ctrlKey?(that._unselect(target),that._notify(CHANGE)):that.value(target),that._lastActive=that._downTarget=target))},_start:function(e){var that=this,target=$(e.target),selected=target.hasClass(SELECTED),ctrlKey=e.event.ctrlKey||e.event.metaKey;return that._downTarget=target,target.closest("."+SELECTABLE)[0]!==that.element[0]?(that.userEvents.cancel(),void(that._downTarget=null)):(that._marquee.appendTo(document.body).css({left:e.x.client+1,top:e.y.client+1,width:0,height:0}),ctrlKey||that.clear(),void(selected&&(that._selectElement(target,!0),ctrlKey&&target.addClass(UNSELECTING))))},_move:function(e){var that=this,position={left:e.x.startLocation>e.x.location?e.x.location:e.x.startLocation,top:e.y.startLocation>e.y.location?e.y.location:e.y.startLocation,width:abs(e.x.initialDelta),height:abs(e.y.initialDelta)},items=that.element.find(that.options.filter);that._marquee.css(position),invalidateSelectables(items,that._downTarget[0],position,e.event.ctrlKey||e.event.metaKey),e.preventDefault()},_end:function(){var that=this;that._marquee.remove(),that._unselect(that.element.find(that.options.filter+"."+UNSELECTING)).removeClass(UNSELECTING),that.value(that.element.find(that.options.filter+"."+ACTIVE)),that._lastActive=that._downTarget},value:function(val){var that=this,selectElement=proxy(that._selectElement,that);return val?(val.each(function(){selectElement(this)}),void that._notify(CHANGE)):that.element.find(that.options.filter+"."+SELECTED)},_firstSelectee:function(){var selected,that=this;return null!==that._lastActive?that._lastActive:(selected=that.value(),selected.length>0?selected[0]:that.element.find(that.options.filter))},_selectElement:function(element,preventNotify){var toSelect=$(element),isPrevented=!preventNotify&&this._notify("select",{element:element});toSelect.removeClass(ACTIVE),isPrevented||(toSelect.addClass(SELECTED),this.options.aria&&toSelect.attr(ARIASELECTED,!0))},_notify:function(name,args){return args=args||{},this.trigger(name,args)},_unselect:function(element){return element.removeClass(SELECTED),this.options.aria&&element.attr(ARIASELECTED,!1),element},_select:function(e){$(e.event.target).is("input,a,textarea,.k-multiselect-wrap")?(this.userEvents.cancel(),this._downTarget=null):e.preventDefault()},clear:function(){var items=this.element.find(this.options.filter+"."+SELECTED);this._unselect(items)},selectRange:function(start,end){var idx,length,tmp,toSelect,that=this,found=!1,items=that.element.find(that.options.filter),selectElement=proxy(that._selectElement,that);for(start=$(start)[0],end=$(end)[0],idx=0,length=items.length;length>idx;idx++)toSelect=items[idx],found?(selectElement(toSelect),found=toSelect!==end):toSelect===start?(found=start!==end,selectElement(toSelect)):toSelect===end?(tmp=start,start=end,end=tmp,found=!0,selectElement(toSelect)):$(toSelect).removeClass(SELECTED);that._notify(CHANGE)},destroy:function(){var that=this;Widget.fn.destroy.call(that),that.element.off(NS),that.userEvents.destroy()}});kendo.ui.plugin(Selectable)}(window.kendo.jQuery);
kendo_module({id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:!0}),function($,undefined){var kendo=window.kendo,ui=kendo.ui,Widget=ui.Widget,proxy=$.proxy,isFunction=$.isFunction,extend=$.extend,HORIZONTAL="horizontal",VERTICAL="vertical",START="start",RESIZE="resize",RESIZEEND="resizeend",Resizable=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(that,element,options),that.orientation=that.options.orientation.toLowerCase()!=VERTICAL?HORIZONTAL:VERTICAL,that._positionMouse=that.orientation==HORIZONTAL?"x":"y",that._position=that.orientation==HORIZONTAL?"left":"top",that._sizingDom=that.orientation==HORIZONTAL?"outerWidth":"outerHeight",that.draggable=new ui.Draggable(element,{distance:0,filter:options.handle,drag:proxy(that._resize,that),dragcancel:proxy(that._cancel,that),dragstart:proxy(that._start,that),dragend:proxy(that._stop,that)}),that.userEvents=that.draggable.userEvents},events:[RESIZE,RESIZEEND,START],options:{name:"Resizable",orientation:HORIZONTAL},_max:function(e){var that=this,hintSize=that.hint?that.hint[that._sizingDom]():0,size=that.options.max;return isFunction(size)?size(e):size!==undefined?that._initialElementPosition+size-hintSize:size},_min:function(e){var that=this,size=that.options.min;return isFunction(size)?size(e):size!==undefined?that._initialElementPosition+size:size},_start:function(e){var that=this,hint=that.options.hint,el=$(e.currentTarget);that._initialElementPosition=el.position()[that._position],that._initialMousePosition=e[that._positionMouse].startLocation,hint&&(that.hint=isFunction(hint)?$(hint(el)):hint,that.hint.css({position:"absolute"}).css(that._position,that._initialElementPosition).appendTo(that.element)),that.trigger(START,e),that._maxPosition=that._max(e),that._minPosition=that._min(e),$(document.body).css("cursor",el.css("cursor"))},_resize:function(e){var position,that=this,maxPosition=($(e.currentTarget),that._maxPosition),minPosition=that._minPosition,currentPosition=that._initialElementPosition+(e[that._positionMouse].location-that._initialMousePosition);position=minPosition!==undefined?Math.max(minPosition,currentPosition):currentPosition,that.position=position=maxPosition!==undefined?Math.min(maxPosition,position):position,that.hint&&that.hint.toggleClass(that.options.invalidClass||"",position==maxPosition||position==minPosition).css(that._position,position),that.resizing=!0,that.trigger(RESIZE,extend(e,{position:position}))},_stop:function(e){var that=this;that.hint&&that.hint.remove(),that.resizing=!1,that.trigger(RESIZEEND,extend(e,{position:that.position})),$(document.body).css("cursor","")},_cancel:function(e){var that=this;that.hint&&(that.position=undefined,that.hint.css(that._position,that._initialElementPosition),that._stop(e))},destroy:function(){var that=this;Widget.fn.destroy.call(that),that.draggable&&that.draggable.destroy()},press:function(target){if(target){var position=target.position(),that=this;that.userEvents.press(position.left,position.top,target[0]),that.targetPosition=position,that.target=target}},move:function(delta){var that=this,orientation=that._position,position=that.targetPosition,current=that.position;current===undefined&&(current=position[orientation]),position[orientation]=current+delta,that.userEvents.move(position.left,position.top)},end:function(){this.userEvents.end(),this.target=this.position=undefined}});kendo.ui.plugin(Resizable)}(window.kendo.jQuery);
kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]}]}),function($,undefined){function groupCells(count){return new Array(count+1).join('<td class="k-group-cell">&nbsp;</td>')}function stringifyAttributes(attributes){var attr,result=" ";if(attributes){if(typeof attributes===STRING)return attributes;for(attr in attributes)result+=attr+'="'+attributes[attr]+'"'}return result}function heightAboveHeader(context){var top=0;return $("> .k-grouping-header, > .k-grid-toolbar",context).each(function(){top+=this.offsetHeight}),top}function cursor(context,value){$("th, th .k-grid-filter, th .k-link",context).add(document.body).css("cursor",value)}function buildEmptyAggregatesObject(aggregates){var idx,length,aggregate={},fieldsMap={};if(!isEmptyObject(aggregates))for(isArray(aggregates)||(aggregates=[aggregates]),idx=0,length=aggregates.length;length>idx;idx++)aggregate[aggregates[idx].aggregate]=0,fieldsMap[aggregates[idx].field]=aggregate;return fieldsMap}function reorder(selector,sourceIndex,destIndex){var source=selector.eq(sourceIndex),dest=selector.eq(destIndex);source[sourceIndex>destIndex?"insertBefore":"insertAfter"](dest)}function attachCustomCommandEvent(context,container,commands){var idx,length,command,commandName;for(commands=isArray(commands)?commands:[commands],idx=0,length=commands.length;length>idx;idx++)command=commands[idx],isPlainObject(command)&&command.click&&(commandName=command.name||command.text,container.on(CLICK+NS,"a.k-grid-"+(commandName||"").replace(/\s/g,""),{commandName:commandName},proxy(command.click,context)))}function visibleColumns(columns){return grep(columns,function(column){return!column.hidden})}function addHiddenStyle(attr){attr=attr||{};var style=attr.style;return style?(style=style.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none"),style===attr.style&&(style=style.replace(/(.*)?/i,"display:none;$1"))):style="display:none",extend({},attr,{style:style})}function removeHiddenStyle(attr){attr=attr||{};var style=attr.style;return style&&(attr.style=style.replace(/(display\s*:\s*none\s*;?)*/gi,"")),attr}function normalizeCols(table,visibleColumns,hasDetails,groups){var width,colgroup=table.find(">colgroup"),cols=map(visibleColumns,function(column){return width=column.width,width&&0!==parseInt(width,10)?kendo.format('<col style="width:{0}"/>',typeof width===STRING?width:width+"px"):"<col />"});(hasDetails||colgroup.find(".k-hierarchy-col").length)&&cols.splice(0,0,'<col class="k-hierarchy-col" />'),colgroup.length&&colgroup.remove(),colgroup=$(new Array(groups+1).join('<col class="k-group-col">')+cols.join("")),colgroup.is("colgroup")||(colgroup=$("<colgroup/>").append(colgroup)),table.prepend(colgroup),browser.msie&&8==browser.version&&(table.css("display","inline-table"),window.setTimeout(function(){table.css("display","")},1))}function convertToObject(array){var item,idx,length,result={};for(idx=0,length=array.length;length>idx;idx++)item=array[idx],result[item.value]=item.text;return result}function formatGroupValue(value,format,columnValues){var isForiegnKey=columnValues&&columnValues.length&&isPlainObject(columnValues[0])&&"value"in columnValues[0],groupValue=isForiegnKey?convertToObject(columnValues)[value]:value;return groupValue=null!=groupValue?groupValue:"",format?kendo.format(format,groupValue):groupValue}function setCellVisibility(cells,index,visible){for(var state,pad=0,cell=cells[pad];cell;){if(state=visible?!0:"none"!==cell.style.display,state&&!nonDataCellsRegExp.test(cell.className)&&--index<0){cell.style.display=visible?"":"none";break}cell=cells[++pad]}}function getCommand(commands,name){var idx,length,command;if(typeof commands===STRING&&commands===name)return commands;if(isPlainObject(commands)&&commands.name===name)return commands;if(isArray(commands))for(idx=0,length=commands.length;length>idx;idx++)if(command=commands[idx],typeof command===STRING&&command===name||command.name===name)return command;return null}function focusTable(table,direct){var msie=browser.msie;if(direct===!0){table=$(table);var scrollTop,scrollLeft,condition=msie&&table.parent().is(".k-grid-content,.k-grid-header-wrap");if(condition&&(scrollTop=table.parent().scrollTop(),scrollLeft=table.parent().scrollLeft()),msie)try{table[0].setActive()}catch(e){table[0].focus()}else table[0].focus();condition&&(table.parent().scrollTop(scrollTop),table.parent().scrollLeft(scrollLeft))}else $(table).one("focusin",function(e){e.preventDefault()}).focus()}function tableClick(e){var currentTarget=$(e.currentTarget),isHeader=currentTarget.is("th"),currentTable=currentTarget.closest("table")[0];kendo.support.touch||(currentTable===this.table[0]||currentTable===this.thead.parent()[0])&&(this.current(currentTarget),(isHeader||!$(e.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,span.k-link,.k-input,.k-multiselect-wrap"))&&setTimeout(function(){focusTable(currentTable,!0)}),isHeader&&e.preventDefault())}var kendo=window.kendo,ui=kendo.ui,DataSource=kendo.data.DataSource,Groupable=ui.Groupable,tbodySupportsInnerHtml=kendo.support.tbodyInnerHtml,activeElement=kendo._activeElement,Widget=ui.Widget,keys=kendo.keys,isPlainObject=$.isPlainObject,extend=$.extend,map=$.map,grep=$.grep,isArray=$.isArray,inArray=$.inArray,proxy=$.proxy,isFunction=$.isFunction,isEmptyObject=$.isEmptyObject,math=Math,PROGRESS="progress",ERROR="error",DATA_CELL=":not(.k-group-cell):not(.k-hierarchy-cell):visible",SELECTION_CELL_SELECTOR="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",NAVROW="tr:not(.k-footer-template):visible",NAVCELL=":not(.k-group-cell):not(.k-hierarchy-cell):visible",FIRSTNAVITEM=NAVROW+":first>"+NAVCELL+":first",HEADERCELLS="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",GROUPINGDRAGGABLES=HEADERCELLS+":visible["+kendo.attr("field")+"]",GROUPINGFILTER=HEADERCELLS+"["+kendo.attr("field")+"]",NS=".kendoGrid",EDIT="edit",SAVE="save",REMOVE="remove",DETAILINIT="detailInit",FILTERMENUINIT="filterMenuInit",COLUMNMENUINIT="columnMenuInit",CHANGE="change",COLUMNHIDE="columnHide",COLUMNSHOW="columnShow",SAVECHANGES="saveChanges",DATABOUND="dataBound",DETAILEXPAND="detailExpand",DETAILCOLLAPSE="detailCollapse",FOCUSED="k-state-focused",SELECTED="k-state-selected",COLUMNRESIZE="columnResize",COLUMNREORDER="columnReorder",CLICK="click",HEIGHT="height",TABINDEX="tabIndex",FUNCTION="function",STRING="string",DELETECONFIRM="Are you sure you want to delete this record?",formatRegExp=/(\}|\#)/gi,templateHashRegExp=/#/gi,whitespaceRegExp="[\\x20\\t\\r\\n\\f]",nonDataCellsRegExp=new RegExp("(^|"+whitespaceRegExp+")(k-group-cell|k-hierarchy-cell)("+whitespaceRegExp+"|$)"),COMMANDBUTTONTMPL='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',isRtl=!1,browser=kendo.support.browser,isIE7=browser.msie&&7==browser.version,VirtualScrollable=Widget.extend({init:function(element,options){var that=this;Widget.fn.init.call(that,element,options),that._refreshHandler=proxy(that.refresh,that),that.setDataSource(options.dataSource),that.wrap()},setDataSource:function(dataSource){var that=this;that.dataSource&&that.dataSource.unbind(CHANGE,that._refreshHandler),that.dataSource=dataSource,that.dataSource.bind(CHANGE,that._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:$.noop},destroy:function(){var that=this;Widget.fn.destroy.call(that),that.dataSource.unbind(CHANGE,that._refreshHandler),that.wrapper.add(that.verticalScrollbar).off(NS),that.drag&&that.drag.destroy()},wrap:function(){var wrapper,that=this,scrollbar=kendo.support.scrollbar()+1,element=that.element;element.css({width:"auto",overflow:"hidden"}).css(isRtl?"padding-left":"padding-right",scrollbar),that.content=element.children().first(),wrapper=that.wrapper=that.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+NS+" mousewheel"+NS,proxy(that._wheelScroll,that)),kendo.support.kineticScrollNeeded&&(that.drag=new kendo.UserEvents(that.wrapper,{global:!0,move:function(e){that.verticalScrollbar.scrollTop(that.verticalScrollbar.scrollTop()-e.y.delta),wrapper.scrollLeft(wrapper.scrollLeft()-e.x.delta),e.preventDefault()}})),that.verticalScrollbar=$('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:scrollbar}).appendTo(element).bind("scroll"+NS,proxy(that._scroll,that))},_wheelScroll:function(e){var delta,that=this,scrollTop=that.verticalScrollbar.scrollTop(),originalEvent=e.originalEvent,deltaY=originalEvent.wheelDeltaY;originalEvent.wheelDelta?(deltaY===undefined||deltaY)&&(delta=originalEvent.wheelDelta):originalEvent.detail&&originalEvent.axis===originalEvent.VERTICAL_AXIS&&(delta=10*-originalEvent.detail),delta&&(e.preventDefault(),that.verticalScrollbar.scrollTop(scrollTop+-delta))},_scroll:function(e){var that=this,scrollTop=e.currentTarget.scrollTop,dataSource=that.dataSource,rowHeight=that.itemHeight,skip=dataSource.skip()||0,start=that._rangeStart||skip,height=that.element.innerHeight(),isScrollingUp=!!(that._scrollbarTop&&that._scrollbarTop>scrollTop),firstItemIndex=math.max(math.floor(scrollTop/rowHeight),0),lastItemIndex=math.max(firstItemIndex+math.floor(height/rowHeight),0);that._scrollTop=scrollTop-start*rowHeight,that._scrollbarTop=scrollTop,that._fetch(firstItemIndex,lastItemIndex,isScrollingUp)||(that.wrapper[0].scrollTop=that._scrollTop)},_fetch:function(firstItemIndex,lastItemIndex,scrollingUp){var that=this,dataSource=that.dataSource,itemHeight=that.itemHeight,take=dataSource.take(),rangeStart=that._rangeStart||dataSource.skip()||0,currentSkip=math.floor(firstItemIndex/take)*take,fetching=!1,prefetchAt=.33;return rangeStart>firstItemIndex?(fetching=!0,rangeStart=math.max(0,lastItemIndex-take),that._scrollTop=(firstItemIndex-rangeStart)*itemHeight,that._page(rangeStart,take)):lastItemIndex>=rangeStart+take&&!scrollingUp?(fetching=!0,rangeStart=firstItemIndex,that._scrollTop=itemHeight,that._page(rangeStart,take)):that._fetching||(currentSkip+take-take*prefetchAt>firstItemIndex&&firstItemIndex>take&&dataSource.prefetch(currentSkip-take,take),lastItemIndex>currentSkip+take*prefetchAt&&dataSource.prefetch(currentSkip+take,take)),fetching},_page:function(skip,take){var that=this,dataSource=that.dataSource;clearTimeout(that._timeout),that._fetching=!0,that._rangeStart=skip,dataSource.inRange(skip,take)?dataSource.range(skip,take):(kendo.ui.progress(that.wrapper.parent(),!0),that._timeout=setTimeout(function(){dataSource.range(skip,take)},100))},refresh:function(){var totalHeight,idx,itemHeight,that=this,html="",maxHeight=25e4,dataSource=that.dataSource,rangeStart=that._rangeStart,scrollbar=kendo.support.kineticScrollNeeded?0:kendo.support.scrollbar(),wrapperElement=that.wrapper[0];kendo.ui.progress(that.wrapper.parent(),!1),clearTimeout(that._timeout),itemHeight=that.itemHeight=that.options.itemHeight()||0;var addScrollBarHeight=wrapperElement.scrollWidth>wrapperElement.offsetWidth?scrollbar:0;for(totalHeight=dataSource.total()*itemHeight+addScrollBarHeight,idx=0;idx<math.floor(totalHeight/maxHeight);idx++)html+='<div style="width:1px;height:'+maxHeight+'px"></div>';totalHeight%maxHeight&&(html+='<div style="width:1px;height:'+totalHeight%maxHeight+'px"></div>'),that.verticalScrollbar.html(html),wrapperElement.scrollTop=that._scrollTop,that.drag&&that.drag.cancel(),rangeStart&&!that._fetching&&(that._rangeStart=dataSource.skip()),that._fetching=!1}}),defaultCommands={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}},Grid=Widget.extend({init:function(element,options){var that=this;options=isArray(options)?{dataSource:options}:options,Widget.fn.init.call(that,element,options),isRtl=kendo.support.isRtl(element),that._element(),that._aria(),that._columns(that.options.columns),that._dataSource(),that._tbody(),that._pageable(),that._thead(),that._groupable(),that._toolbar(),that._setContentHeight(),that._templates(),that._navigatable(),that._selectable(),that._details(),that._editable(),that._attachCustomCommandsEvent(),that.options.autoBind?that.dataSource.fetch():that._footer(),kendo.notify(that)},events:[CHANGE,"dataBinding","cancel",DATABOUND,DETAILEXPAND,DETAILCOLLAPSE,DETAILINIT,FILTERMENUINIT,COLUMNMENUINIT,EDIT,SAVE,REMOVE,SAVECHANGES,COLUMNRESIZE,COLUMNREORDER,COLUMNSHOW,COLUMNHIDE],setDataSource:function(dataSource){var that=this;that.options.dataSource=dataSource,that._dataSource(),that._pageable(),that.options.groupable&&that._groupable(),that._thead(),that.virtualScrollable&&that.virtualScrollable.setDataSource(that.options.dataSource),that.options.autoBind&&dataSource.fetch()},options:{name:"Grid",columns:[],toolbar:null,autoBind:!0,filterable:!1,scrollable:!0,sortable:!1,selectable:!1,navigatable:!1,pageable:!1,editable:!1,groupable:!1,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:!1,reorderable:!1,columnMenu:!1,detailTemplate:null,columnResizeHandleWidth:3},destroy:function(){var element,that=this;Widget.fn.destroy.call(that),that.pager&&that.pager.destroy(),that.groupable&&that.groupable.destroy(),that.options.reorderable&&that.wrapper.data("kendoReorderable").destroy(),that.resizable&&that.resizable.destroy(),that.virtualScrollable&&that.virtualScrollable.destroy(),that._destroyColumnAttachments(),that._destroyEditable(),that.dataSource.unbind(CHANGE,that._refreshHandler).unbind(PROGRESS,that._progressHandler).unbind(ERROR,that._errorHandler),element=that.element.add(that.wrapper).add(that.table).add(that.thead).add(that.wrapper.find(">.k-grid-toolbar")),that.content&&(element=element.add(that.content).add(that.content.find(">.k-virtual-scrollable-wrap"))),element.off(NS),kendo.destroy(that.wrapper)},setOptions:function(options){var that=this;Widget.fn.setOptions.call(this,options),that._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var that=this;that.resizeHandle=null,that.thead.find("th").each(function(){var th=$(this),filterMenu=th.data("kendoFilterMenu"),sortable=th.data("kendoSortable"),columnMenu=th.data("kendoColumnMenu");filterMenu&&filterMenu.destroy(),sortable&&sortable.destroy(),columnMenu&&columnMenu.destroy()})},_attachCustomCommandsEvent:function(){var command,idx,length,that=this,columns=that.columns||[];for(idx=0,length=columns.length;length>idx;idx++)command=columns[idx].command,command&&attachCustomCommandEvent(that,that.wrapper,command)},_aria:function(){var id=this.element.attr("id")||"aria";id&&(this._cellId=id+"_active_cell")},_element:function(){var that=this,table=that.element;table.is("table")||(table=that.options.scrollable?that.element.find("> .k-grid-content > table"):that.element.children("table"),table.length||(table=$("<table />").appendTo(that.element))),isIE7&&table.attr("cellspacing",0),that.table=table.attr("role",that._hasDetails()?"treegrid":"grid"),that._wrapper()},_positionColumnResizeHandle:function(container){var left,that=this,scrollable=that.options.scrollable,resizeHandle=that.resizeHandle,indicatorWidth=that.options.columnResizeHandleWidth;that.thead.on("mousemove"+NS,"th:not(.k-group-cell,.k-hierarchy-cell)",function(e){var th=$(this),clientX=e.clientX,winScrollLeft=$(window).scrollLeft(),position=th.offset().left+(isRtl?0:this.offsetWidth);if(clientX+winScrollLeft>position-indicatorWidth&&position+indicatorWidth>clientX+winScrollLeft){if(resizeHandle||(resizeHandle=that.resizeHandle=$('<div class="k-resize-handle"/>'),container.append(resizeHandle)),isRtl){var headerWrap=th.closest(".k-grid-header-wrap"),ieCorrection=browser.msie?headerWrap.scrollLeft():0,webkitCorrection=browser.webkit?headerWrap[0].scrollWidth-headerWrap[0].offsetWidth-headerWrap.scrollLeft():0,firefoxCorrection=browser.mozilla?headerWrap[0].scrollWidth-headerWrap[0].offsetWidth-(headerWrap[0].scrollWidth-headerWrap[0].offsetWidth-headerWrap.scrollLeft()):0;left=th.position().left-webkitCorrection+firefoxCorrection-ieCorrection}else left=this.offsetWidth,th.prevAll(":visible").each(function(){left+=this.offsetWidth});resizeHandle.css({top:scrollable?0:heightAboveHeader(that.wrapper),left:left-indicatorWidth,height:th.outerHeight(),width:3*indicatorWidth}).data("th",th).show()}else resizeHandle?resizeHandle.hide():cursor(that.wrapper,"")})},_resizable:function(){var container,columnStart,columnWidth,gridWidth,col,th,that=this,options=that.options;options.resizable&&(container=options.scrollable?that.wrapper.find(".k-grid-header-wrap:first"):that.wrapper,that._positionColumnResizeHandle(container),that.resizable=new ui.Resizable(container,{handle:".k-resize-handle",hint:function(handle){return $('<div class="k-grid-resize-indicator" />').css({height:handle.data("th").outerHeight()+that.tbody.attr("clientHeight")})},start:function(e){th=$(e.currentTarget).data("th");var index=$.inArray(th[0],th.parent().children(":visible")),contentTable=that.tbody.parent(),footer=that.footer||$();cursor(that.wrapper,"col-resize"),col=options.scrollable?that.thead.parent().find("col:eq("+index+")").add(contentTable.children("colgroup").find("col:eq("+index+")")).add(footer.find("colgroup").find("col:eq("+index+")")):contentTable.children("colgroup").find("col:eq("+index+")"),columnStart=e.x.location,columnWidth=th.outerWidth(),gridWidth=that.tbody.outerWidth()},resize:function(e){var rtlMultiplier=isRtl?-1:1,width=columnWidth+e.x.location*rtlMultiplier-columnStart*rtlMultiplier,footer=that.footer||$();width>10&&(col.css("width",width),options.scrollable&&gridWidth&&(that._footerWidth=gridWidth+e.x.location*rtlMultiplier-columnStart*rtlMultiplier,that.tbody.parent().add(that.thead.parent()).add(footer.find("table")).css("width",that._footerWidth)))},resizeend:function(){var column,newWidth=th.outerWidth();cursor(that.wrapper,""),columnWidth!=newWidth&&(column=that.columns[th.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(th)],column.width=newWidth,that.trigger(COLUMNRESIZE,{column:column,oldWidth:columnWidth,newWidth:newWidth})),that.resizeHandle.hide(),th=null}}))},_draggable:function(){var that=this;that.options.reorderable&&(that._draggableInstance&&that._draggableInstance.destroy(),that._draggableInstance=that.wrapper.kendoDraggable({group:kendo.guid(),filter:that.content?".k-grid-header:first "+HEADERCELLS:"table:first>.k-grid-header "+HEADERCELLS,hint:function(target){return $('<div class="k-header k-drag-clue" />').css({width:target.width(),paddingLeft:target.css("paddingLeft"),paddingRight:target.css("paddingRight"),lineHeight:target.height()+"px",paddingTop:target.css("paddingTop"),paddingBottom:target.css("paddingBottom")}).html(target.attr(kendo.attr("title"))||target.attr(kendo.attr("field"))||target.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable"))},_reorderable:function(){var that=this;that.options.reorderable&&that.wrapper.kendoReorderable({draggable:that._draggableInstance,change:function(e){var newIndex=inArray(that.columns[e.newIndex],that.columns),column=that.columns[e.oldIndex];that.trigger(COLUMNREORDER,{newIndex:newIndex,oldIndex:inArray(column,that.columns),column:column}),that.reorderColumn(newIndex,column)}})},reorderColumn:function(destIndex,column){var rows,idx,length,that=this,sourceIndex=inArray(column,that.columns),colSourceIndex=inArray(column,visibleColumns(that.columns)),colDestIndex=inArray(that.columns[destIndex],visibleColumns(that.columns)),footer=that.footer||that.wrapper.find(".k-grid-footer");if(sourceIndex!==destIndex)for(that.columns.splice(sourceIndex,1),that.columns.splice(destIndex,0,column),that._templates(),reorder(that.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),colSourceIndex,colDestIndex),that.options.scrollable&&reorder(that.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),colSourceIndex,colDestIndex),reorder(that.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),sourceIndex,destIndex),footer&&footer.length&&(reorder(footer.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),colSourceIndex,colDestIndex),reorder(footer.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),sourceIndex,destIndex)),rows=that.tbody.children(":not(.k-grouping-row,.k-detail-row)"),idx=0,length=rows.length;length>idx;idx+=1)reorder(rows.eq(idx).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),sourceIndex,destIndex)},cellIndex:function(td){return $(td).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(td)},_modelForContainer:function(container){container=$(container),container.is("tr")||"popup"===this._editMode()||(container=container.closest("tr"));var id=container.attr(kendo.attr("uid"));return this.dataSource.getByUid(id)},_editable:function(){var that=this,selectable=that.selectable&&that.selectable.options.multiple,editable=that.options.editable,handler=function(){var target=activeElement(),cell=that._editContainer;!cell||$.contains(cell[0],target)||cell[0]===target||$(target).closest(".k-animation-container").length||that.editable.end()&&that.closeCell()};if(editable){var mode=that._editMode();"incell"===mode?editable.update!==!1&&that.wrapper.on(CLICK+NS,"tr:not(.k-grouping-row) > td",function(e){var td=$(this);td.hasClass("k-hierarchy-cell")||td.hasClass("k-detail-cell")||td.hasClass("k-group-cell")||td.hasClass("k-edit-cell")||td.has("a.k-grid-delete").length||td.has("button.k-grid-delete").length||td.closest("tbody")[0]!==that.tbody[0]||$(e.target).is(":input")||(that.editable?that.editable.end()&&(selectable&&$(activeElement()).blur(),that.closeCell(),that.editCell(td)):that.editCell(td))}).on("focusin"+NS,function(){clearTimeout(that.timer),that.timer=null}).on("focusout"+NS,function(){that.timer=setTimeout(handler,1)}):editable.update!==!1&&that.wrapper.on(CLICK+NS,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(e){e.preventDefault(),that.editRow($(this).closest("tr"))}),editable.destroy!==!1?that.wrapper.on(CLICK+NS,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(e){e.preventDefault(),e.stopPropagation(),that.removeRow($(this).closest("tr"))}):that.wrapper.on(CLICK+NS,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(e){e.stopPropagation(),that._confirmation()||e.preventDefault()})}},editCell:function(cell){cell=$(cell);var that=this,column=that.columns[that.cellIndex(cell)],model=that._modelForContainer(cell);!model||model.editable&&!model.editable(column.field)||column.command||!column.field||(that._attachModelChange(model),that._editContainer=cell,that.editable=cell.addClass("k-edit-cell").kendoEditable({fields:{field:column.field,format:column.format,editor:column.editor,values:column.values},model:model,change:function(e){that.trigger(SAVE,{values:e.values,container:cell,model:model})&&e.preventDefault()}}).data("kendoEditable"),cell.parent().addClass("k-grid-edit-row"),that.trigger(EDIT,{container:cell,model:model}))},_destroyEditable:function(){var that=this,destroy=function(){that.editable&&(that._detachModelChange(),that.editable.destroy(),that.editable=null,that._editContainer=null)};that.editable&&("popup"===that._editMode()?that._editContainer.data("kendoWindow").bind("deactivate",destroy).close():destroy())},_attachModelChange:function(model){var that=this;that._modelChangeHandler=function(e){that._modelChange({field:e.field,model:this})},model.bind("change",that._modelChangeHandler)},_detachModelChange:function(){var that=this,container=that._editContainer,model=that._modelForContainer(container);model&&model.unbind(CHANGE,that._modelChangeHandler)},closeCell:function(isCancel){var id,column,model,that=this,cell=that._editContainer;cell&&(id=cell.closest("tr").attr(kendo.attr("uid")),model=that.dataSource.getByUid(id),isCancel&&that.trigger("cancel",{container:cell,model:model})||(cell.removeClass("k-edit-cell"),column=that.columns[that.cellIndex(cell)],cell.parent().removeClass("k-grid-edit-row"),that._destroyEditable(),that._displayCell(cell,column,model),cell.hasClass("k-dirty-cell")&&$('<span class="k-dirty"/>').prependTo(cell)))},_displayCell:function(cell,column,dataItem){var that=this,state={storage:{},count:0},settings=extend({},kendo.Template,that.options.templateSettings),tmpl=kendo.template(that._cellTmpl(column,state),settings);state.count>0&&(tmpl=proxy(tmpl,state.storage)),cell.empty().html(tmpl(dataItem))},removeRow:function(row){var model,mode,that=this;that._confirmation()&&(row=$(row).hide(),model=that._modelForContainer(row),model&&!that.trigger(REMOVE,{row:row,model:model})&&(mode=that._editMode(),"incell"!==mode&&that.cancelRow(),that.dataSource.remove(model),("inline"===mode||"popup"===mode)&&that.dataSource.sync()))},_editMode:function(){var mode="incell",editable=this.options.editable;return editable!==!0&&(mode="string"==typeof editable?editable:editable.mode||mode),mode},editRow:function(row){var model,that=this;row instanceof kendo.data.ObservableObject?model=row:(row=$(row),model=that._modelForContainer(row));var container,mode=that._editMode(),navigatable=that.options.navigatable;that.cancelRow(),model&&(that._attachModelChange(model),"popup"===mode?that._createPopupEditor(model):"inline"===mode?that._createInlineEditor(row,model):"incell"===mode&&$(row).children(DATA_CELL).each(function(){var cell=$(this),column=that.columns[cell.index()];return model=that._modelForContainer(cell),model&&(!model.editable||model.editable(column.field))&&column.field?(that.editCell(cell),!1):void 0}),container=that._editContainer,container.on(CLICK+NS,"a.k-grid-cancel",function(e){if(e.preventDefault(),e.stopPropagation(),!that.trigger("cancel",{container:container,model:model})){var currentIndex=that.items().index($(that.current()).parent());that.cancelRow(),navigatable&&(that.current(that.items().eq(currentIndex).children().filter(NAVCELL).first()),focusTable(that.table,!0))}}),container.on(CLICK+NS,"a.k-grid-update",function(e){e.preventDefault(),e.stopPropagation(),that.saveRow()}))},_createPopupEditor:function(model){var column,command,idx,length,tmpl,updateText,cancelText,tempCommand,attr,that=this,html="<div "+kendo.attr("uid")+'="'+model.uid+'" class="k-popup-edit-form"><div class="k-edit-form-container">',fields=[],editable=that.options.editable,template=editable.template,options=isPlainObject(editable)?editable.window:{},settings=extend({},kendo.Template,that.options.templateSettings);if(template)for(typeof template===STRING&&(template=window.unescape(template)),html+=kendo.template(template,settings)(model),idx=0,length=that.columns.length;length>idx;idx++)column=that.columns[idx],column.command&&(tempCommand=getCommand(column.command,"edit"),tempCommand&&(command=tempCommand));else for(idx=0,length=that.columns.length;length>idx;idx++)if(column=that.columns[idx],column.command)column.command&&(tempCommand=getCommand(column.command,"edit"),tempCommand&&(command=tempCommand));else if(html+='<div class="k-edit-label"><label for="'+column.field+'">'+(column.title||column.field||"")+"</label></div>",model.editable&&!model.editable(column.field)||!column.field){var state={storage:{},count:0};tmpl=kendo.template(that._cellTmpl(column,state),settings),state.count>0&&(tmpl=proxy(tmpl,state.storage)),html+='<div class="k-edit-field">'+tmpl(model)+"</div>"}else fields.push({field:column.field,format:column.format,editor:column.editor,values:column.values}),html+="<div "+kendo.attr("container-for")+'="'+column.field+'" class="k-edit-field"></div>';command&&isPlainObject(command)&&(command.text&&isPlainObject(command.text)&&(updateText=command.text.update,cancelText=command.text.cancel),command.attr&&(attr=command.attr)),html+='<div class="k-edit-buttons k-state-default">',html+=that._createButton({name:"update",text:updateText,attr:attr})+that._createButton({name:"canceledit",text:cancelText,attr:attr}),html+="</div></div></div>";var container=that._editContainer=$(html).appendTo(that.wrapper).eq(0).kendoWindow(extend({modal:!0,resizable:!1,draggable:!0,title:"Edit",visible:!1,close:function(e){if(e.userTriggered){if(that.trigger("cancel",{container:container,model:model}))return void e.preventDefault();var currentIndex=that.items().index($(that.current()).parent());that.cancelRow(),that.options.navigatable&&(that.current(that.items().eq(currentIndex).children().filter(NAVCELL).first()),focusTable(that.table,!0))}}},options));that.editable=that._editContainer.kendoEditable({fields:fields,model:model,clearContainer:!1}).data("kendoEditable"),container.data("kendoWindow").center().open(),that.trigger(EDIT,{container:container,model:model})},_createInlineEditor:function(row,model){var column,cell,command,that=this,fields=[];row.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){if(cell=$(this),column=that.columns[that.cellIndex(cell)],column.command||!column.field||model.editable&&!model.editable(column.field)){if(column.command&&(command=getCommand(column.command,"edit"))){cell.empty();var updateText,cancelText,attr;isPlainObject(command)&&(command.text&&isPlainObject(command.text)&&(updateText=command.text.update,cancelText=command.text.cancel),command.attr&&(attr=command.attr)),$(that._createButton({name:"update",text:updateText,attr:attr})+that._createButton({name:"canceledit",text:cancelText,attr:attr})).appendTo(cell)}}else fields.push({field:column.field,format:column.format,editor:column.editor,values:column.values}),cell.attr(kendo.attr("container-for"),column.field),cell.empty()}),that._editContainer=row,that.editable=row.addClass("k-grid-edit-row").kendoEditable({fields:fields,model:model,clearContainer:!1}).data("kendoEditable"),that.trigger(EDIT,{container:row,model:model})},cancelRow:function(){var model,that=this,container=that._editContainer;container&&(model=that._modelForContainer(container),that._destroyEditable(),that.dataSource.cancelChanges(model),that._displayRow("popup"!==that._editMode()?container:that.items().filter("["+kendo.attr("uid")+"="+model.uid+"]")))},saveRow:function(){var that=this,container=that._editContainer,model=that._modelForContainer(container),editable=that.editable;container&&editable&&editable.end()&&!that.trigger(SAVE,{container:container,model:model})&&that.dataSource.sync()},_displayRow:function(row){var that=this,model=that._modelForContainer(row);

model&&row.replaceWith($((row.hasClass("k-alt")?that.altRowTemplate:that.rowTemplate)(model)))},_showMessage:function(text){return window.confirm(text)},_confirmation:function(){var that=this,editable=that.options.editable,confirmation=editable===!0||typeof editable===STRING?DELETECONFIRM:editable.confirmation;return confirmation!==!1&&null!=confirmation?that._showMessage(confirmation):!0},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var that=this;(that.editable&&that.editable.end()||!that.editable)&&!that.trigger(SAVECHANGES)&&that.dataSource.sync()},addRow:function(){var index,that=this,dataSource=that.dataSource,mode=that._editMode(),createAt=that.options.editable.createAt||"",pageSize=dataSource.pageSize(),view=dataSource.view()||[];if(that.editable&&that.editable.end()||!that.editable){"incell"!=mode&&that.cancelRow(),index=dataSource.indexOf(view[0]),"bottom"==createAt.toLowerCase()&&(index+=view.length,pageSize&&!dataSource.options.serverPaging&&pageSize<=view.length&&(index-=1)),0>index&&(index=dataSource.page()>dataSource.totalPages()?(dataSource.page()-1)*pageSize:0);var model=dataSource.insert(index,{}),id=model.uid,row=that.table.find("tr["+kendo.attr("uid")+"="+id+"]"),cell=row.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(that._firstEditableColumnIndex(row));"inline"===mode&&row.length?that.editRow(row):"popup"===mode?that.editRow(model):cell.length&&that.editCell(cell)}},_firstEditableColumnIndex:function(container){var column,idx,length,that=this,columns=that.columns,model=that._modelForContainer(container);for(idx=0,length=columns.length;length>idx;idx++)if(column=columns[idx],model&&(!model.editable||model.editable(column.field))&&!column.command&&column.field)return idx;return-1},_toolbar:function(){var container,that=this,wrapper=that.wrapper,toolbar=that.options.toolbar,editable=that.options.editable;toolbar&&(container=that.wrapper.find(".k-grid-toolbar"),container.length||(isFunction(toolbar)||(toolbar=typeof toolbar===STRING?toolbar:that._toolbarTmpl(toolbar).replace(templateHashRegExp,"\\#"),toolbar=proxy(kendo.template(toolbar),that)),container=$('<div class="k-toolbar k-grid-toolbar" />').html(toolbar({})).prependTo(wrapper)),editable&&editable.create!==!1&&container.on(CLICK+NS,".k-grid-add",function(e){e.preventDefault(),that.addRow()}).on(CLICK+NS,".k-grid-cancel-changes",function(e){e.preventDefault(),that.cancelChanges()}).on(CLICK+NS,".k-grid-save-changes",function(e){e.preventDefault(),that.saveChanges()}))},_toolbarTmpl:function(commands){var idx,length,that=this,html="";if(isArray(commands))for(idx=0,length=commands.length;length>idx;idx++)html+=that._createButton(commands[idx]);return html},_createButton:function(command){var template=command.template||COMMANDBUTTONTMPL,commandName=typeof command===STRING?command:command.name||command.text,className=defaultCommands[commandName]?defaultCommands[commandName].className:"k-grid-"+(commandName||"").replace(/\s/g,""),options={className:className,text:commandName,imageClass:"",attr:"",iconClass:""};if(!(commandName||isPlainObject(command)&&command.template))throw new Error("Custom commands should have name specified");return isPlainObject(command)?(command.className&&(command.className+=" "+options.className),"edit"===commandName&&isPlainObject(command.text)&&(command=extend(!0,{},command),command.text=command.text.edit),command.attr&&isPlainObject(command.attr)&&(command.attr=stringifyAttributes(command.attr)),options=extend(!0,options,defaultCommands[commandName],command)):options=extend(!0,options,defaultCommands[commandName]),kendo.template(template)(options)},_hasFooters:function(){var j,cols=this.columns,len=cols.length;for(j=0;len>j;j++)if(""!==cols[j].footerTemplate||""!==cols[j].groupFooterTemplate)return!0;return!1},_groupable:function(){var that=this;that._groupableClickHandler?that.table.off(CLICK+NS,that._groupableClickHandler):that._groupableClickHandler=function(e){var element=$(this),group=element.closest("tr");element.hasClass("k-i-collapse")?that.collapseGroup(group):that.expandGroup(group),e.preventDefault(),e.stopPropagation()},that.table.on(CLICK+NS,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",that._groupableClickHandler),that._attachGroupable()},_attachGroupable:function(){var that=this,wrapper=that.wrapper,groupable=that.options.groupable;groupable&&(wrapper.has("div.k-grouping-header")[0]||$("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(wrapper),that.groupable&&that.groupable.destroy(),that.groupable=new Groupable(wrapper,extend({},groupable,{draggable:that._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:that.dataSource,draggableElements:that.content?".k-grid-header:first "+GROUPINGDRAGGABLES:"table:first>.k-grid-header "+GROUPINGDRAGGABLES,filter:that.content?".k-grid-header:first "+GROUPINGFILTER:"table:first>.k-grid-header "+GROUPINGFILTER,allowDrag:that.options.reorderable})))},_selectable:function(){var multi,cell,that=this,notString=[],selectable=that.options.selectable;selectable&&(multi=typeof selectable===STRING&&selectable.toLowerCase().indexOf("multiple")>-1,cell=typeof selectable===STRING&&selectable.toLowerCase().indexOf("cell")>-1,that._hasDetails()&&(notString[notString.length]=".k-detail-row"),(that.options.groupable||that._hasFooters())&&(notString[notString.length]=".k-grouping-row,.k-group-footer"),notString=notString.join(","),""!==notString&&(notString=":not("+notString+")"),that.selectable=new kendo.ui.Selectable(that.table,{filter:">"+(cell?SELECTION_CELL_SELECTOR:"tbody>tr"+notString),aria:!0,multiple:multi,change:function(){that.trigger(CHANGE)}}),that.options.navigatable&&that.table.on("keydown"+NS,function(e){var current=that.current();if(e.keyCode===keys.SPACEBAR&&e.target==that.table[0]&&!current.is(".k-edit-cell,.k-header")&&current.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){if(e.preventDefault(),e.stopPropagation(),current=cell?current:current.parent(),multi)if(e.ctrlKey){if(current.hasClass(SELECTED))return current.removeClass(SELECTED),void that.trigger(CHANGE)}else that.selectable.clear();else that.selectable.clear();that.selectable.value(current)}}))},clearSelection:function(){var that=this;that.selectable.clear(),that.trigger(CHANGE)},select:function(items){var that=this,selectable=that.selectable;return items=$(items),items.length?(selectable.options.multiple||(selectable.clear(),items=items.first()),void selectable.value(items)):selectable.value()},current:function(element){var that=this,scrollable=that.options.scrollable,current=that._current,table=that.table.add(that.thead.parent());return element!==undefined&&element.length&&(current&&current[0]===element[0]||(current&&(current.removeClass(FOCUSED).removeAttr("id"),table.removeAttr("aria-activedescendant")),element.attr("id",that._cellId),that._current=element.addClass(FOCUSED),table.attr("aria-activedescendant",that._cellId),element.length&&scrollable&&($.contains(that.content[0],element[0])&&that._scrollTo(element.parent()[0],that.content[0]),scrollable.virtual?that._scrollTo(element[0],that.content.find(">.k-virtual-scrollable-wrap")[0]):that._scrollTo(element[0],that.content[0])))),that._current},_removeCurrent:function(){this._current&&(this._current.removeClass(FOCUSED),this._current=null)},_scrollTo:function(element,container){var elementToLowercase=element.tagName.toLowerCase(),isHorizontal="td"===elementToLowercase||"th"===elementToLowercase,elementOffset=element[isHorizontal?"offsetLeft":"offsetTop"],elementOffsetDir=element[isHorizontal?"offsetWidth":"offsetHeight"],containerScroll=container[isHorizontal?"scrollLeft":"scrollTop"],containerOffsetDir=container[isHorizontal?"clientWidth":"clientHeight"],bottomDistance=elementOffset+elementOffsetDir,result=0;result=containerScroll>elementOffset?elementOffset:bottomDistance>containerScroll+containerOffsetDir?containerOffsetDir>=elementOffsetDir?bottomDistance-containerOffsetDir:elementOffset:containerScroll,container[isHorizontal?"scrollLeft":"scrollTop"]=result},_navigatable:function(){var that=this,currentProxy=proxy(that.current,that),table=that.table,headerTable=that.thead.parent(),dataTable=table,isRtl=kendo.support.isRtl(that.element);that.options.navigatable&&(that.options.scrollable&&(dataTable=table.add(headerTable),headerTable.attr(TABINDEX,-1)),headerTable.on("keydown"+NS,function(e){e.altKey&&e.keyCode==keys.DOWN&&(currentProxy().find(".k-grid-filter, .k-header-column-menu").click(),e.stopImmediatePropagation())}).find("a.k-link").attr("tabIndex",-1),table.attr(TABINDEX,math.max(table.attr(TABINDEX)||0,0)).on("mousedown"+NS+" keydown"+NS,".k-detail-cell",function(e){e.target!==e.currentTarget&&e.stopImmediatePropagation()}),dataTable.on(kendo.support.touch?"touchstart"+NS:"mousedown"+NS,NAVROW+">"+NAVCELL,proxy(tableClick,that)).on("focus"+NS,function(){if(!kendo.support.touch){var current=currentProxy();current&&current.is(":visible")?current.addClass(FOCUSED):currentProxy($(this).find(FIRSTNAVITEM)),this==table[0]?(headerTable.attr(TABINDEX,-1),table.attr(TABINDEX,0)):(table.attr(TABINDEX,-1),headerTable.attr(TABINDEX,0))}}).on("focusout"+NS,function(){var current=currentProxy();current&&current.removeClass(FOCUSED)}).on("keydown"+NS,function(e){var active,currentIndex,row,index,tableToFocus,key=e.keyCode,handled=!1,canHandle=!e.isDefaultPrevented()&&!$(e.target).is(":button,a,:input,a>.k-icon"),pageable=that.options.pageable,dataSource=that.dataSource,isInCell="incell"==that._editMode(),shiftKey=e.shiftKey,current=currentProxy();if(current&&current.is("th")&&(canHandle=!0),canHandle&&key==keys.UP)current?(row=current.parent().prevAll(NAVROW).first(),row[0]||(tableToFocus=that.thead.parent(),focusTable(tableToFocus,!0),row=tableToFocus.find(NAVROW).first()),index=current.index(),current=row.children().eq(index),current[0]&&current.is(NAVCELL)||(current=row.children(NAVCELL).first())):current=table.find(FIRSTNAVITEM),handled=!0,currentProxy(current);else if(canHandle&&key==keys.DOWN)current?(row=current.parent().nextAll(NAVROW).first(),!row[0]&&current.is("th")&&(focusTable(that.tbody.parent()),row=that.tbody.find(NAVROW).first()),index=current.index(),current=row.children().eq(index),current[0]&&current.is(NAVCELL)||(current=row.children(NAVCELL).first())):current=table.find(FIRSTNAVITEM),handled=!0,currentProxy(current);else if(canHandle&&key==(isRtl?keys.RIGHT:keys.LEFT))currentProxy(current?current.prevAll(DATA_CELL+":first"):table.find(FIRSTNAVITEM)),handled=!0;else if(canHandle&&key==(isRtl?keys.LEFT:keys.RIGHT))current?current.next()[0]&&(current=current.nextAll(DATA_CELL+":first")):current=table.find(FIRSTNAVITEM),handled=!0,currentProxy(current);else if(canHandle&&pageable&&keys.PAGEDOWN==key)dataSource.page(dataSource.page()+1),handled=!0;else if(canHandle&&pageable&&keys.PAGEUP==key)dataSource.page(dataSource.page()-1),handled=!0;else if(key==keys.ENTER||keys.F2==key)if(current=current?current:table.find(FIRSTNAVITEM),current.is("th"))current.find(".k-link").click(),handled=!0;else if(current.parent().is(".k-master-row,.k-grouping-row"))current.parent().find(".k-icon:first").click(),handled=!0;else{var focusable=current.find(":focusable:first");if(!current.hasClass("k-edit-cell")&&focusable[0]&&current.hasClass("k-state-focused"))focusable.focus(),handled=!0;else if(that.options.editable&&!$(e.target).is(":button,.k-button,textarea")){var container=$(e.target).closest("[role=gridcell]");container[0]||(container=current),that._handleEditing(container),handled=!0}}else if(keys.ESC==key)active=activeElement(),current&&$.contains(current[0],active)&&!current.hasClass("k-edit-cell")&&!current.parent().hasClass("k-grid-edit-row")?(focusTable(that.table[0],!0),handled=!0):!that._editContainer||current&&!that._editContainer.has(current[0])&&current[0]!==that._editContainer[0]||(isInCell?that.closeCell(!0):(currentIndex=that.items().index($(current).parent()),active&&active.blur(),that.cancelRow(),currentIndex>=0&&that.current(that.items().eq(currentIndex).children().filter(NAVCELL).first())),browser.msie&&browser.version<9&&document.body.focus(),focusTable(table,!0),handled=!0);else if(keys.TAB==key){var cell;current=$(current),that.options.editable&&isInCell&&(cell=$(activeElement()).closest(".k-edit-cell"),cell[0]&&cell[0]!==current[0]&&(current=cell)),cell=shiftKey?current.prevAll(DATA_CELL+":first"):current.nextAll(":visible:first"),cell.length||(cell=current.parent()[shiftKey?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(DATA_CELL+(shiftKey?":last":":first"))),!current.is("th")&&cell.length&&that.options.editable&&isInCell&&(that._handleEditing(current,cell),handled=!0)}handled&&(e.preventDefault(),e.stopPropagation())}))},_handleEditing:function(current,next){var focusable,isEdited,that=this,active=$(activeElement()),mode=that._editMode(),isIE=browser.msie,oldIE=isIE&&browser.version<9,editContainer=that._editContainer;if(isEdited="incell"==mode?current.hasClass("k-edit-cell"):current.parent().hasClass("k-grid-edit-row"),that.editable){if($.contains(editContainer[0],active[0])&&(browser.opera||oldIE?active.change().triggerHandler("blur"):(active.blur(),isIE&&active.blur())),!that.editable)return void focusTable(that.table);if(!that.editable.end())return that.current("incell"==mode?editContainer:editContainer.children().filter(DATA_CELL).first()),focusable=editContainer.find(":focusable:first")[0],void(focusable&&focusable.focus());"incell"==mode?that.closeCell():(that.saveRow(),isEdited=!0)}next&&that.current(next),oldIE&&document.body.focus(),focusTable(that.table,!0),(!isEdited&&!next||next)&&("incell"==mode?that.editCell(that.current()):that.editRow(that.current().parent()))},_wrapper:function(){var that=this,table=that.table,height=that.options.height,wrapper=that.element;wrapper.is("div")||(wrapper=wrapper.wrap("<div/>").parent()),that.wrapper=wrapper.addClass("k-grid k-widget k-secondary"),height&&(that.wrapper.css(HEIGHT,height),table.css(HEIGHT,"auto"))},_tbody:function(){var tbody,that=this,table=that.table;tbody=table.find(">tbody"),tbody.length||(tbody=$("<tbody/>").appendTo(table)),that.tbody=tbody},_scrollable:function(){var header,table,that=this,options=that.options,scrollable=options.scrollable,hasVirtualScroll=scrollable!==!0&&scrollable.virtual&&!that.virtualScrollable,scrollbar=!kendo.support.kineticScrollNeeded||hasVirtualScroll?kendo.support.scrollbar():0;if(scrollable){header=that.wrapper.children(".k-grid-header"),header[0]||(header=$('<div class="k-grid-header" />').insertBefore(that.table)),header.css(isRtl?"padding-left":"padding-right",scrollable.virtual?scrollbar+1:scrollbar),table=$('<table role="grid" />'),isIE7&&table.attr("cellspacing",0),table.append(that.thead),header.empty().append($('<div class="k-grid-header-wrap" />').append(table)),that.content=that.table.parent(),that.content.is(".k-virtual-scrollable-wrap")&&(that.content=that.content.parent()),that.content.is(".k-grid-content, .k-virtual-scrollable-wrap")||(that.content=that.table.wrap('<div class="k-grid-content" />').parent()),hasVirtualScroll&&(that.virtualScrollable=new VirtualScrollable(that.content,{dataSource:that.dataSource,itemHeight:proxy(that._averageRowHeight,that)})),that.scrollables=header.children(".k-grid-header-wrap");var footer=that.wrapper.find(".k-grid-footer"),webKitRtlCorrection=isRtl&&browser.webkit?scrollbar:0;if(footer.length&&(that.scrollables=that.scrollables.add(footer.children(".k-grid-footer-wrap"))),scrollable.virtual)that.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+NS,function(){that.scrollables.scrollLeft(this.scrollLeft+webKitRtlCorrection)});else{that.content.bind("scroll"+NS,function(){that.scrollables.scrollLeft(this.scrollLeft+webKitRtlCorrection)});var touchScroller=kendo.touchScroller(that.content);touchScroller&&touchScroller.movable&&touchScroller.movable.bind("change",function(e){that.scrollables.scrollLeft(-e.sender.x)})}}},_setContentHeight:function(){var that=this,options=that.options,height=that.wrapper.innerHeight(),header=that.wrapper.children(".k-grid-header"),scrollbar=kendo.support.scrollbar();if(options.scrollable){height-=header.outerHeight(),that.pager&&(height-=that.pager.element.outerHeight()),options.groupable&&(height-=that.wrapper.children(".k-grouping-header").outerHeight()),options.toolbar&&(height-=that.wrapper.children(".k-grid-toolbar").outerHeight()),that.footerTemplate&&(height-=that.wrapper.children(".k-grid-footer").outerHeight());var isGridHeightSet=function(el){var initialHeight,newHeight;return el[0].style.height?!0:(initialHeight=el.height(),el.height("auto"),newHeight=el.height(),initialHeight!=newHeight?(el.height(""),!0):(el.height(""),!1))};isGridHeightSet(that.wrapper)&&that.content.height(height>2*scrollbar?height:2*scrollbar+1)}},_averageRowHeight:function(){var that=this,rowHeight=that._rowHeight;that._rowHeight||(that._rowHeight=rowHeight=that.table.outerHeight()/that.items().length,that._sum=rowHeight,that._measures=1);var currentRowHeight=that.table.outerHeight()/that.items().length;return rowHeight!==currentRowHeight&&(that._measures++,that._sum+=currentRowHeight,that._rowHeight=that._sum/that._measures),rowHeight},_dataSource:function(){var pageable,that=this,options=that.options,dataSource=options.dataSource;dataSource=isArray(dataSource)?{data:dataSource}:dataSource,isPlainObject(dataSource)&&(extend(dataSource,{table:that.table,fields:that.columns}),pageable=options.pageable,isPlainObject(pageable)&&pageable.pageSize!==undefined&&(dataSource.pageSize=pageable.pageSize)),that.dataSource&&that._refreshHandler?that.dataSource.unbind(CHANGE,that._refreshHandler).unbind(PROGRESS,that._progressHandler).unbind(ERROR,that._errorHandler):(that._refreshHandler=proxy(that.refresh,that),that._progressHandler=proxy(that._requestStart,that),that._errorHandler=proxy(that._error,that)),that.dataSource=DataSource.create(dataSource).bind(CHANGE,that._refreshHandler).bind(PROGRESS,that._progressHandler).bind(ERROR,that._errorHandler)},_error:function(){this._progress(!1)},_requestStart:function(){this._progress(!0)},_modelChange:function(e){var cell,column,tmp,length,that=this,model=e.model,row=that.tbody.find("tr["+kendo.attr("uid")+"="+model.uid+"]"),isAlt=row.hasClass("k-alt"),idx=that.items().index(row);if(row.children(".k-edit-cell").length&&!that.options.rowTemplate)row.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){cell=$(this),column=that.columns[that.cellIndex(cell)],column.field===e.field&&(cell.hasClass("k-edit-cell")?cell.addClass("k-dirty-cell"):(that._displayCell(cell,column,model),$('<span class="k-dirty"/>').prependTo(cell)))});else if(!row.hasClass("k-grid-edit-row")){for(tmp=(isAlt?that.altRowTemplate:that.rowTemplate)(model),row.replaceWith(tmp),tmp=that.items().eq(idx),idx=0,length=that.columns.length;length>idx;idx++)column=that.columns[idx],column.field===e.field&&(cell=tmp.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(idx),$('<span class="k-dirty"/>').prependTo(cell));that.trigger("itemChange",{item:tmp,data:model,ns:ui})}},_pageable:function(){var wrapper,that=this,pageable=that.options.pageable;pageable&&(wrapper=that.wrapper.children("div.k-grid-pager"),wrapper.length||(wrapper=$('<div class="k-pager-wrap k-grid-pager"/>').appendTo(that.wrapper)),that.pager&&that.pager.destroy(),that.pager="object"==typeof pageable&&pageable instanceof kendo.ui.Pager?pageable:new kendo.ui.Pager(wrapper,extend({},pageable,{dataSource:that.dataSource})))},_footer:function(){var footerWrap,that=this,aggregates=that.dataSource.aggregates(),html="",footerTemplate=that.footerTemplate,options=that.options,footer=that.footer||that.wrapper.find(".k-grid-footer");if(footerTemplate)if(aggregates=isEmptyObject(aggregates)?buildEmptyAggregatesObject(that.dataSource.aggregate()):aggregates,html=$(that._wrapFooter(footerTemplate(aggregates))),footer.length){var tmp=html;footer.replaceWith(tmp),footer=that.footer=tmp}else footer=that.footer=options.scrollable?options.pageable?html.insertBefore(that.wrapper.children("div.k-grid-pager")):html.appendTo(that.wrapper):html.insertBefore(that.tbody);else footer&&!that.footer&&(that.footer=footer);footer.length&&(options.scrollable&&(footerWrap=footer.attr("tabindex",-1).children(".k-grid-footer-wrap"),that.scrollables=that.scrollables.not(".k-grid-footer-wrap").add(footerWrap)),that._footerWidth&&footer.find("table").css("width",that._footerWidth),footerWrap&&footerWrap.scrollLeft(that.content.scrollLeft()))},_wrapFooter:function(footerRow){var that=this,html="",scrollbar=kendo.support.mobileOS?0:kendo.support.scrollbar();return that.options.scrollable?(html=$('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table'+(isIE7?' cellspacing="0"':"")+"><tbody>"+footerRow+"</tbody></table></div></div>"),that._appendCols(html.find("table")),html.css(isRtl?"padding-left":"padding-right",scrollbar),html):'<tfoot class="k-grid-footer">'+footerRow+"</tfoot>"},_columnMenu:function(){var menu,column,menuOptions,sortable,filterable,cell,that=this,columns=that.columns,options=that.options,columnMenu=options.columnMenu,closeCallback=function(){focusTable(that.thead.parent(),!0)},initCallback=function(e){that.trigger(COLUMNMENUINIT,{field:e.field,container:e.container})};columnMenu&&("boolean"==typeof columnMenu&&(columnMenu={}),that.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(index){column=columns[index],cell=$(this),column.command||!column.field&&!cell.attr("data-"+kendo.ns+"field")||(menu=cell.data("kendoColumnMenu"),menu&&menu.destroy(),sortable=column.sortable!==!1&&columnMenu.sortable!==!1?options.sortable:!1,filterable=options.filterable&&column.filterable!==!1&&columnMenu.filterable!==!1?extend({},column.filterable,options.filterable):!1,menuOptions={dataSource:that.dataSource,values:column.values,columns:columnMenu.columns,sortable:sortable,filterable:filterable,messages:columnMenu.messages,owner:that,closeCallback:closeCallback,init:initCallback},cell.kendoColumnMenu(menuOptions))}))},_filterable:function(){var cell,filterMenu,that=this,columns=that.columns,closeCallback=function(){focusTable(that.thead.parent(),!0)},filterable=that.options.filterable;filterable&&!that.options.columnMenu&&that.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(index){if(cell=$(this),columns[index].filterable!==!1&&!columns[index].command&&(columns[index].field||cell.attr("data-"+kendo.ns+"field"))){filterMenu=cell.data("kendoFilterMenu"),filterMenu&&filterMenu.destroy();var columnFilterable=columns[index].filterable,options=extend({},filterable,columnFilterable,{dataSource:that.dataSource,values:columns[index].values,closeCallback:closeCallback,init:function(e){that.trigger(FILTERMENUINIT,{field:e.field,container:e.container})}});columnFilterable&&columnFilterable.messages&&(options.messages=extend(!0,{},filterable.messages,columnFilterable.messages)),cell.kendoFilterMenu(options)}})},_sortable:function(){var column,cell,sortableInstance,that=this,columns=that.columns,sortable=that.options.sortable;sortable&&that.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(index){column=columns[index],column.sortable!==!1&&!column.command&&column.field&&(cell=$(this),sortableInstance=cell.data("kendoSortable"),sortableInstance&&sortableInstance.destroy(),cell.attr("data-"+kendo.ns+"field",column.field).kendoSortable(extend({},sortable,column.sortable,{dataSource:that.dataSource,aria:!0})))})},_columns:function(columns){var encoded,that=this,table=that.table,cols=table.find("col"),dataSource=that.options.dataSource;columns=columns.length?columns:map(table.find("th"),function(th,idx){th=$(th);var sortable=th.attr(kendo.attr("sortable")),filterable=th.attr(kendo.attr("filterable")),type=th.attr(kendo.attr("type")),groupable=th.attr(kendo.attr("groupable")),field=th.attr(kendo.attr("field")),menu=th.attr(kendo.attr("menu"));return field||(field=th.text().replace(/\s|[^A-z0-9]/g,"")),{field:field,type:type,sortable:"false"!==sortable,filterable:"false"!==filterable,groupable:"false"!==groupable,menu:menu,template:th.attr(kendo.attr("template")),width:cols.eq(idx).css("width")}}),encoded=!(that.table.find("tbody tr").length>0&&(!dataSource||!dataSource.transport)),that.columns=map(columns,function(column){return column=typeof column===STRING?{field:column}:column,column.hidden&&(column.attributes=addHiddenStyle(column.attributes),column.footerAttributes=addHiddenStyle(column.footerAttributes),column.headerAttributes=addHiddenStyle(column.headerAttributes)),extend({encoded:encoded},column)})},_groups:function(){var group=this.dataSource.group();return group?group.length:0},_tmpl:function(rowTemplate,alt){var idx,template,column,type,that=this,settings=extend({},kendo.Template,that.options.templateSettings),length=that.columns.length,state={storage:{},count:0},hasDetails=that._hasDetails(),className=[],groups=that._groups();if(!rowTemplate){for(rowTemplate="<tr",alt&&className.push("k-alt"),hasDetails&&className.push("k-master-row"),className.length&&(rowTemplate+=' class="'+className.join(" ")+'"'),length&&(rowTemplate+=" "+kendo.attr("uid")+'="#='+kendo.expr("uid",settings.paramName)+'#"'),rowTemplate+=" role='row'>",groups>0&&(rowTemplate+=groupCells(groups)),hasDetails&&(rowTemplate+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'),idx=0;length>idx;idx++)column=that.columns[idx],template=column.template,type=typeof template,rowTemplate+="<td"+stringifyAttributes(column.attributes)+" role='gridcell'>",rowTemplate+=that._cellTmpl(column,state),rowTemplate+="</td>";rowTemplate+="</tr>"}return rowTemplate=kendo.template(rowTemplate,settings),state.count>0?proxy(rowTemplate,state.storage):rowTemplate},_headerCellText:function(column){var that=this,settings=extend({},kendo.Template,that.options.templateSettings),template=column.headerTemplate,type=typeof template,text=column.title||column.field||"";return type===FUNCTION?text=kendo.template(template,settings)({}):type===STRING&&(text=template),text},_cellTmpl:function(column,state){var idx,length,that=this,settings=extend({},kendo.Template,that.options.templateSettings),template=column.template,paramName=settings.paramName,field=column.field,html="",format=column.format,type=typeof template,columnValues=column.values;if(column.command){if(isArray(column.command)){for(idx=0,length=column.command.length;length>idx;idx++)html+=that._createButton(column.command[idx]);return html.replace(templateHashRegExp,"\\#")}return that._createButton(column.command).replace(templateHashRegExp,"\\#")}return type===FUNCTION?(state.storage["tmpl"+state.count]=template,html+="#=this.tmpl"+state.count+"("+paramName+")#",state.count++):type===STRING?html+=template:columnValues&&columnValues.length&&isPlainObject(columnValues[0])&&"value"in columnValues[0]&&field?(html+="#var v ="+kendo.stringify(convertToObject(columnValues))+"#",html+="#var f = v[",settings.useWithBlock||(html+=paramName+"."),html+=field+"]#",html+="${f != null ? f : ''}"):(html+=column.encoded?"#:":"#=",format&&(html+='kendo.format("'+format.replace(formatRegExp,"\\$1")+'",'),field?(field=kendo.expr(field,paramName),html+=field+"==null?'':"+field):html+="''",format&&(html+=")"),html+="#"),html},_templates:function(){var that=this,options=that.options,dataSource=that.dataSource,groups=dataSource.group(),footer=that.footer||that.wrapper.find(".k-grid-footer"),aggregates=dataSource.aggregate();that.rowTemplate=that._tmpl(options.rowTemplate),that.altRowTemplate=that._tmpl(options.altRowTemplate||options.rowTemplate,!0),that._hasDetails()&&(that.detailTemplate=that._detailTmpl(options.detailTemplate||"")),(that._group&&!isEmptyObject(aggregates)||!isEmptyObject(aggregates)&&!footer.length||grep(that.columns,function(column){return column.footerTemplate}).length)&&(that.footerTemplate=that._footerTmpl(aggregates,"footerTemplate","k-footer-template")),groups&&grep(that.columns,function(column){return column.groupFooterTemplate}).length&&(aggregates=$.map(groups,function(g){return g.aggregates}),that.groupFooterTemplate=that._footerTmpl(aggregates,"groupFooterTemplate","k-group-footer"))},_footerTmpl:function(aggregates,templateName,rowClass){var idx,length,template,type,column,that=this,settings=extend({},kendo.Template,that.options.templateSettings),paramName=settings.paramName,html="",columns=that.columns,storage={},count=0,scope={},groups=that._groups(),fieldsMap=buildEmptyAggregatesObject(aggregates);for(html+='<tr class="'+rowClass+'">',groups>0&&(html+=groupCells(groups)),that._hasDetails()&&(html+='<td class="k-hierarchy-cell">&nbsp;</td>'),idx=0,length=that.columns.length;length>idx;idx++)column=columns[idx],template=column[templateName],type=typeof template,html+="<td"+stringifyAttributes(column.footerAttributes)+">",template?(type!==FUNCTION&&(scope=fieldsMap[column.field]?extend({},settings,{paramName:paramName+"."+column.field}):{},template=kendo.template(template,scope)),storage["tmpl"+count]=template,html+="#=this.tmpl"+count+"("+paramName+")#",count++):html+="&nbsp;",html+="</td>";return html+="</tr>",html=kendo.template(html,settings),count>0?proxy(html,storage):html},_detailTmpl:function(template){var that=this,html="",settings=extend({},kendo.Template,that.options.templateSettings),paramName=settings.paramName,templateFunctionStorage={},templateFunctionCount=0,groups=that._groups(),colspan=visibleColumns(that.columns).length,type=typeof template;return html+='<tr class="k-detail-row">',groups>0&&(html+=groupCells(groups)),html+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(colspan?' colspan="'+colspan+'"':"")+">",type===FUNCTION?(templateFunctionStorage["tmpl"+templateFunctionCount]=template,html+="#=this.tmpl"+templateFunctionCount+"("+paramName+")#",templateFunctionCount++):html+=template,html+="</td></tr>",html=kendo.template(html,settings),templateFunctionCount>0?proxy(html,templateFunctionStorage):html},_hasDetails:function(){var that=this;return null!==that.options.detailTemplate||(that._events[DETAILINIT]||[]).length},_details:function(){var that=this;that.table.on(CLICK+NS,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(e){var detailRow,data,button=$(this),expanding=button.hasClass("k-plus"),masterRow=button.closest("tr.k-master-row"),detailTemplate=that.detailTemplate,hasDetails=that._hasDetails();return button.toggleClass("k-plus",!expanding).toggleClass("k-minus",expanding),hasDetails&&!masterRow.next().hasClass("k-detail-row")&&(data=that.dataItem(masterRow),$(detailTemplate(data)).addClass(masterRow.hasClass("k-alt")?"k-alt":"").insertAfter(masterRow),that.trigger(DETAILINIT,{masterRow:masterRow,detailRow:masterRow.next(),data:data,detailCell:masterRow.next().find(".k-detail-cell")})),detailRow=masterRow.next(),that.trigger(expanding?DETAILEXPAND:DETAILCOLLAPSE,{masterRow:masterRow,detailRow:detailRow}),detailRow.toggle(expanding),that._current&&that._current.attr("aria-expanded",expanding),e.preventDefault(),!1})},dataItem:function(tr){if(tr=$(tr)[0],!tr)return null;var j,correctIdx,rows=this.tbody.children(),classesRegEx=/k-grouping-row|k-detail-row|k-group-footer/,idx=tr.sectionRowIndex;for(correctIdx=idx,j=0;idx>j;j++)classesRegEx.test(rows[j].className)&&correctIdx--;return this._data[correctIdx]},expandRow:function(tr){$(tr).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(tr){$(tr).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var idx,length,tr,text,th,that=this,columns=that.columns,hasDetails=that._hasDetails()&&columns.length,html="",thead=that.table.find(">thead");if(thead.length||(thead=$("<thead/>").insertBefore(that.tbody)),tr=that.element.find("tr:has(th):first"),tr.length||(tr=thead.children().first(),tr.length||(tr=$("<tr/>"))),tr.children().length)hasDetails&&!tr.find(".k-hierarchy-cell")[0]&&tr.prepend('<th class="k-hierarchy-cell">&nbsp;</th>');
else{for(hasDetails&&(html+='<th class="k-hierarchy-cell">&nbsp;</th>'),idx=0,length=columns.length;length>idx;idx++)th=columns[idx],text=that._headerCellText(th),th.command?html+="<th"+stringifyAttributes(th.headerAttributes)+">"+text+"</th>":(html+="<th role='columnheader' "+kendo.attr("field")+"='"+(th.field||"")+"' ",th.title&&(html+=kendo.attr("title")+'="'+th.title.replace(/'/g,"'")+'" '),th.groupable!==undefined&&(html+=kendo.attr("groupable")+"='"+th.groupable+"' "),th.aggregates&&(html+=kendo.attr("aggregates")+"='"+th.aggregates+"'"),html+=stringifyAttributes(th.headerAttributes),html+=">"+text+"</th>");tr.html(html)}tr.find("th").addClass("k-header"),that.options.scrollable||thead.addClass("k-grid-header"),tr.find("script").remove().end().appendTo(thead),that.thead&&that._destroyColumnAttachments(),that.thead=thead,that._sortable(),that._filterable(),that._scrollable(),that._updateCols(),that._resizable(),that._draggable(),that._reorderable(),that.groupable&&that._attachGroupable(),that._columnMenu()},_updateCols:function(){var that=this;that._appendCols(that.thead.parent().add(that.table))},_appendCols:function(table){var that=this;normalizeCols(table,visibleColumns(that.columns),that._hasDetails(),that._groups())},_autoColumns:function(schema){if(schema&&schema.toJSON){var field,that=this;schema=schema.toJSON();for(field in schema)that.columns.push({field:field});that._thead(),that._templates()}},_rowsHtml:function(data){var idx,length,that=this,html="",rowTemplate=that.rowTemplate,altRowTemplate=that.altRowTemplate;for(idx=0,length=data.length;length>idx;idx++)html+=idx%2?altRowTemplate(data[idx]):rowTemplate(data[idx]),that._data.push(data[idx]);return html},_groupRowHtml:function(group,colspan,level){var idx,length,that=this,html="",field=group.field,column=grep(that.columns,function(column){return column.field==field})[0]||{},template=column.groupHeaderTemplate,text=(column.title||field)+": "+formatGroupValue(group.value,column.format,column.values),data=extend({},{field:group.field,value:group.value},group.aggregates[group.field]),footerDefaults=that._groupAggregatesDefaultObject||{},groupItems=group.items;if(template&&(text=typeof template===FUNCTION?template(data):kendo.template(template)(data)),html+='<tr class="k-grouping-row">'+groupCells(level)+'<td colspan="'+colspan+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+text+"</p></td></tr>",group.hasSubgroups)for(idx=0,length=groupItems.length;length>idx;idx++)html+=that._groupRowHtml(groupItems[idx],colspan-1,level+1);else html+=that._rowsHtml(groupItems);return that.groupFooterTemplate&&(html+=that.groupFooterTemplate(extend(footerDefaults,group.aggregates))),html},collapseGroup:function(group){group=$(group).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var offset,tr,level=group.find(".k-group-cell").length,footerCount=1;group.find("td:first").attr("aria-expanded",!1),group.nextAll("tr").each(function(){return tr=$(this),offset=tr.find(".k-group-cell").length,tr.hasClass("k-grouping-row")?footerCount++:tr.hasClass("k-group-footer")&&footerCount--,level>=offset||tr.hasClass("k-group-footer")&&0>footerCount?!1:void tr.hide()})},expandGroup:function(group){group=$(group).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var tr,offset,that=this,level=group.find(".k-group-cell").length,groupsCount=1;group.find("td:first").attr("aria-expanded",!0),group.nextAll("tr").each(function(){return tr=$(this),offset=tr.find(".k-group-cell").length,level>=offset?!1:(offset!=level+1||tr.hasClass("k-detail-row")||(tr.show(),tr.hasClass("k-grouping-row")&&tr.find(".k-icon").hasClass("k-i-collapse")&&that.expandGroup(tr),tr.hasClass("k-master-row")&&tr.find(".k-icon").hasClass("k-minus")&&tr.next().show()),tr.hasClass("k-grouping-row")&&groupsCount++,void(tr.hasClass("k-group-footer")&&(1==groupsCount?tr.show():groupsCount--)))})},_updateHeader:function(groups){var that=this,cells=that.thead.find("th.k-group-cell"),length=cells.length;groups>length?$(new Array(groups-length+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(that.thead.find("tr")):length>groups&&(length-=groups,$(grep(cells,function(item,index){return length>index})).remove())},_firstDataItem:function(data,grouped){return data&&grouped&&(data=data.hasSubgroups?this._firstDataItem(data.items[0],grouped):data.items[0]),data},hideColumn:function(column){var rows,row,cell,tables,idx,cols,colWidth,length,columnIndex,that=this,width=0,footer=that.footer||that.wrapper.find(".k-grid-footer"),columns=that.columns;if(column="number"==typeof column?columns[column]:grep(columns,function(item){return item.field===column})[0],column&&!column.hidden){for(columnIndex=inArray(column,visibleColumns(columns)),column.hidden=!0,column.attributes=addHiddenStyle(column.attributes),column.footerAttributes=addHiddenStyle(column.footerAttributes),column.headerAttributes=addHiddenStyle(column.headerAttributes),that._templates(),that._updateCols(),setCellVisibility(that.thead.find(">tr")[0].cells,columnIndex,!1),footer[0]&&(that._appendCols(footer.find("table:first")),setCellVisibility(footer.find(".k-footer-template")[0].cells,columnIndex,!1)),rows=that.tbody.children(),idx=0,length=rows.length;length>idx;idx+=1)row=rows.eq(idx),row.is(".k-grouping-row,.k-detail-row")?(cell=row.children(":not(.k-group-cell):first,.k-detail-cell").last(),cell.attr("colspan",parseInt(cell.attr("colspan"),10)-1)):(row.hasClass("k-grid-edit-row")&&(cell=row.children(".k-edit-container")[0])&&(cell=$(cell),cell.attr("colspan",parseInt(cell.attr("colspan"),10)-1),cell.find("col").eq(columnIndex).remove(),row=cell.find("tr:first")),setCellVisibility(row[0].cells,columnIndex,!1));for(cols=that.thead.prev().find("col"),idx=0,length=cols.length;length>idx;idx+=1){if(colWidth=cols[idx].style.width,!colWidth||-1!=colWidth.indexOf("%")){width=0;break}width+=parseInt(colWidth,10)}tables=$(">.k-grid-header table:first,>.k-grid-footer table:first",that.wrapper).add(that.table),that._footerWidth=null,width&&(tables.width(width),that._footerWidth=width),browser.msie&&8==browser.version&&(tables.css("display","inline-table"),setTimeout(function(){tables.css("display","table")},1)),that.trigger(COLUMNHIDE,{column:column})}},showColumn:function(column){var rows,idx,length,row,cell,tables,width,colWidth,cols,columnIndex,that=this,columns=that.columns,footer=that.footer||that.wrapper.find(".k-grid-footer");if(column="number"==typeof column?columns[column]:grep(columns,function(item){return item.field===column})[0],column&&column.hidden){for(columnIndex=inArray(column,columns),column.hidden=!1,column.attributes=removeHiddenStyle(column.attributes),column.footerAttributes=removeHiddenStyle(column.footerAttributes),column.headerAttributes=removeHiddenStyle(column.headerAttributes),that._templates(),that._updateCols(),setCellVisibility(that.thead.find(">tr")[0].cells,columnIndex,!0),footer[0]&&(that._appendCols(footer.find("table:first")),setCellVisibility(footer.find(".k-footer-template")[0].cells,columnIndex,!0)),rows=that.tbody.children(),idx=0,length=rows.length;length>idx;idx+=1)row=rows.eq(idx),row.is(".k-grouping-row,.k-detail-row")?(cell=row.children(":not(.k-group-cell):first,.k-detail-cell").last(),cell.attr("colspan",parseInt(cell.attr("colspan"),10)+1)):(row.hasClass("k-grid-edit-row")&&(cell=row.children(".k-edit-container")[0])&&(cell=$(cell),cell.attr("colspan",parseInt(cell.attr("colspan"),10)+1),normalizeCols(cell.find(">form>table"),visibleColumns(columns),!1,0),row=cell.find("tr:first")),setCellVisibility(row[0].cells,columnIndex,!0));if(tables=$(">.k-grid-header table:first,>.k-grid-footer table:first",that.wrapper).add(that.table),column.width){for(width=0,cols=that.thead.prev().find("col"),idx=0,length=cols.length;length>idx;idx+=1){if(colWidth=cols[idx].style.width,colWidth.indexOf("%")>-1){width=0;break}width+=parseInt(colWidth,10)}that._footerWidth=null,width&&(tables.width(width),that._footerWidth=width)}else tables.width("");that.trigger(COLUMNSHOW,{column:column})}},_progress:function(toggle){var that=this,element=that.element.is("table")?that.element.parent():that.content&&that.content.length?that.content:that.element;kendo.ui.progress(element,toggle)},refresh:function(e){var length,idx,tbody,placeholder,currentIndex,active,that=this,html="",data=that.dataSource.view(),navigatable=that.options.navigatable,current=$(that.current()),isCurrentInHeader=!1,groups=(that.dataSource.group()||[]).length,colspan=groups+visibleColumns(that.columns).length;if(!(e&&"itemchange"===e.action&&that.editable||(e=e||{},that.trigger("dataBinding",{action:e.action||"rebind",index:e.index,items:e.items})))){if(active=activeElement(),navigatable&&(that.table[0]===active||$.contains(that.table[0],active)||that._editContainer&&that._editContainer.data("kendoWindow"))&&(isCurrentInHeader=current.is("th"),currentIndex=0,isCurrentInHeader&&(currentIndex=that.thead.find("th:not(.k-group-cell)").index(current))),that._destroyEditable(),that._progress(!1),that._data=[],that.columns.length||(that._autoColumns(that._firstDataItem(data[0],groups)),colspan=groups+that.columns.length),that._group=groups>0||that._group,that._group&&(that._templates(),that._updateCols(),that._updateHeader(groups),that._group=groups>0),groups>0)for(that.detailTemplate&&colspan++,that.groupFooterTemplate&&(that._groupAggregatesDefaultObject=buildEmptyAggregatesObject(that.dataSource.aggregate())),idx=0,length=data.length;length>idx;idx++)html+=that._groupRowHtml(data[idx],colspan,0);else html+=that._rowsHtml(data);tbodySupportsInnerHtml?that.tbody[0].innerHTML=html:(placeholder=document.createElement("div"),placeholder.innerHTML="<table><tbody>"+html+"</tbody></table>",tbody=placeholder.firstChild.firstChild,that.table[0].replaceChild(tbody,that.tbody[0]),that.tbody=$(tbody)),that._footer(),that._setContentHeight(),currentIndex>=0&&(that._removeCurrent(),that.current(isCurrentInHeader?that.thead.find("th:not(.k-group-cell)").eq(currentIndex):that.items().eq(currentIndex).children().filter(DATA_CELL).first()),that._current&&focusTable(that._current.closest("table")[0],!0)),that.trigger(DATABOUND)}}});ui.plugin(Grid),ui.plugin(VirtualScrollable)}(window.kendo.jQuery);
//# sourceMappingURL=bundles.spa-hotness.min.js.map
